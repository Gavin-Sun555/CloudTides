{"version":3,"file":"clr-angular.umd.js","sources":["../../../node_modules/tslib/tslib.es6.js","ng:/@clr/angular/icon/icon.ts","ng:/@clr/angular/icon/icon.module.ts","ng:/@clr/angular/utils/popover/providers/popover-toggle.service.ts","ng:/@clr/angular/utils/popover/providers/popover-events.service.ts","ng:/@clr/angular/utils/popover/enums/viewport-violation.enum.ts","ng:/@clr/angular/utils/popover/enums/alignment.enum.ts","ng:/@clr/angular/utils/popover/position-operators.ts","ng:/@clr/angular/utils/popover/enums/axis.enum.ts","ng:/@clr/angular/utils/popover/providers/popover-position.service.ts","ng:/@clr/angular/utils/popover/popover-content.ts","ng:/@clr/angular/utils/popover/popover-open-close-button.ts","ng:/@clr/angular/utils/popover/popover-close-button.ts","ng:/@clr/angular/utils/popover/popover-anchor.ts","ng:/@clr/angular/utils/popover/popover.module.ts","ng:/@clr/angular/utils/loading/loading-listener.ts","ng:/@clr/angular/utils/loading/loading.ts","ng:/@clr/angular/button/providers/button-in-group.service.ts","ng:/@clr/angular/button/button-group/button.ts","ng:/@clr/angular/utils/i18n/common-strings.default.ts","ng:/@clr/angular/utils/i18n/common-strings.service.ts","ng:/@clr/angular/utils/id-generator/id-generator.service.ts","ng:/@clr/angular/utils/popover/enums/side.enum.ts","ng:/@clr/angular/utils/popover/enums/positions.enum.ts","ng:/@clr/angular/button/button-group/button-group.ts","ng:/@clr/angular/button/button-group/button-group.module.ts","ng:/@clr/angular/button/button-loading/loading-button.ts","ng:/@clr/angular/button/button-loading/loading-button.module.ts","ng:/@clr/angular/button/button.module.ts","ng:/@clr/angular/utils/host-wrapping/empty-anchor.ts","ng:/@clr/angular/utils/host-wrapping/host-wrapping.module.ts","ng:/@clr/angular/forms/common/providers/control-id.service.ts","ng:/@clr/angular/utils/a11y/aria-live.service.ts","ng:/@clr/angular/forms/common/providers/layout.service.ts","ng:/@clr/angular/forms/common/providers/control-class.service.ts","ng:/@clr/angular/forms/common/error.ts","ng:/@clr/angular/forms/common/helper.ts","ng:/@clr/angular/forms/common/providers/ng-control.service.ts","ng:/@clr/angular/forms/common/if-error/if-error.service.ts","ng:/@clr/angular/forms/common/if-error/if-error.ts","ng:/@clr/angular/forms/common/label.ts","ng:/@clr/angular/forms/common/providers/mark-control.service.ts","ng:/@clr/angular/forms/common/form.ts","ng:/@clr/angular/forms/common/layout.ts","ng:/@clr/angular/forms/common/abstract-container.ts","ng:/@clr/angular/forms/common/control-container.ts","ng:/@clr/angular/utils/host-wrapping/host-wrapper.ts","ng:/@clr/angular/forms/common/wrapped-control.ts","ng:/@clr/angular/forms/common/control.ts","ng:/@clr/angular/forms/common/common.module.ts","ng:/@clr/angular/forms/checkbox/checkbox-wrapper.ts","ng:/@clr/angular/forms/checkbox/checkbox.ts","ng:/@clr/angular/forms/checkbox/checkbox-container.ts","ng:/@clr/angular/forms/checkbox/checkbox.module.ts","ng:/@clr/angular/utils/conditional/if-active.service.ts","ng:/@clr/angular/utils/conditional/if-active.directive.ts","ng:/@clr/angular/utils/conditional/if-open.directive.ts","ng:/@clr/angular/utils/conditional/if-expanded.service.ts","ng:/@clr/angular/utils/conditional/if-expanded.directive.ts","ng:/@clr/angular/utils/conditional/conditional.module.ts","ng:/@clr/angular/utils/focus-trap/focus-trap-tracker.service.ts","ng:/@clr/angular/utils/focus-trap/focus-trap.directive.ts","ng:/@clr/angular/utils/focus-trap/focus-trap.module.ts","ng:/@clr/angular/utils/key-codes/key-codes.ts","ng:/@clr/angular/forms/datepicker/utils/constants.ts","ng:/@clr/angular/forms/datepicker/utils/date-utils.ts","ng:/@clr/angular/forms/datepicker/model/day-view.model.ts","ng:/@clr/angular/forms/datepicker/model/day.model.ts","ng:/@clr/angular/forms/datepicker/model/calendar-view.model.ts","ng:/@clr/angular/forms/datepicker/model/calendar.model.ts","ng:/@clr/angular/forms/datepicker/providers/date-navigation.service.ts","ng:/@clr/angular/forms/datepicker/providers/datepicker-focus.service.ts","ng:/@clr/angular/forms/datepicker/providers/locale-helper.service.ts","ng:/@clr/angular/forms/datepicker/providers/date-io.service.ts","ng:/@clr/angular/forms/datepicker/calendar.ts","ng:/@clr/angular/forms/common/providers/focus.service.ts","ng:/@clr/angular/forms/datepicker/providers/date-form-control.service.ts","ng:/@clr/angular/utils/breakpoints/breakpoints.ts","ng:/@clr/angular/forms/datepicker/providers/datepicker-enabled.service.ts","ng:/@clr/angular/forms/datepicker/providers/view-manager.service.ts","ng:/@clr/angular/forms/datepicker/date-container.ts","ng:/@clr/angular/utils/component/is-boolean-attribute-set.ts","ng:/@clr/angular/forms/datepicker/date-input.ts","ng:/@clr/angular/forms/datepicker/datepicker-view-manager.ts","ng:/@clr/angular/forms/datepicker/day.ts","ng:/@clr/angular/forms/datepicker/daypicker.ts","ng:/@clr/angular/forms/datepicker/monthpicker.ts","ng:/@clr/angular/forms/datepicker/model/year-range.model.ts","ng:/@clr/angular/forms/datepicker/yearpicker.ts","ng:/@clr/angular/forms/datepicker/datepicker.module.ts","ng:/@clr/angular/forms/input/input-container.ts","ng:/@clr/angular/forms/input/input.ts","ng:/@clr/angular/forms/input/input.module.ts","ng:/@clr/angular/forms/password/password-container.ts","ng:/@clr/angular/forms/password/password.ts","ng:/@clr/angular/forms/password/password.module.ts","ng:/@clr/angular/forms/radio/radio-wrapper.ts","ng:/@clr/angular/forms/radio/radio.ts","ng:/@clr/angular/forms/radio/radio-container.ts","ng:/@clr/angular/forms/radio/radio.module.ts","ng:/@clr/angular/forms/select/select-container.ts","ng:/@clr/angular/forms/select/select.ts","ng:/@clr/angular/forms/select/select.module.ts","ng:/@clr/angular/forms/textarea/textarea-container.ts","ng:/@clr/angular/forms/textarea/textarea.ts","ng:/@clr/angular/forms/textarea/textarea.module.ts","ng:/@clr/angular/forms/range/range-container.ts","ng:/@clr/angular/forms/range/range.ts","ng:/@clr/angular/forms/range/range.module.ts","ng:/@clr/angular/forms/datalist/providers/datalist-id.service.ts","ng:/@clr/angular/forms/datalist/datalist-container.ts","ng:/@clr/angular/forms/datalist/datalist-input.ts","ng:/@clr/angular/forms/datalist/datalist.ts","ng:/@clr/angular/forms/datalist/datalist.module.ts","ng:/@clr/angular/forms/forms.module.ts","ng:/@clr/angular/utils/loading/loading.module.ts","ng:/@clr/angular/utils/outside-click/outside-click.ts","ng:/@clr/angular/utils/outside-click/index.ts","ng:/@clr/angular/utils/outside-click/outside-click.module.ts","ng:/@clr/angular/utils/dom-adapter/dom-adapter.ts","ng:/@clr/angular/utils/drag-and-drop/drag-event.ts","ng:/@clr/angular/utils/drag-and-drop/interfaces/drag-event.interface.ts","ng:/@clr/angular/utils/drag-and-drop/providers/drag-and-drop-event-bus.service.ts","ng:/@clr/angular/utils/drag-and-drop/providers/drag-event-listener.service.ts","ng:/@clr/angular/utils/drag-and-drop/providers/draggable-snapshot.service.ts","ng:/@clr/angular/utils/drag-and-drop/draggable-ghost.ts","ng:/@clr/angular/utils/drag-and-drop/if-dragged.ts","ng:/@clr/angular/utils/drag-and-drop/providers/drag-handle-registrar.service.ts","ng:/@clr/angular/utils/drag-and-drop/providers/global-drag-mode.service.ts","ng:/@clr/angular/utils/drag-and-drop/draggable/draggable.ts","ng:/@clr/angular/utils/drag-and-drop/droppable/droppable.ts","ng:/@clr/angular/utils/drag-and-drop/drag-handle.ts","ng:/@clr/angular/utils/drag-and-drop/drag-and-drop.module.ts","ng:/@clr/angular/utils/animations/expandable-animation/expandable-animation.ts","ng:/@clr/angular/utils/animations/expandable-animation/index.ts","ng:/@clr/angular/utils/animations/expandable-animation/expandable-animation.module.ts","ng:/@clr/angular/progress/spinner/spinner.ts","ng:/@clr/angular/progress/spinner/spinner.module.ts","ng:/@clr/angular/utils/focus/focus-on-view-init/focus-on-view-init.provider.ts","ng:/@clr/angular/utils/focus/focus-on-view-init/focus-on-view-init.ts","ng:/@clr/angular/utils/focus/focus-on-view-init/focus-on-view-init.module.ts","ng:/@clr/angular/data/datagrid/providers/custom-filter.ts","ng:/@clr/angular/data/datagrid/providers/state-debouncer.provider.ts","ng:/@clr/angular/data/datagrid/providers/page.ts","ng:/@clr/angular/data/datagrid/providers/filters.ts","ng:/@clr/angular/data/datagrid/utils/datagrid-filter-registrar.ts","ng:/@clr/angular/data/datagrid/datagrid-filter.ts","ng:/@clr/angular/data/datagrid/built-in/nested-property.ts","ng:/@clr/angular/data/datagrid/built-in/filters/datagrid-property-string-filter.ts","ng:/@clr/angular/data/datagrid/built-in/filters/datagrid-string-filter-impl.ts","ng:/@clr/angular/data/datagrid/built-in/filters/datagrid-string-filter.ts","ng:/@clr/angular/data/datagrid/built-in/filters/datagrid-property-numeric-filter.ts","ng:/@clr/angular/data/datagrid/built-in/filters/datagrid-numeric-filter-impl.ts","ng:/@clr/angular/data/datagrid/built-in/filters/datagrid-numeric-filter.ts","ng:/@clr/angular/utils/chocolate/oompa-loompa.ts","ng:/@clr/angular/data/datagrid/providers/row-action-service.ts","ng:/@clr/angular/utils/chocolate/willy-wonka.ts","ng:/@clr/angular/data/datagrid/chocolate/datagrid-willy-wonka.ts","ng:/@clr/angular/data/datagrid/chocolate/actionable-oompa-loompa.ts","ng:/@clr/angular/data/datagrid/providers/detail.service.ts","ng:/@clr/angular/data/datagrid/providers/global-expandable-rows.ts","ng:/@clr/angular/data/datagrid/chocolate/expandable-oompa-loompa.ts","ng:/@clr/angular/data/datagrid/built-in/comparators/datagrid-property-comparator.ts","ng:/@clr/angular/data/datagrid/enums/sort-order.enum.ts","ng:/@clr/angular/data/datagrid/providers/sort.ts","ng:/@clr/angular/data/datagrid/wrapped-column.ts","ng:/@clr/angular/data/datagrid/datagrid-column.ts","ng:/@clr/angular/data/datagrid/providers/items.ts","ng:/@clr/angular/data/datagrid/datagrid-items.ts","ng:/@clr/angular/data/datagrid/datagrid-placeholder.ts","ng:/@clr/angular/popover/common/popover-host-anchor.token.ts","ng:/@clr/angular/popover/signpost/providers/signpost-focus-manager.service.ts","ng:/@clr/angular/popover/signpost/providers/signpost-id.service.ts","ng:/@clr/angular/popover/signpost/signpost-trigger.ts","ng:/@clr/angular/popover/signpost/signpost.ts","ng:/@clr/angular/data/datagrid/wrapped-cell.ts","ng:/@clr/angular/data/datagrid/datagrid-cell.ts","ng:/@clr/angular/data/datagrid/enums/display-mode.enum.ts","ng:/@clr/angular/data/datagrid/enums/render-step.enum.ts","ng:/@clr/angular/data/datagrid/render/render-organizer.ts","ng:/@clr/angular/data/datagrid/providers/display-mode.service.ts","ng:/@clr/angular/data/datagrid/enums/selection-type.ts","ng:/@clr/angular/data/datagrid/providers/selection.ts","ng:/@clr/angular/data/datagrid/wrapped-row.ts","ng:/@clr/angular/data/datagrid/datagrid-if-expanded.service.ts","ng:/@clr/angular/data/datagrid/datagrid-row.ts","ng:/@clr/angular/data/datagrid/providers/state.provider.ts","ng:/@clr/angular/data/datagrid/providers/table-size.service.ts","ng:/@clr/angular/data/datagrid/enums/column-changes.enum.ts","ng:/@clr/angular/data/datagrid/providers/columns.service.ts","ng:/@clr/angular/data/datagrid/datagrid.ts","ng:/@clr/angular/data/datagrid/datagrid-action-bar.ts","ng:/@clr/angular/data/datagrid/datagrid-action-overflow.ts","ng:/@clr/angular/data/datagrid/providers/column-resizer.service.ts","ng:/@clr/angular/data/datagrid/datagrid-column-separator.ts","ng:/@clr/angular/data/datagrid/datagrid-column-toggle-title.ts","ng:/@clr/angular/data/datagrid/datagrid-column-toggle-button.ts","ng:/@clr/angular/data/datagrid/datagrid-column-toggle.ts","ng:/@clr/angular/data/datagrid/datagrid-detail-registerer.ts","ng:/@clr/angular/data/datagrid/datagrid-detail-header.ts","ng:/@clr/angular/data/datagrid/datagrid-detail.ts","ng:/@clr/angular/data/datagrid/datagrid-if-detail.ts","ng:/@clr/angular/data/datagrid/datagrid-detail-body.ts","ng:/@clr/angular/data/datagrid/datagrid-footer.ts","ng:/@clr/angular/data/datagrid/providers/column-state.provider.ts","ng:/@clr/angular/data/datagrid/datagrid-hideable-column.ts","ng:/@clr/angular/data/datagrid/datagrid-items-trackby.ts","ng:/@clr/angular/data/datagrid/datagrid-page-size.ts","ng:/@clr/angular/data/datagrid/datagrid-pagination.ts","ng:/@clr/angular/data/datagrid/datagrid-row-detail.ts","ng:/@clr/angular/data/datagrid/render/constants.ts","ng:/@clr/angular/data/datagrid/render/cell-renderer.ts","ng:/@clr/angular/data/datagrid/render/header-renderer.ts","ng:/@clr/angular/data/datagrid/render/noop-dom-adapter.ts","ng:/@clr/angular/data/datagrid/render/row-renderer.ts","ng:/@clr/angular/data/datagrid/render/main-renderer.ts","ng:/@clr/angular/data/datagrid/datagrid.module.ts","ng:/@clr/angular/data/stack-view/stack-block.ts","ng:/@clr/angular/data/stack-view/stack-view.ts","ng:/@clr/angular/data/stack-view/stack-header.ts","ng:/@clr/angular/data/stack-view/stack-control.ts","ng:/@clr/angular/data/stack-view/stack-input.ts","ng:/@clr/angular/data/stack-view/stack-select.ts","ng:/@clr/angular/data/stack-view/stack-view-custom-tags.ts","ng:/@clr/angular/data/stack-view/stack-content-input.ts","ng:/@clr/angular/data/stack-view/stack-view.module.ts","ng:/@clr/angular/utils/enums/key-codes.enum.ts","ng:/@clr/angular/utils/focus/key-focus/util.ts","ng:/@clr/angular/data/tree-view/models/selected-state.enum.ts","ng:/@clr/angular/data/tree-view/models/tree-node.model.ts","ng:/@clr/angular/data/tree-view/models/declarative-tree-node.model.ts","ng:/@clr/angular/data/tree-view/tree-features.service.ts","ng:/@clr/angular/data/tree-view/tree-focus-manager.service.ts","ng:/@clr/angular/data/tree-view/tree-node-link.ts","ng:/@clr/angular/data/tree-view/tree-node.ts","ng:/@clr/angular/data/tree-view/tree.ts","ng:/@clr/angular/data/tree-view/models/async-array.ts","ng:/@clr/angular/data/tree-view/models/recursive-tree-node.model.ts","ng:/@clr/angular/data/tree-view/recursive-for-of.ts","ng:/@clr/angular/data/tree-view/recursive-children.ts","ng:/@clr/angular/data/tree-view/tree-view.module.ts","ng:/@clr/angular/data/data.module.ts","ng:/@clr/angular/utils/focus/focusable-item/focusable-item.ts","ng:/@clr/angular/utils/focus/focusable-item/custom-focusable-item-provider.ts","ng:/@clr/angular/utils/focus/arrow-key-direction.enum.ts","ng:/@clr/angular/utils/focus/focus.service.ts","ng:/@clr/angular/utils/focus/focusable-item/linkers.ts","ng:/@clr/angular/utils/focus/wrap-observable.ts","ng:/@clr/angular/popover/dropdown/providers/dropdown-focus-handler.service.ts","ng:/@clr/angular/popover/dropdown/providers/dropdown.service.ts","ng:/@clr/angular/popover/dropdown/dropdown.ts","ng:/@clr/angular/utils/focus/focusable-item/basic-focusable-item.service.ts","ng:/@clr/angular/popover/dropdown/dropdown-item.ts","ng:/@clr/angular/popover/common/popover.ts","ng:/@clr/angular/popover/common/abstract-popover.ts","ng:/@clr/angular/popover/dropdown/dropdown-menu.ts","ng:/@clr/angular/popover/dropdown/dropdown-trigger.ts","ng:/@clr/angular/popover/dropdown/dropdown.module.ts","ng:/@clr/angular/emphasis/alert/utils/alert-types.ts","ng:/@clr/angular/emphasis/alert/providers/icon-and-types.service.ts","ng:/@clr/angular/emphasis/alert/providers/multi-alert.service.ts","ng:/@clr/angular/emphasis/alert/alert-text.ts","ng:/@clr/angular/emphasis/alert/alert.ts","ng:/@clr/angular/emphasis/alert/alert-item.ts","ng:/@clr/angular/emphasis/alert/alerts.ts","ng:/@clr/angular/emphasis/alert/alerts-pager.ts","ng:/@clr/angular/emphasis/alert/alert.module.ts","ng:/@clr/angular/emphasis/emphasis.module.ts","ng:/@clr/angular/layout/nav/responsive-nav-codes.ts","ng:/@clr/angular/layout/nav/responsive-nav-control-message.ts","ng:/@clr/angular/layout/nav/providers/responsive-navigation.service.ts","ng:/@clr/angular/layout/main-container/main-container.ts","ng:/@clr/angular/layout/main-container/main-container.module.ts","ng:/@clr/angular/layout/nav/chocolate/main-container-willy-wonka.ts","ng:/@clr/angular/layout/nav/chocolate/nav-detection-oompa-loompa.ts","ng:/@clr/angular/layout/nav/header.ts","ng:/@clr/angular/layout/nav/nav-level.ts","ng:/@clr/angular/layout/nav/navigation.module.ts","ng:/@clr/angular/utils/template-ref/template-ref-container.ts","ng:/@clr/angular/utils/template-ref/index.ts","ng:/@clr/angular/utils/template-ref/template-ref.module.ts","ng:/@clr/angular/layout/tabs/chocolate/tabs-willy-wonka.ts","ng:/@clr/angular/layout/tabs/chocolate/active-oompa-loompa.ts","ng:/@clr/angular/layout/tabs/providers/aria.service.ts","ng:/@clr/angular/layout/tabs/enums/tabs-layout.enum.ts","ng:/@clr/angular/layout/tabs/providers/tabs.service.ts","ng:/@clr/angular/layout/tabs/tab-content.ts","ng:/@clr/angular/layout/tabs/tabs-id.provider.ts","ng:/@clr/angular/layout/tabs/tab-link.directive.ts","ng:/@clr/angular/layout/tabs/tab.ts","ng:/@clr/angular/layout/tabs/tab-overflow-content.ts","ng:/@clr/angular/utils/focus/key-focus/enums/focus-direction.enum.ts","ng:/@clr/angular/utils/focus/key-focus/key-focus-item.ts","ng:/@clr/angular/utils/focus/key-focus/key-focus.ts","ng:/@clr/angular/layout/tabs/tabs.ts","ng:/@clr/angular/utils/focus/key-focus/key-focus.module.ts","ng:/@clr/angular/layout/tabs/tabs.module.ts","ng:/@clr/angular/layout/vertical-nav/providers/vertical-nav-group-registration.service.ts","ng:/@clr/angular/layout/vertical-nav/providers/vertical-nav-icon.service.ts","ng:/@clr/angular/layout/vertical-nav/providers/vertical-nav.service.ts","ng:/@clr/angular/layout/vertical-nav/vertical-nav.ts","ng:/@clr/angular/layout/vertical-nav/providers/vertical-nav-group.service.ts","ng:/@clr/angular/layout/vertical-nav/vertical-nav-group.ts","ng:/@clr/angular/layout/vertical-nav/vertical-nav-group-children.ts","ng:/@clr/angular/layout/vertical-nav/vertical-nav-icon.ts","ng:/@clr/angular/layout/vertical-nav/vertical-nav-link.ts","ng:/@clr/angular/layout/vertical-nav/vertical-nav.module.ts","ng:/@clr/angular/layout/layout.module.ts","ng:/@clr/angular/utils/scrolling/scrolling-service.ts","ng:/@clr/angular/modal/modal.ts","ng:/@clr/angular/modal/modal-body.ts","ng:/@clr/angular/modal/modal.module.ts","ng:/@clr/angular/popover/signpost/signpost-positions.ts","ng:/@clr/angular/popover/signpost/signpost-content.ts","ng:/@clr/angular/popover/signpost/signpost.module.ts","ng:/@clr/angular/popover/tooltip/providers/tooltip-id.service.ts","ng:/@clr/angular/popover/tooltip/tooltip.ts","ng:/@clr/angular/popover/tooltip/tooltip-content.ts","ng:/@clr/angular/popover/tooltip/tooltip-trigger.ts","ng:/@clr/angular/popover/tooltip/tooltip.module.ts","ng:/@clr/angular/popover/popover.module.ts","ng:/@clr/angular/wizard/providers/button-hub.service.ts","ng:/@clr/angular/wizard/providers/page-collection.service.ts","ng:/@clr/angular/wizard/providers/wizard-navigation.service.ts","ng:/@clr/angular/wizard/providers/header-actions.service.ts","ng:/@clr/angular/wizard/wizard-header-action.ts","ng:/@clr/angular/wizard/wizard-page-buttons.ts","ng:/@clr/angular/wizard/wizard-page-header-actions.ts","ng:/@clr/angular/wizard/wizard-page-navtitle.ts","ng:/@clr/angular/wizard/wizard-page-title.ts","ng:/@clr/angular/wizard/wizard-page.ts","ng:/@clr/angular/wizard/wizard.ts","ng:/@clr/angular/wizard/wizard-button.ts","ng:/@clr/angular/wizard/wizard-custom-tags.ts","ng:/@clr/angular/wizard/wizard-stepnav.ts","ng:/@clr/angular/wizard/wizard-stepnav-item.ts","ng:/@clr/angular/wizard/wizard.module.ts","ng:/@clr/angular/accordion/enums/accordion-strategy.enum.ts","ng:/@clr/angular/accordion/enums/accordion-status.enum.ts","ng:/@clr/angular/accordion/models/accordion.model.ts","ng:/@clr/angular/accordion/providers/accordion.service.ts","ng:/@clr/angular/utils/animations/constants.ts","ng:/@clr/angular/accordion/utils/animation.ts","ng:/@clr/angular/accordion/accordion-description.ts","ng:/@clr/angular/accordion/accordion-panel.ts","ng:/@clr/angular/accordion/accordion-title.ts","ng:/@clr/angular/accordion/accordion.ts","ng:/@clr/angular/accordion/accordion-content.ts","ng:/@clr/angular/accordion/chocolate/accordion-willy-wonka.ts","ng:/@clr/angular/accordion/chocolate/accordion-oompa-loompa.ts","ng:/@clr/angular/accordion/accordion.module.ts","ng:/@clr/angular/accordion/stepper/models/stepper.model.ts","ng:/@clr/angular/accordion/stepper/providers/stepper.service.ts","ng:/@clr/angular/utils/forms/validation.ts","ng:/@clr/angular/accordion/stepper/stepper-panel.ts","ng:/@clr/angular/accordion/stepper/step-button.ts","ng:/@clr/angular/accordion/stepper/stepper.ts","ng:/@clr/angular/accordion/stepper/chocolate/stepper-willy-wonka.ts","ng:/@clr/angular/accordion/stepper/chocolate/stepper-oompa-loompa.ts","ng:/@clr/angular/accordion/stepper/stepper.module.ts","ng:/@clr/angular/progress/progress-bars/progress-bar.ts","ng:/@clr/angular/progress/progress-bars/progress-bar.module.ts","ng:/@clr/angular/timeline/enums/timeline-layout.enum.ts","ng:/@clr/angular/timeline/enums/timeline-step-state.enum.ts","ng:/@clr/angular/timeline/providers/timeline-icon-attribute.service.ts","ng:/@clr/angular/timeline/timeline.ts","ng:/@clr/angular/timeline/timeline-step-title.ts","ng:/@clr/angular/timeline/timeline-step.ts","ng:/@clr/angular/timeline/timeline-step-description.ts","ng:/@clr/angular/timeline/timeline-step-header.ts","ng:/@clr/angular/timeline/timeline.module.ts","ng:/@clr/angular/clr-angular.module.ts","ng:/@clr/angular/button/button-group/index.ts","ng:/@clr/angular/button/button-loading/index.ts","ng:/@clr/angular/button/index.ts","ng:/@clr/angular/data/datagrid/index.ts","ng:/@clr/angular/data/tree-view/index.ts","ng:/@clr/angular/data/stack-view/index.ts","ng:/@clr/angular/data/index.ts","ng:/@clr/angular/emphasis/alert/index.ts","ng:/@clr/angular/emphasis/index.ts","ng:/@clr/angular/forms/common/index.ts","ng:/@clr/angular/forms/checkbox/index.ts","ng:/@clr/angular/forms/datalist/index.ts","ng:/@clr/angular/forms/datepicker/index.ts","ng:/@clr/angular/forms/input/index.ts","ng:/@clr/angular/forms/password/index.ts","ng:/@clr/angular/forms/radio/index.ts","ng:/@clr/angular/forms/select/index.ts","ng:/@clr/angular/forms/textarea/index.ts","ng:/@clr/angular/forms/range/index.ts","ng:/@clr/angular/forms/index.ts","ng:/@clr/angular/icon/index.ts","ng:/@clr/angular/layout/main-container/index.ts","ng:/@clr/angular/layout/nav/chocolate/index.ts","ng:/@clr/angular/layout/nav/index.ts","ng:/@clr/angular/layout/tabs/index.ts","ng:/@clr/angular/layout/vertical-nav/index.ts","ng:/@clr/angular/layout/index.ts","ng:/@clr/angular/modal/index.ts","ng:/@clr/angular/popover/dropdown/menu-positions.ts","ng:/@clr/angular/popover/dropdown/index.ts","ng:/@clr/angular/popover/signpost/index.ts","ng:/@clr/angular/popover/tooltip/index.ts","ng:/@clr/angular/popover/index.ts","ng:/@clr/angular/utils/animations/collapse/collapse.ts","ng:/@clr/angular/utils/animations/collapse/index.ts","ng:/@clr/angular/utils/animations/fade/fade.ts","ng:/@clr/angular/utils/animations/fade/index.ts","ng:/@clr/angular/utils/animations/fade-slide/fade-slide.ts","ng:/@clr/angular/utils/animations/fade-slide/index.ts","ng:/@clr/angular/utils/animations/slide/slide.ts"],"names":["Directive","NgModule","CommonModule","Subject","Injectable","fromEvent","filter","Renderer2","Inject","DOCUMENT","ClrAlignment","ClrAxis","isPlatformBrowser","PLATFORM_ID","EventEmitter","debounceTime","ViewContainerRef","TemplateRef","Input","Output","HostListener","ElementRef","ClrLoadingState","Optional","SkipSelf","ViewChild","Component","InjectionToken","ClrSide","ContentChildren","trigger","transition","style","animate","keyframes","BehaviorSubject","ClrAriaLivePoliteness","NgZone","HostBinding","ContentChild","ComponentFactoryResolver","startWith","distinctUntilChanged","Type","Injector","NgControl","Self","Attribute","first","getLocaleDayNames","FormStyle","TranslationWidth","getLocaleMonthNames","getLocaleFirstDayOfWeek","getLocaleDateFormat","FormatWidth","LOCALE_ID","of","switchMap","FormsModule","SelectMultipleControlValueAccessor","counter","ChangeDetectorRef","ClrDatagridSortOrder","ChangeDetectionStrategy","NgForOf","IterableDiffers","nbRow","combineLatest","map","ClrSelectedState","state","isObservable","FocusService","Observable","take","ReplaySubject","tokenFactory","POSITIONS","tap","FormControl","FormGroup","FormGroupName","NgModelGroup","ClrStepButtonType","FormGroupDirective","NgForm","declarations","ClrTimelineLayout","ClrTimelineStepState"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Directive } from '@angular/core';\n\n@Directive({ selector: 'clr-icon' })\nexport class ClrIconCustomTag {\n  // No behavior\n  // The only purpose is to \"declare\" the tag in Angular\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule, Type } from '@angular/core';\nimport { ClrIconCustomTag } from './icon';\n\nexport const CLR_ICON_DIRECTIVES: Type<any>[] = [ClrIconCustomTag];\n\n@NgModule({ imports: [CommonModule], declarations: [CLR_ICON_DIRECTIVES], exports: [CLR_ICON_DIRECTIVES] })\nexport class ClrIconModule {}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n *\n */\nimport { Injectable } from '@angular/core';\nimport { Observable, Subject } from 'rxjs';\n\n@Injectable()\nexport class ClrPopoverToggleService {\n  /**\n   *  Popovers might need to ignore click events on an element\n   *  (eg: popover opens on focus on an input field. Clicks should be ignored in this case)\n   */\n  private _open: boolean = false;\n  private _openChange: Subject<boolean> = new Subject<boolean>();\n  private _openEvent: Event;\n  private _openEventChange: Subject<Event> = new Subject<Event>();\n\n  public get openChange(): Observable<boolean> {\n    return this._openChange.asObservable();\n  }\n\n  public set openEvent(event: Event) {\n    this._openEvent = event;\n    this._openEventChange.next(event);\n  }\n\n  public get openEvent(): Event {\n    return this._openEvent;\n  }\n\n  public getEventChange(): Observable<Event> {\n    return this._openEventChange.asObservable();\n  }\n\n  public set open(value: boolean) {\n    value = !!value;\n    if (this._open !== value) {\n      this._open = value;\n      this._openChange.next(value);\n    }\n  }\n\n  public get open(): boolean {\n    return this._open;\n  }\n\n  get originalEvent(): Event {\n    return this._openEvent;\n  }\n\n  /**\n   * Sometimes, we need to remember the event that triggered the toggling to avoid loops.\n   * This is for instance the case of components that open on a click, but close on a click outside.\n   */\n  public toggleWithEvent(event: any) {\n    this.openEvent = event;\n    this.open = !this.open;\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n *\n */\n\nimport { ElementRef, Injectable, Renderer2, Inject, OnDestroy } from '@angular/core';\nimport { ClrPopoverToggleService } from './popover-toggle.service';\nimport { Observable, fromEvent, Subscription } from 'rxjs';\nimport { filter } from 'rxjs/operators';\nimport { DOCUMENT } from '@angular/common';\n\n// https://github.com/angular/angular/issues/20351#issuecomment-344009887\n/** @dynamic */\n@Injectable()\nexport class ClrPopoverEventsService implements OnDestroy {\n  public outsideClickClose = true;\n  public scrollToClose = true;\n  private documentClickListener: () => void;\n  public ignoredEvent: any;\n  private subscriptions: Subscription[] = [];\n\n  constructor(\n    private renderer: Renderer2,\n    private smartOpenService: ClrPopoverToggleService,\n    @Inject(DOCUMENT) private document: HTMLDocument\n  ) {\n    this.subscriptions.push(\n      smartOpenService.openChange.subscribe(open => {\n        if (open) {\n          this.addEscapeListener();\n          this.addClickListener();\n          this.addScrollListener();\n        } else {\n          this.removeAllEventListeners();\n        }\n      }),\n      smartOpenService.getEventChange().subscribe(event => {\n        // Remember the event that was used to open the content\n        this.ignoredEvent = event;\n      })\n    );\n  }\n\n  private scrollSubscription: Subscription;\n  public addScrollListener() {\n    if (this.scrollToClose) {\n      this.documentScroller = fromEvent(this.document, 'scroll', { capture: true });\n      this.scrollSubscription = this.documentScroller\n        .pipe(filter(this.testForSmartPopoverContentContainer))\n        .subscribe(() => {\n          this.smartOpenService.open = false;\n          this.setAnchorFocus();\n        });\n    } else {\n      // I think this is where dynamic re-positioning will be added\n      // Instead of testing like we do in the close pipe below\n      // we need to switch positioning to use an observable and then\n      // debounce the scroll events to recalculate content position in a performant way\n      // For now, ignore scrolling events.\n      return;\n    }\n  }\n\n  public removeScrollListener() {\n    if (this.documentScroller) {\n      this.scrollSubscription.unsubscribe();\n      delete this.documentScroller;\n    }\n  }\n\n  private testForSmartPopoverContentContainer(event: Event): boolean {\n    // Filter for the documentScroller observable event targets\n    let target: Element = <Element>event.target;\n\n    // Walk up the DOM tree until we get to the element that is a direct child of the body.\n    while (target.classList && target.parentElement.localName !== 'body') {\n      target = target.parentElement;\n    }\n\n    // Target is the child element of body where the scroll events originated.\n    // Return false and prevent the popover content container from closing for any scroll events inside a popover\n    // content container.\n    if (target.classList) {\n      // check scroll events to see if they are happening in popover content or elsewhere\n      return target.classList.contains('clr-popover-content') ? false : true;\n    } else {\n      // prevents it from closing right after first opening\n      return false;\n    }\n  }\n\n  public addClickListener() {\n    if (this.outsideClickClose) {\n      this.documentClickListener = this.renderer.listen(this.document, 'click', (event: MouseEvent) => {\n        if (event === this.ignoredEvent) {\n          // Here we ignore the opening click event (w/o this content opens and immediately closes.\n          delete this.ignoredEvent;\n        } else {\n          this.smartOpenService.open = false;\n          // Rather than a complex change to the focus trap I put focus on the element that was clicked\n          const clickedElement: HTMLElement = <HTMLElement>event.target;\n          clickedElement.focus();\n        }\n      });\n    }\n  }\n\n  public removeClickListener() {\n    if (this.outsideClickClose) {\n      delete this.ignoredEvent;\n      if (this.documentClickListener) {\n        this.documentClickListener();\n        delete this.documentClickListener;\n      }\n    }\n  }\n\n  private escapeListener: () => void;\n  public addEscapeListener() {\n    this.escapeListener = this.renderer.listen(this.document, 'keydown.escape', event => {\n      this.smartOpenService.open = false;\n      this.setAnchorFocus();\n    });\n  }\n\n  public removeEscapeListener() {\n    if (this.escapeListener) {\n      this.escapeListener();\n      delete this.escapeListener;\n    }\n  }\n\n  private _anchorButtonRef: ElementRef;\n  public set anchorButtonRef(ref: ElementRef) {\n    this._anchorButtonRef = ref;\n  }\n  public get anchorButtonRef(): ElementRef {\n    return this._anchorButtonRef;\n  }\n\n  private _closeButtonRef: ElementRef;\n  public set closeButtonRef(ref: ElementRef) {\n    this._closeButtonRef = ref;\n  }\n  public get closeButtonRef(): ElementRef {\n    return this._closeButtonRef;\n  }\n\n  public setCloseFocus(): void {\n    this._closeButtonRef.nativeElement.focus();\n  }\n\n  public setAnchorFocus(): void {\n    this.anchorButtonRef.nativeElement.focus();\n  }\n\n  private _contentRef: ElementRef;\n  public set contentRef(host: ElementRef) {\n    this._contentRef = host;\n  }\n  public get contentRef(): ElementRef {\n    return this._contentRef;\n  }\n\n  private documentScroller: Observable<Event>;\n\n  private removeAllEventListeners() {\n    this.removeScrollListener();\n    this.removeClickListener();\n    this.removeEscapeListener();\n  }\n  ngOnDestroy(): void {\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n    this.removeAllEventListeners();\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n *\n */\n\nexport enum ClrViewportViolation {\n  BOTTOM = 0,\n  LEFT = 1,\n  RIGHT = 2,\n  TOP = 3,\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n *\n */\n\nexport enum ClrAlignment {\n  START = 0,\n  CENTER = 0.5,\n  END = 1,\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n *\n */\n\nimport { ClrPopoverPosition } from './interfaces/popover-position.interface';\nimport { ClrPopoverContentOffset } from './interfaces/popover-content-offset.interface';\nimport { ClrViewportViolation } from './enums/viewport-violation.enum';\nimport { ClrVisibilityCoords } from './interfaces/visibility-coords.interface';\nimport { ClrAlignment } from './enums/alignment.enum';\n\n// Put the forward arg here but it is only needed when nudging content or anchors.\nexport type ClrTransform = (position: ClrPopoverPosition, back?: boolean) => ClrPopoverPosition;\n\nexport const flipSides: ClrTransform = position => {\n  return {\n    ...position,\n    side: -1 * position.side,\n  };\n};\n\n// This could be used in more advanced positioning algorithms.\n// flipAxisFlipSideAndNudgeContent(flipAxis, flipSide, nudge, nudgeForward?): ClrTransform {...}\n// I would like to keep it for now.\nexport const flipAxis: ClrTransform = position => {\n  return {\n    ...position,\n    axis: position.axis === 0 ? 1 : 0,\n  };\n};\n\nexport const nudgeContent: ClrTransform = (position, forward) => {\n  const nextAlignment = position.content + (forward ? 0.5 : -0.5);\n  if (nextAlignment < 0 || nextAlignment > 1) {\n    return position;\n  } else {\n    return {\n      ...position,\n      content: nextAlignment,\n    };\n  }\n};\n\nexport function flipSidesAndNudgeContent(flip: ClrTransform, nudge: ClrTransform, nudgeBack?: boolean): ClrTransform {\n  return (position: ClrPopoverPosition): ClrPopoverPosition => nudge(flip(position), nudgeBack);\n}\n\nexport function align(position: ClrPopoverPosition, anchor: ClientRect, content: ClientRect): ClrPopoverContentOffset {\n  let xDiff = anchor.left;\n  let yDiff = anchor.top;\n\n  // When ClrAxis is VERTICAL BEFORE = left, AFTER = right\n  // When ClrAxis is HORIZONTAL BEFORE is top, AFTER is bottom\n  switch (position.axis + position.side) {\n    case -1: {\n      // ClrAxis.VERTICAL + ClrSide.BEFORE\n      xDiff += alignHorizontal(position, anchor, content);\n      yDiff -= content.height; // pull content up to the top of the anchor\n      break;\n    }\n    case 1: {\n      // ClrAxis.VERTICAL + ClrSide.AFTER\n      xDiff += alignHorizontal(position, anchor, content);\n      yDiff += anchor.height; // push the content down to below the anchor\n      break;\n    }\n    case 0: {\n      // ClrAxis.HORIZONTAL + ClrSide.BEFORE\n      xDiff -= content.width; // pull the content left of the anchor\n      yDiff += alignVertical(position, anchor, content);\n      break;\n    }\n    case 2: {\n      // ClrAxis.HORIZONTAL + ClrSide.AFTER\n      xDiff += anchor.width; // push the content right of of the anchor\n      yDiff += alignVertical(position, anchor, content);\n      break;\n    }\n    default: {\n      break;\n    }\n  }\n  return { xOffset: xDiff, yOffset: yDiff };\n}\n\nfunction alignHorizontal(position: ClrPopoverPosition, anchor: ClientRect, content: ClientRect): number {\n  let horizontalOffset = 0;\n  // horizontal offset for the anchor position\n  switch (position.anchor /*calculate for the anchor alignment*/) {\n    case ClrAlignment.START: {\n      // nothing to calculate here\n      break;\n    }\n    case ClrAlignment.CENTER: {\n      horizontalOffset += anchor.width / 2; // push content over 1/2 anchor width\n      break;\n    }\n    case ClrAlignment.END: {\n      horizontalOffset += anchor.width; //  push content over width of the anchor\n      break;\n    }\n    default: {\n      break;\n    }\n  }\n\n  // horizontal offsets for anchor alignment\n  switch (\n    position.content // calculate for the content alignment\n  ) {\n    case ClrAlignment.START: {\n      // Nothing to calculate here\n      break;\n    }\n    case ClrAlignment.CENTER: {\n      horizontalOffset -= content.width / 2; // pull content left by a value of 1/2 content width\n      break;\n    }\n    case ClrAlignment.END: {\n      // subtract the width of currentContent from horizontalOffset to pull it back\n      horizontalOffset -= content.width;\n      break;\n    }\n    default: {\n      break;\n    }\n  }\n\n  return horizontalOffset;\n}\n\nfunction alignVertical(position: ClrPopoverPosition, anchor: ClientRect, content: ClientRect): number {\n  // y axis offsets for anchor alignment\n  let verticalOffset = 0;\n\n  // Calculate y offset for anchor position\n  switch (position.anchor) {\n    case ClrAlignment.START: {\n      // nothing to calculate here\n      break;\n    }\n    case ClrAlignment.CENTER: {\n      verticalOffset += anchor.height / 2; // push content down to the middle of the anchor rect\n      break;\n    }\n    case ClrAlignment.END: {\n      verticalOffset += anchor.height; // push content down to the bottom of the anchor\n      break;\n    }\n    default: {\n      break;\n    }\n  }\n\n  // Calculate y offsets for content alignment\n  switch (position.content) {\n    case ClrAlignment.START: {\n      // aligned to the top of the content rect\n      break;\n    }\n    case ClrAlignment.CENTER: {\n      verticalOffset -= content.height / 2; // pull content back up to the middle of the content rect\n      break;\n    }\n    case ClrAlignment.END: {\n      verticalOffset -= content.height; // pull content back up to the bottom of the content rect\n      break;\n    }\n    default: {\n      break;\n    }\n  }\n  return verticalOffset;\n}\n\nexport function testVisibility(offset: ClrPopoverContentOffset, content: ClientRect): ClrViewportViolation[] {\n  const violations: ClrViewportViolation[] = [];\n  const mockCoords: ClrVisibilityCoords = {\n    bottom: offset.yOffset + content.height,\n    left: offset.xOffset,\n    right: offset.xOffset + content.width,\n    top: offset.yOffset,\n  };\n\n  if (!(mockCoords.top >= 0)) {\n    violations.push(ClrViewportViolation.TOP);\n  }\n  if (!(mockCoords.left >= 0)) {\n    violations.push(ClrViewportViolation.LEFT);\n  }\n  if (!(mockCoords.bottom <= (window.innerHeight || document.documentElement.clientHeight))) {\n    violations.push(ClrViewportViolation.BOTTOM);\n  }\n  if (!(mockCoords.right <= (window.innerWidth || document.documentElement.clientWidth))) {\n    violations.push(ClrViewportViolation.RIGHT);\n  }\n\n  return violations;\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n *\n */\n\nexport enum ClrAxis {\n  VERTICAL,\n  HORIZONTAL,\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n *\n */\nimport { isPlatformBrowser } from '@angular/common';\nimport { Injectable, PLATFORM_ID, Inject } from '@angular/core';\n\nimport { ClrPopoverEventsService } from './popover-events.service';\nimport { ClrPopoverPosition } from '../interfaces/popover-position.interface';\nimport { ClrPopoverContentOffset } from '../interfaces/popover-content-offset.interface';\nimport { ClrViewportViolation } from '../enums/viewport-violation.enum';\nimport { align, flipSidesAndNudgeContent, flipSides, nudgeContent, testVisibility } from '../position-operators';\nimport { ClrAxis } from '../enums/axis.enum';\nimport { Subject, Observable } from 'rxjs';\n\n@Injectable()\nexport class ClrPopoverPositionService {\n  private currentAnchorCoords: ClientRect;\n  private currentContentCoords: ClientRect;\n  private contentOffsets: ClrPopoverContentOffset;\n  private _position: ClrPopoverPosition;\n\n  private _shouldRealign: Subject<void> = new Subject();\n  shouldRealign: Observable<void> = this._shouldRealign.asObservable();\n\n  realign() {\n    this._shouldRealign.next();\n  }\n\n  set position(position: ClrPopoverPosition) {\n    this._position = position;\n  }\n  get position(): ClrPopoverPosition {\n    return this._position;\n  }\n\n  constructor(private eventService: ClrPopoverEventsService, @Inject(PLATFORM_ID) public platformId: Object) {}\n\n  public alignContent(content: HTMLElement): ClrPopoverContentOffset {\n    if (!isPlatformBrowser(this.platformId)) {\n      // Only position when in a browser.\n      // Default to the browser origin and prevent getBoundingClientRect from running.\n      return {\n        xOffset: 0,\n        yOffset: 0,\n      };\n    }\n\n    this.currentAnchorCoords = this.eventService.anchorButtonRef.nativeElement.getBoundingClientRect();\n    this.currentContentCoords = content.getBoundingClientRect();\n    this.contentOffsets = align(this.position, this.currentAnchorCoords, this.currentContentCoords);\n\n    const visibilityViolations: ClrViewportViolation[] = testVisibility(this.contentOffsets, this.currentContentCoords);\n    /**\n     * Calculate the sum of viewport errors. This calculation is used below with the provided Axis in the given\n     * ClrPopoverPosition. Its worth putting the ClrViewportViolation enum values here:\n     *\n     *   BOTTOM = 0,\n     *   LEFT = 1,\n     *   RIGHT = 2,\n     *   TOP = 3,\n     *\n     *   So, this.visibilityViolations.length tells us how many sides of the viewport that the popover content was\n     *   clipped on. We can only help when the content has an issue on one or two sides.\n     *   errorSum is calculated to determine _how_ to change the position. Looking at both the axis and the number\n     *   of violations I can use the errorSum to determine how to transform the position (on the fly) and adjust\n     *   where it can be improved.\n     *\n     *   Note, more than 3 viewport violations and there isn't anything we can do to help. Also when there are two\n     *   violations, we can't help if the violations are TOP+BOTTOM || LEFT+RIGHT => There is no transformation we\n     *   can make to the postion that will help.\n     *\n     *   Some examples:\n     *   There is only one error and Primary axis is VERTICAL\n     *   - this.handleVerticalAxisOneViolation has a switch that will use the error sum to apply the correct\n     *   transform to the postion based on the reduction of visibilityViolations.\n     *\n     *   There are two errors and Primary axis is HORIZONTAL\n     *   - handleHorizontalAxisTwoViolations has a switch that uses the error sum to apply both transforms needed to\n     *   improve the content position based on the reduction of visibilityViolations.\n     */\n\n    const errorSum = visibilityViolations.reduce((count, current) => {\n      return count + current;\n    }, 0);\n\n    if (visibilityViolations.length === 1 && this.position.axis === ClrAxis.VERTICAL) {\n      // When primary axis is VERTICAL and there is one viewport violation\n      this.handleVerticalAxisOneViolation(errorSum);\n    } else if (visibilityViolations.length === 1 && this.position.axis === ClrAxis.HORIZONTAL) {\n      // When primary axis is HORIZONTAL and there is one viewport violation\n      this.handleHorizontalAxisOneViolation(errorSum);\n    } else if (visibilityViolations.length === 2 && this.position.axis === ClrAxis.VERTICAL) {\n      // When primary axis is VERTICAL and there are two viewport violations\n      this.handleVerticalAxisTwoViolations(errorSum);\n    } else if (visibilityViolations.length === 2 && this.position.axis === ClrAxis.HORIZONTAL) {\n      // When primary axis is HORIZONTAL and there are two viewport violations\n      this.handleHorizontalAxisTwoViolations(errorSum);\n    }\n    return this.contentOffsets;\n  }\n\n  private handleVerticalAxisOneViolation(errorSum: number): void {\n    switch (errorSum) {\n      case 0:\n      case 3: {\n        // BOTTOM(0) or TOP(3) are primary violations and we can just flip sides\n        this.contentOffsets = align(flipSides(this.position), this.currentAnchorCoords, this.currentContentCoords);\n        break;\n      }\n      case 1: {\n        // LEFT(1) is secondary and needs to nudge content right\n        this.contentOffsets = align(nudgeContent(this.position), this.currentAnchorCoords, this.currentContentCoords);\n        break;\n      }\n      case 2: {\n        // RIGHT(2) is secondary and  needs to nudge content left\n        this.contentOffsets = align(\n          nudgeContent(this.position, true),\n          this.currentAnchorCoords,\n          this.currentContentCoords\n        );\n        break;\n      }\n      default: {\n        break;\n      }\n    }\n  }\n\n  private handleVerticalAxisTwoViolations(errorSum: number): void {\n    switch (errorSum) {\n      // We know there are two violations. We can use the errorSum to determine which combination of sides were\n      // violated and handle appropriately.\n      case 5: {\n        // TOP(3)+RIGHT(2) is case 5. We need to flip sides and nudge the content to the left\n        const flipAndNudgeLeft = flipSidesAndNudgeContent(flipSides, nudgeContent, true);\n        this.contentOffsets = align(\n          flipAndNudgeLeft(this.position),\n          this.currentAnchorCoords,\n          this.currentContentCoords\n        );\n        break;\n      }\n      case 4: {\n        //TOP(3)+LEFT(1) is case 4, we need to flip sides and nudge content to the right\n        const flipAndNudgeRight = flipSidesAndNudgeContent(flipSides, nudgeContent, false);\n        this.contentOffsets = align(\n          flipAndNudgeRight(this.position),\n          this.currentAnchorCoords,\n          this.currentContentCoords\n        );\n        break;\n      }\n      case 3: {\n        // TOP(3)+BOTTOM(0) || left(1)+RIGHT(2) is case 3. There is nothing we can do position wise to improve the\n        // placement for this content.\n        break;\n      }\n      case 2: {\n        // BOTTOM(0)+RIGHT(2) is case 2. We need to flip sides and nudge the content to the left\n        const flipAndNudgeLeft = flipSidesAndNudgeContent(flipSides, nudgeContent, true);\n        this.contentOffsets = align(\n          flipAndNudgeLeft(this.position),\n          this.currentAnchorCoords,\n          this.currentContentCoords\n        );\n        break;\n      }\n      case 1: {\n        // BOTTOM(0)+LEFT(1) is case 1. We need to flip sides and nudge to the right\n        const flipAndNudgeRight = flipSidesAndNudgeContent(flipSides, nudgeContent, false);\n        this.contentOffsets = align(\n          flipAndNudgeRight(this.position),\n          this.currentAnchorCoords,\n          this.currentContentCoords\n        );\n        break;\n      }\n      default: {\n        break;\n      }\n    }\n  }\n\n  private handleHorizontalAxisOneViolation(errorSum: number): void {\n    switch (errorSum) {\n      case 1:\n      case 2: {\n        // LEFT(1) and RIGHT(2) are primary violations so we can flip sides\n        this.contentOffsets = align(flipSides(this.position), this.currentAnchorCoords, this.currentContentCoords);\n        break;\n      }\n      case 0: {\n        // BOTTOM(0) is a secondary violation and we need to nudge content up\n        this.contentOffsets = align(\n          nudgeContent(this.position, true),\n          this.currentAnchorCoords,\n          this.currentContentCoords\n        );\n        break;\n      }\n      case 3: {\n        // TOP(3) is a secondary violation and we need to nudge content down\n        this.contentOffsets = align(nudgeContent(this.position), this.currentAnchorCoords, this.currentContentCoords);\n        break;\n      }\n      default: {\n        break;\n      }\n    }\n  }\n\n  private handleHorizontalAxisTwoViolations(errorSum: number): void {\n    switch (errorSum) {\n      case 5:\n      case 4: {\n        // TOP(3)+LEFT(1) is case 4.\n        // TOP(3)+RIGHT(2) is case 5.\n        // In both of these cases we need to flip sides and nudge content down\n        const flipAndNudgeDown = flipSidesAndNudgeContent(flipSides, nudgeContent, false);\n        this.contentOffsets = align(\n          flipAndNudgeDown(this.position),\n          this.currentAnchorCoords,\n          this.currentContentCoords\n        );\n        break;\n      }\n      case 3: {\n        // TOP(3)+BOTTOM(0) || left(1)+RIGHT(2) is case 3. There is nothing we can do position wise to improve the\n        // placement for this content.\n        break;\n      }\n      case 2:\n      case 1: {\n        // BOTTOM(0)+RIGHT(2) is case 2.\n        // BOTTOM(0)+LEFT(1) is case 1.\n        // In both cases we  need to flip sides and nudge content up\n        const flipAndNudgeUp = flipSidesAndNudgeContent(flipSides, nudgeContent, true);\n        this.contentOffsets = align(flipAndNudgeUp(this.position), this.currentAnchorCoords, this.currentContentCoords);\n        break;\n      }\n      default: {\n        break;\n      }\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n *\n */\nimport {\n  Directive,\n  EmbeddedViewRef,\n  Inject,\n  Input,\n  OnDestroy,\n  Renderer2,\n  TemplateRef,\n  ViewContainerRef,\n  AfterContentChecked,\n  EventEmitter,\n} from '@angular/core';\nimport { DOCUMENT } from '@angular/common';\nimport { Subscription } from 'rxjs';\n\nimport { ClrPopoverToggleService } from './providers/popover-toggle.service';\nimport { ClrPopoverEventsService } from './providers/popover-events.service';\nimport { ClrPopoverPositionService } from './providers/popover-position.service';\nimport { ClrPopoverPosition } from './interfaces/popover-position.interface';\nimport { debounceTime } from 'rxjs/operators';\n\n// https://github.com/angular/angular/issues/20351#issuecomment-344009887\n/** @dynamic */\n@Directive({ selector: '[clrPopoverContent]' })\nexport class ClrPopoverContent implements AfterContentChecked, OnDestroy {\n  private view: EmbeddedViewRef<void>;\n  private subscriptions: Subscription[] = [];\n\n  @Input('clrPopoverContent')\n  public set open(value: boolean) {\n    this.smartOpenService.open = !!value;\n  }\n\n  @Input('clrPopoverContentAt')\n  set contentAt(position: ClrPopoverPosition) {\n    this.smartPositionService.position = position;\n  }\n\n  @Input('clrPopoverContentOutsideClickToClose')\n  set outsideClickClose(clickToClose) {\n    this.smartEventsService.outsideClickClose = !!clickToClose;\n  }\n\n  @Input('clrPopoverContentScrollToClose')\n  set scrollToClose(scrollToClose) {\n    this.smartEventsService.scrollToClose = !!scrollToClose;\n  }\n\n  constructor(\n    @Inject(DOCUMENT) private document: HTMLDocument,\n    private container: ViewContainerRef,\n    private template: TemplateRef<any>,\n    private renderer: Renderer2,\n    private smartPositionService: ClrPopoverPositionService,\n    private smartEventsService: ClrPopoverEventsService,\n    private smartOpenService: ClrPopoverToggleService\n  ) {}\n\n  ngAfterViewInit() {\n    this.subscriptions.push(\n      this.smartOpenService.openChange.subscribe(change => {\n        if (change) {\n          this.addContent();\n        } else {\n          this.removeContent();\n        }\n      }),\n      this.smartPositionService.shouldRealign.subscribe(() => {\n        this.shouldRealign = true;\n        // Avoid flickering on initialization, caused by the asynchronous nature of the\n        // check-collector pattern.\n        if (this.view) {\n          this.renderer.setStyle(this.view.rootNodes[0], 'opacity', '0');\n        }\n      }),\n      // Here we collect subsequent synchronously received content-check events and only take action\n      // at the end of the cycle. See below for details on the check-collector pattern.\n      this.checkCollector.pipe(debounceTime(0)).subscribe(() => {\n        this.alignContent();\n        this.shouldRealign = false;\n        if (this.view) {\n          this.renderer.setStyle(this.view.rootNodes[0], 'opacity', '1');\n        }\n      })\n    );\n  }\n\n  ngOnDestroy() {\n    this.removeContent();\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n  }\n\n  private removeContent(): void {\n    if (!this.view) {\n      return;\n    }\n    this.view.rootNodes.forEach(node => this.renderer.removeChild(this.document.body, node));\n    this.container.clear();\n    delete this.view;\n  }\n\n  /**\n   * TODO(matt): investigate why DebugElement retains a reference to the nodes and causes a memory leak.\n   * A note about the use of appendChild/removeChild\n   * The DebugElement is keeping a reference to the detached node and its unclear why.\n   * This does warrant further investigation. But, since it doesn't happen in production mode\n   * it is a low priority issue for now.\n   */\n  private addContent() {\n    // Create the view container\n    this.view = this.container.createEmbeddedView(this.template);\n    this.smartEventsService.contentRef = this.view.rootNodes[0]; // So we know where/what to set close focus on\n    this.renderer.addClass(this.view.rootNodes[0], 'clr-popover-content');\n    // Reset to the begining of the document to be available for sizing/positioning calculations.\n    // If we add new content to the bottom it triggers changes in the layout that may lead to false anchor\n    // coordinates values.\n    this.renderer.setStyle(this.view.rootNodes[0], 'top', '0px');\n    this.renderer.setStyle(this.view.rootNodes[0], 'left', '0px');\n    // We need to hide it during the calculation phase, while it's not yet finally positioned.\n    this.renderer.setStyle(this.view.rootNodes[0], 'opacity', '0');\n    this.renderer.listen(this.view.rootNodes[0], 'click', event => {\n      this.smartOpenService.openEvent = event;\n    });\n    this.view.rootNodes.forEach(node => {\n      this.renderer.appendChild(this.document.body, node);\n    });\n    // Mark for realingment on the next content-check cycle.\n    this.shouldRealign = true;\n  }\n\n  private shouldRealign = false;\n\n  // Check-collector pattern:\n  // In order to get accurate content height/width values, we cannot calculate alignment offsets until\n  // after the projected content has stabilized.\n  // As multiple check events may happen in the same rendering cycle, we need to collect all events\n  // and only act after the content is really stable. Or we may get wrong intermediate positioning values.\n  // We will channel subsequent content check events through this observable.\n  private checkCollector: EventEmitter<void> = new EventEmitter();\n\n  ngAfterContentChecked(): void {\n    if (this.smartOpenService.open && this.view && this.shouldRealign) {\n      // Channel content-check event through the check-collector\n      this.checkCollector.emit();\n    }\n  }\n\n  private alignContent() {\n    if (!this.view) {\n      return;\n    }\n    const positionCoords = this.smartPositionService.alignContent(this.view.rootNodes[0]);\n    this.renderer.setStyle(this.view.rootNodes[0], 'top', `${positionCoords.yOffset}px`);\n    this.renderer.setStyle(this.view.rootNodes[0], 'left', `${positionCoords.xOffset}px`);\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n *\n */\n\nimport { Directive, EventEmitter, HostListener, OnDestroy, Output } from '@angular/core';\nimport { ClrPopoverToggleService } from './providers/popover-toggle.service';\nimport { Subscription } from 'rxjs';\n\n@Directive({\n  selector: '[clrPopoverOpenCloseButton]',\n  host: {\n    '[class.clr-smart-open-close]': 'true',\n  },\n})\nexport class ClrPopoverOpenCloseButton implements OnDestroy {\n  private subscriptions: Subscription[] = [];\n\n  constructor(private smartOpenService: ClrPopoverToggleService) {\n    this.subscriptions.push(\n      this.smartOpenService.openChange.subscribe(change => {\n        this.openCloseChange.next(change);\n      })\n    );\n  }\n\n  @Output('clrPopoverOpenCloseChange') openCloseChange: EventEmitter<boolean> = new EventEmitter<boolean>();\n\n  @HostListener('click', ['$event'])\n  handleClick(event: MouseEvent) {\n    this.smartOpenService.toggleWithEvent(event);\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n *\n */\n\nimport { Directive, ElementRef, EventEmitter, Output, HostListener, OnDestroy, AfterViewInit } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { ClrPopoverEventsService } from './providers/popover-events.service';\nimport { ClrPopoverToggleService } from './providers/popover-toggle.service';\nimport { filter } from 'rxjs/operators';\n\n@Directive({\n  selector: '[clrPopoverCloseButton]',\n  host: {\n    '[class.clr-smart-close-button]': 'true',\n  },\n})\nexport class ClrPopoverCloseButton implements OnDestroy, AfterViewInit {\n  private subscriptions: Subscription[] = [];\n\n  constructor(\n    private elementRef: ElementRef,\n    private smartEventsService: ClrPopoverEventsService,\n    private smartOpenService: ClrPopoverToggleService\n  ) {\n    this.subscriptions.push(\n      smartOpenService.openChange.pipe(filter(value => !value)).subscribe(() => {\n        this.closeChange.next();\n      })\n    );\n  }\n\n  @Output('clrPopoverOnCloseChange') closeChange: EventEmitter<void> = new EventEmitter<void>();\n\n  @HostListener('click', ['$event'])\n  handleClick(event: MouseEvent) {\n    this.smartOpenService.toggleWithEvent(event);\n    this.smartEventsService.setAnchorFocus();\n  }\n\n  ngAfterViewInit() {\n    this.smartEventsService.closeButtonRef = this.elementRef;\n    this.smartEventsService.setCloseFocus();\n  }\n  ngOnDestroy() {\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n *\n */\n\nimport { Directive, ElementRef } from '@angular/core';\nimport { ClrPopoverEventsService } from './providers/popover-events.service';\n\n@Directive({\n  selector: '[clrPopoverAnchor]',\n  host: {\n    '[class.clr-anchor]': 'true',\n  },\n})\nexport class ClrPopoverAnchor {\n  constructor(smartEventService: ClrPopoverEventsService, element: ElementRef) {\n    smartEventService.anchorButtonRef = element;\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n *\n */\n\nimport { NgModule } from '@angular/core';\nimport { ClrPopoverContent } from './popover-content';\nimport { ClrPopoverOpenCloseButton } from './popover-open-close-button';\nimport { ClrPopoverCloseButton } from './popover-close-button';\nimport { ClrPopoverAnchor } from './popover-anchor';\n\n@NgModule({\n  imports: [],\n  declarations: [ClrPopoverAnchor, ClrPopoverCloseButton, ClrPopoverOpenCloseButton, ClrPopoverContent],\n  exports: [ClrPopoverAnchor, ClrPopoverCloseButton, ClrPopoverOpenCloseButton, ClrPopoverContent],\n})\nexport class ClrPopoverModuleNext {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { ClrLoadingState } from './loading';\n\n/**\n * This is an abstract class because we need it to still be a valid token for dependency injection after transpiling.\n * This does not mean you should extend it, simply implementing it is fine.\n */\nexport abstract class LoadingListener {\n  abstract loadingStateChange(state: ClrLoadingState): void;\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Directive, Input, OnDestroy, Optional } from '@angular/core';\n\nimport { LoadingListener } from './loading-listener';\n\nexport enum ClrLoadingState {\n  DEFAULT,\n  LOADING,\n  SUCCESS,\n  ERROR,\n}\n\n@Directive({ selector: '[clrLoading]' })\nexport class ClrLoading implements OnDestroy {\n  // We find the first parent that handles something loading\n  constructor(@Optional() private listener: LoadingListener) {}\n\n  private _loadingState: ClrLoadingState = ClrLoadingState.DEFAULT;\n\n  public get loadingState() {\n    return this._loadingState;\n  }\n\n  @Input('clrLoading')\n  public set loadingState(value: boolean | ClrLoadingState) {\n    if (value === true) {\n      value = ClrLoadingState.LOADING;\n    } else if (!value) {\n      value = ClrLoadingState.DEFAULT;\n    }\n\n    if (value === this._loadingState) {\n      return;\n    }\n\n    this._loadingState = value;\n    if (this.listener) {\n      this.listener.loadingStateChange(value);\n    }\n  }\n\n  ngOnDestroy() {\n    this.loadingState = ClrLoadingState.DEFAULT;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { Subject } from 'rxjs';\n\nimport { ClrButton } from '../button-group/button';\n\n@Injectable()\nexport class ButtonInGroupService {\n  private _changes: Subject<ClrButton> = new Subject<ClrButton>();\n\n  get changes(): Observable<ClrButton> {\n    return this._changes.asObservable();\n  }\n\n  updateButtonGroup(button: ClrButton): void {\n    this._changes.next(button);\n  }\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component, EventEmitter, Input, Optional, Output, SkipSelf, TemplateRef, ViewChild } from '@angular/core';\n\nimport { ClrLoadingState } from '../../utils/loading/loading';\nimport { LoadingListener } from '../../utils/loading/loading-listener';\nimport { ButtonInGroupService } from '../providers/button-in-group.service';\nimport { ClrPopoverToggleService } from '../../utils/popover/providers/popover-toggle.service';\n\n@Component({\n  selector: 'clr-button',\n  template: `\n        <ng-template #buttonProjectedRef>\n            <button\n                [class]=\"classNames\"\n                (click)=\"emitClick($event)\"\n                [attr.type]=\"type\"\n                [attr.name]=\"name\"\n                [attr.disabled]=\"disabled\"\n                [attr.id]=\"id\">\n                <span class=\"spinner spinner-inline\" *ngIf=\"loading\"></span>\n                <ng-content></ng-content>\n            </button>\n        </ng-template>\n    `,\n  providers: [{ provide: LoadingListener, useExisting: ClrButton }],\n})\nexport class ClrButton implements LoadingListener {\n  private _enableService: boolean = false;\n\n  @ViewChild('buttonProjectedRef', { static: true })\n  templateRef: TemplateRef<ClrButton>;\n\n  constructor(\n    @SkipSelf()\n    @Optional()\n    public buttonInGroupService: ButtonInGroupService,\n    private toggleService: ClrPopoverToggleService\n  ) {}\n\n  private _inMenu: boolean = false;\n\n  get inMenu(): boolean {\n    return this._inMenu;\n  }\n\n  @Input('clrInMenu')\n  set inMenu(value: boolean) {\n    value = !!value;\n    if (this._inMenu !== value) {\n      this._inMenu = value;\n      // We check if the service flag is enabled\n      // and if the service exists because the service is optional\n      if (this._enableService && this.buttonInGroupService) {\n        this.buttonInGroupService.updateButtonGroup(this);\n      }\n    }\n  }\n\n  private _classNames: string = 'btn';\n\n  get classNames(): string {\n    return this._classNames;\n  }\n\n  @Input('class')\n  set classNames(value: string) {\n    if (typeof value === 'string') {\n      const classNames: string[] = value.split(' ');\n      if (classNames.indexOf('btn') === -1) {\n        classNames.push('btn');\n      }\n      this._classNames = classNames.join(' ');\n    }\n  }\n\n  private _name: string = null;\n\n  get name(): string {\n    return this._name;\n  }\n\n  @Input('name')\n  set name(value: string) {\n    if (typeof value === 'string') {\n      this._name = value;\n    }\n  }\n\n  private _type: string = null;\n\n  get type(): string {\n    return this._type;\n  }\n\n  @Input('type')\n  set type(value: string) {\n    if (typeof value === 'string') {\n      this._type = value;\n    }\n  }\n\n  private _id: string = null;\n\n  get id(): string {\n    return this._id;\n  }\n\n  @Input('id')\n  set id(value: string) {\n    if (typeof value === 'string') {\n      this._id = value;\n    }\n  }\n\n  private _disabled: any = null;\n\n  get disabled(): any {\n    return this._disabled;\n  }\n\n  @Input('disabled')\n  set disabled(value: any) {\n    if (value !== null && value !== false) {\n      this._disabled = '';\n    } else {\n      this._disabled = null;\n    }\n  }\n\n  public loading: boolean;\n\n  loadingStateChange(state: ClrLoadingState): void {\n    this.loading = state === ClrLoadingState.LOADING;\n  }\n\n  @Output('click') _click: EventEmitter<boolean> = new EventEmitter<boolean>(false);\n\n  emitClick($event): void {\n    if (this.inMenu) {\n      this.toggleService.toggleWithEvent($event);\n    }\n    this._click.emit(true);\n  }\n\n  ngAfterViewInit() {\n    this._enableService = true;\n  }\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { ClrCommonStrings } from './common-strings.interface';\n\nexport const commonStringsDefault: ClrCommonStrings = {\n  open: 'Open',\n  close: 'Close',\n  show: 'Show',\n  hide: 'Hide',\n  expand: 'Expand',\n  collapse: 'Collapse',\n  more: 'More',\n  select: 'Select',\n  selectAll: 'Select All',\n  previous: 'Previous',\n  next: 'Next',\n  current: 'Jump to current',\n  info: 'Info',\n  success: 'Success',\n  warning: 'Warning',\n  danger: 'Error',\n  rowActions: 'Available actions',\n  pickColumns: 'Show or hide columns',\n  showColumns: 'Show Columns',\n  sortColumn: 'Sort Column',\n  firstPage: 'First Page',\n  lastPage: 'Last Page',\n  nextPage: 'Next Page',\n  previousPage: 'Previous Page',\n  currentPage: 'Current Page',\n  totalPages: 'Total Pages',\n  minValue: 'Min value',\n  maxValue: 'Max value',\n  modalContentStart: 'Beginning of Modal Content',\n  modalContentEnd: 'End of Modal Content',\n  showColumnsMenuDescription: 'Show or hide columns menu',\n  allColumnsSelected: 'All columns selected',\n  signpostToggle: 'Signpost Toggle',\n  signpostClose: 'Signpost Close',\n  loading: 'Loading',\n  // Datagrid\n  detailPaneStart: 'Start of row details',\n  detailPaneEnd: 'End of row details',\n  singleSelectionAriaLabel: 'Single selection header',\n  singleActionableAriaLabel: 'Single actionable header',\n  detailExpandableAriaLabel: 'Toggle more row content',\n  datagridFilterAriaLabel: 'Toggle column filter',\n  // Alert\n  alertCloseButtonAriaLabel: 'Close alert',\n  // Date Picker\n  datepickerToggle: 'Toggle datepicker',\n  datepickerPreviousMonth: 'Previous month',\n  datepickerCurrentMonth: 'Current month',\n  datepickerNextMonth: 'Next month',\n  datepickerPreviousDecade: 'Previous decade',\n  datepickerNextDecade: 'Next decade',\n  datepickerCurrentDecade: 'Current decade',\n  datepickerSelectMonthText: 'Select month, the current month is {CALENDAR_MONTH}',\n  datepickerSelectYearText: 'Select year, the current year is {CALENDAR_YEAR}',\n  daypickerSRCurrentMonthPhrase: 'The current month is {CURRENT_MONTH}',\n  daypickerSRCurrentYearPhrase: 'The current year is {CURRENT_YEAR}',\n  daypickerSRCurrentDecadePhrase: 'The current decade is {DECADE_RANGE}',\n  // Stack View\n  stackViewChanged: 'Value changed.',\n  // Forms\n  formErrorSummary: 'The form has {ERROR_NUMBER} errors.',\n  //Vertical Nav\n  verticalNavToggle: 'Toggle vertical navigation',\n  verticalNavGroupToggle: 'Toggle vertical navigation group',\n  // Timeline steps\n  timelineStepNotStarted: 'Not started',\n  timelineStepCurrent: 'Current',\n  timelineStepSuccess: 'Completed',\n  timelineStepError: 'Error',\n  timelineStepProcessing: 'In progress',\n\n  // Datagrid expandable rows\n  dategridExpandableBeginningOf: 'Beginning of',\n  dategridExpandableEndOf: 'End of',\n  dategridExpandableRowContent: 'Expandable row content',\n  dategridExpandableRowsHelperText: `Screen reader table commands may not work for viewing expanded content, please use your screen reader's browse mode to read the content exposed by this button`,\n};\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable } from '@angular/core';\n\nimport { commonStringsDefault } from './../../utils/i18n/common-strings.default';\nimport { ClrCommonStrings } from './../../utils/i18n/common-strings.interface';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ClrCommonStringsService {\n  private _strings = commonStringsDefault;\n\n  /**\n   * Allows you to pass in new overrides for localization\n   */\n  localize(overrides: Partial<ClrCommonStrings>) {\n    this._strings = { ...this._strings, ...overrides };\n  }\n\n  /**\n   * Access to all of the keys as strings\n   */\n  get keys(): Readonly<ClrCommonStrings> {\n    return this._strings;\n  }\n\n  /**\n   * Parse a string with a set of tokens to replace\n   */\n  parse(source: string, tokens: { [key: string]: string } = {}) {\n    const names = Object.keys(tokens);\n    let output = source;\n    if (names.length) {\n      names.forEach(name => {\n        output = output.replace(`{${name}}`, tokens[name]);\n      });\n    }\n    return output;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { InjectionToken } from '@angular/core';\n\nlet NB_INSTANCES = 0;\n\nexport const UNIQUE_ID = new InjectionToken<string>('UNIQUE_ID');\n\nexport function uniqueIdFactory() {\n  return 'clr-id-' + NB_INSTANCES++;\n}\n\nexport const UNIQUE_ID_PROVIDER = {\n  provide: UNIQUE_ID,\n  useFactory: uniqueIdFactory,\n};\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n *\n */\n\nexport enum ClrSide {\n  BEFORE = -1,\n  AFTER = 1,\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n *\n */\n\nimport { ClrAxis } from './axis.enum';\nimport { ClrSide } from './side.enum';\nimport { ClrAlignment } from './alignment.enum';\n\ninterface ClrPopoverPositionsInterface {\n  axis: ClrAxis;\n  side: ClrSide;\n  anchor: ClrAlignment;\n  content: ClrAlignment;\n}\n\nexport class ClrPopoverPositions {\n  static 'top-right': ClrPopoverPositionsInterface = {\n    axis: ClrAxis.VERTICAL,\n    side: ClrSide.BEFORE,\n    anchor: ClrAlignment.END,\n    content: ClrAlignment.END,\n  };\n\n  static 'top-left': ClrPopoverPositionsInterface = {\n    axis: ClrAxis.VERTICAL,\n    side: ClrSide.BEFORE,\n    anchor: ClrAlignment.START,\n    content: ClrAlignment.START,\n  };\n\n  static 'bottom-right': ClrPopoverPositionsInterface = {\n    axis: ClrAxis.VERTICAL,\n    side: ClrSide.AFTER,\n    anchor: ClrAlignment.END,\n    content: ClrAlignment.END,\n  };\n\n  static 'bottom-left': ClrPopoverPositionsInterface = {\n    axis: ClrAxis.VERTICAL,\n    side: ClrSide.AFTER,\n    anchor: ClrAlignment.START,\n    content: ClrAlignment.START,\n  };\n\n  static 'right-top': ClrPopoverPositionsInterface = {\n    axis: ClrAxis.HORIZONTAL,\n    side: ClrSide.AFTER,\n    anchor: ClrAlignment.CENTER,\n    content: ClrAlignment.END,\n  };\n\n  static 'right-bottom': ClrPopoverPositionsInterface = {\n    axis: ClrAxis.HORIZONTAL,\n    side: ClrSide.AFTER,\n    anchor: ClrAlignment.START,\n    content: ClrAlignment.START,\n  };\n\n  static 'left-top': ClrPopoverPositionsInterface = {\n    axis: ClrAxis.HORIZONTAL,\n    side: ClrSide.BEFORE,\n    anchor: ClrAlignment.CENTER,\n    content: ClrAlignment.END,\n  };\n\n  static 'left-bottom': ClrPopoverPositionsInterface = {\n    axis: ClrAxis.HORIZONTAL,\n    side: ClrSide.BEFORE,\n    anchor: ClrAlignment.START,\n    content: ClrAlignment.START,\n  };\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component, Inject, ContentChildren, Input, QueryList } from '@angular/core';\n\nimport { ButtonInGroupService } from '../providers/button-in-group.service';\nimport { ClrCommonStringsService } from '../../utils/i18n/common-strings.service';\nimport { UNIQUE_ID, UNIQUE_ID_PROVIDER } from '../../utils/id-generator/id-generator.service';\nimport { ClrPopoverPosition } from '../../utils/popover/interfaces/popover-position.interface';\nimport { ClrPopoverToggleService } from '../../utils/popover/providers/popover-toggle.service';\nimport { ClrPopoverEventsService } from '../../utils/popover/providers/popover-events.service';\nimport { ClrPopoverPositionService } from '../../utils/popover/providers/popover-position.service';\nimport { ClrPopoverPositions } from '../../utils/popover/enums/positions.enum';\n\nimport { ClrButton } from './button';\n\n@Component({\n  selector: 'clr-button-group',\n  templateUrl: 'button-group.html',\n  providers: [\n    ButtonInGroupService,\n    UNIQUE_ID_PROVIDER,\n    ClrPopoverToggleService,\n    ClrPopoverEventsService,\n    ClrPopoverPositionService,\n  ],\n  host: { '[class.btn-group]': 'true' },\n})\nexport class ClrButtonGroup {\n  @ContentChildren(ClrButton) buttons: QueryList<ClrButton>;\n\n  constructor(\n    public buttonGroupNewService: ButtonInGroupService,\n    private toggleService: ClrPopoverToggleService,\n    @Inject(UNIQUE_ID) public popoverId: string,\n    public commonStrings: ClrCommonStringsService\n  ) {}\n\n  public popoverPosition: ClrPopoverPosition = ClrPopoverPositions['bottom-left'];\n\n  public get open() {\n    return this.toggleService.open;\n  }\n\n  inlineButtons: ClrButton[] = [];\n  menuButtons: ClrButton[] = [];\n\n  /**\n   * 1. Initializes the initial Button Group View\n   * 2. Subscribes to changes on the ContentChildren\n   *    in case the user content projection changes\n   */\n  ngAfterContentInit() {\n    this.initializeButtons();\n    this.buttonGroupNewService.changes.subscribe(button => this.rearrangeButton(button));\n    this.buttons.changes.subscribe(() => {\n      this.initializeButtons();\n    });\n  }\n\n  /**\n   * Moves the button into the other ViewContainer\n   * when an update is received.\n   *\n   * @param button\n   */\n  rearrangeButton(button: ClrButton): void {\n    let fromView: ClrButton[];\n    let toView: ClrButton[];\n    if (button.inMenu) {\n      fromView = this.inlineButtons;\n      toView = this.menuButtons;\n    } else {\n      fromView = this.menuButtons;\n      toView = this.inlineButtons;\n    }\n    const index: number = fromView.indexOf(button);\n    if (index > -1) {\n      fromView.splice(index, 1);\n      const moveIndex = this.getMoveIndex(button);\n      if (moveIndex <= toView.length) {\n        toView.splice(moveIndex, 0, button);\n      }\n    }\n  }\n\n  /**\n   * Author: Eudes\n   *\n   * Finds the order of a button w.r.t other buttons\n   *\n   * @param buttonToMove\n   * @returns\n   */\n  getMoveIndex(buttonToMove: ClrButton): number {\n    const tempArr: ClrButton[] = this.buttons.filter(button => button.inMenu === buttonToMove.inMenu);\n    return tempArr.indexOf(buttonToMove);\n  }\n\n  initializeButtons(): void {\n    const tempInlineButtons: ClrButton[] = [];\n    const tempInMenuButtons: ClrButton[] = [];\n    this.buttons.forEach(button => {\n      if (button.inMenu) {\n        tempInMenuButtons.push(button);\n      } else {\n        tempInlineButtons.push(button);\n      }\n    });\n    this.inlineButtons = tempInlineButtons;\n    this.menuButtons = tempInMenuButtons;\n  }\n\n  /**\n   * Overflow Menu\n   *\n   */\n\n  // Indicates the position of the overflow menu\n  private _menuPosition: string;\n\n  get menuPosition(): string {\n    return this._menuPosition;\n  }\n\n  @Input('clrMenuPosition')\n  set menuPosition(pos: string) {\n    if (pos && ClrPopoverPositions[pos]) {\n      this._menuPosition = pos;\n    } else {\n      this._menuPosition = 'bottom-left';\n    }\n\n    this.popoverPosition = ClrPopoverPositions[this._menuPosition];\n  }\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule, Type } from '@angular/core';\n\nimport { ClrIconModule } from '../../icon/icon.module';\nimport { ClrPopoverModuleNext } from '../../utils/popover/popover.module';\n\nimport { ClrButton } from './button';\nimport { ClrButtonGroup } from './button-group';\n\nexport const CLR_BUTTON_GROUP_DIRECTIVES: Type<any>[] = [ClrButton, ClrButtonGroup];\n\n@NgModule({\n  imports: [CommonModule, ClrIconModule, ClrPopoverModuleNext],\n  declarations: [CLR_BUTTON_GROUP_DIRECTIVES],\n  exports: [CLR_BUTTON_GROUP_DIRECTIVES],\n})\nexport class ClrButtonGroupModule {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { animate, keyframes, style, transition, trigger } from '@angular/animations';\nimport { Component, ElementRef, EventEmitter, Input, Output, Renderer2 } from '@angular/core';\nimport { ClrLoadingState } from '../../utils/loading/loading';\nimport { LoadingListener } from '../../utils/loading/loading-listener';\n\n@Component({\n  selector: 'button[clrLoading]',\n  template: `\n        <ng-container [ngSwitch]=\"state\">\n            <span *ngSwitchCase=\"buttonState.LOADING\">\n                <span @spinner class=\"spinner spinner-inline\"></span>\n            </span>\n            <span *ngSwitchCase=\"buttonState.SUCCESS\">\n                <span @validated (@validated.done)=\"this.loadingStateChange(this.buttonState.DEFAULT)\" class=\"spinner spinner-inline spinner-check\"></span>\n            </span>\n            <span *ngSwitchCase=\"buttonState.DEFAULT\" @defaultButton>\n                <ng-content></ng-content>\n            </span>\n        </ng-container>\n    `,\n  providers: [{ provide: LoadingListener, useExisting: ClrLoadingButton }],\n  animations: [\n    trigger('defaultButton', [\n      transition(':enter', [style({ opacity: 0 }), animate('200ms 100ms ease-in', style({ opacity: 1 }))]),\n      // TODO: see if we can get leave animation to work before spinner's enter animation\n      transition(':leave', [style({ opacity: 0 })]),\n    ]),\n    trigger('spinner', [\n      transition(':enter', [style({ opacity: 0 }), animate('200ms 100ms ease-in', style({ opacity: 1 }))]),\n      transition(':leave', [style({ opacity: 1 }), animate('100ms ease-out', style({ opacity: 0 }))]),\n    ]),\n    trigger('validated', [\n      transition(':enter', [\n        animate(\n          '600ms',\n          keyframes([\n            style({ transform: 'scale(0,0)', offset: 0 }),\n            style({ opacity: 1, offset: 0.2 }),\n            style({ transform: 'scale(1.2,1.2)', offset: 0.4 }),\n            style({ transform: 'scale(.9,.9)', offset: 0.6 }),\n            style({ transform: 'scale(1,1)', offset: 1 }),\n          ])\n        ),\n      ]),\n      transition(':leave', [style({ opacity: 1 }), animate('100ms ease-out', style({ opacity: 0 }))]),\n    ]),\n  ],\n  host: { '[attr.disabled]': \"disabled? '' : null\" },\n})\nexport class ClrLoadingButton implements LoadingListener {\n  public buttonState = ClrLoadingState;\n  public state: ClrLoadingState = ClrLoadingState.DEFAULT;\n\n  @Input('disabled') public disabled: boolean;\n\n  @Output('clrLoadingChange')\n  public clrLoadingChange: EventEmitter<ClrLoadingState> = new EventEmitter<ClrLoadingState>(false);\n\n  constructor(public el: ElementRef, private renderer: Renderer2) {}\n\n  loadingStateChange(state: ClrLoadingState): void {\n    if (state === this.state) {\n      return;\n    }\n    this.state = state;\n\n    switch (state) {\n      case ClrLoadingState.DEFAULT:\n        this.renderer.removeStyle(this.el.nativeElement, 'width');\n        this.renderer.removeStyle(this.el.nativeElement, 'transform'); // for chromium render bug see issue https://github.com/vmware/clarity/issues/2700\n        if (!this.disabled) {\n          this.renderer.removeAttribute(this.el.nativeElement, 'disabled');\n        }\n        break;\n      case ClrLoadingState.LOADING:\n        this.setExplicitButtonWidth();\n        this.renderer.setStyle(this.el.nativeElement, 'transform', 'translatez(0)'); // for chromium render bug see issue https://github.com/vmware/clarity/issues/2700\n        this.renderer.setAttribute(this.el.nativeElement, 'disabled', '');\n        break;\n      case ClrLoadingState.SUCCESS:\n        this.setExplicitButtonWidth();\n        break;\n      case ClrLoadingState.ERROR:\n        this.loadingStateChange(ClrLoadingState.DEFAULT);\n        break;\n      default:\n        break;\n    }\n    this.clrLoadingChange.emit(state);\n  }\n\n  private setExplicitButtonWidth() {\n    if (this.el.nativeElement && this.el.nativeElement.getBoundingClientRect) {\n      const boundingClientRect = this.el.nativeElement.getBoundingClientRect();\n      this.renderer.setStyle(this.el.nativeElement, 'width', `${boundingClientRect.width}px`);\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule, Type } from '@angular/core';\n\nimport { ClrLoadingButton } from './loading-button';\n\nexport const CLR_LOADING_BUTTON_DIRECTIVES: Type<any>[] = [ClrLoadingButton];\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [CLR_LOADING_BUTTON_DIRECTIVES],\n  exports: [CLR_LOADING_BUTTON_DIRECTIVES],\n})\nexport class ClrLoadingButtonModule {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { NgModule } from '@angular/core';\n\nimport { ClrButtonGroupModule } from './button-group/button-group.module';\nimport { ClrLoadingButtonModule } from './button-loading/loading-button.module';\n\n@NgModule({\n  exports: [ClrLoadingButtonModule, ClrButtonGroupModule],\n})\nexport class ClrButtonModule {}\n","/**\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component } from '@angular/core';\n\n@Component({\n  template: '',\n})\nexport class EmptyAnchor {}\n","/**\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { NgModule } from '@angular/core';\n\nimport { EmptyAnchor } from './empty-anchor';\n\n/**\n * Internal module, please do not export!\n */\n@NgModule({ declarations: [EmptyAnchor], exports: [EmptyAnchor], entryComponents: [EmptyAnchor] })\nexport class ClrHostWrappingModule {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { Observable } from 'rxjs';\n\nlet counter = 0;\n\n@Injectable()\nexport class ControlIdService {\n  private _id = 'clr-form-control-' + ++counter;\n  get id(): string {\n    return this._id;\n  }\n  set id(value: string) {\n    this._id = value;\n    this._idChange.next(value);\n  }\n\n  private _idChange: BehaviorSubject<string> = new BehaviorSubject(this._id);\n  public get idChange(): Observable<string> {\n    return this._idChange.asObservable();\n  }\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { PLATFORM_ID } from '@angular/core';\nimport { DOCUMENT, isPlatformBrowser } from '@angular/common';\nimport { Inject, Injectable, NgZone, OnDestroy } from '@angular/core';\nimport { uniqueIdFactory } from '../id-generator/id-generator.service';\n\nexport enum ClrAriaLivePoliteness {\n  off = 'off',\n  polite = 'polite',\n  assertive = 'assertive',\n}\n\n/**\n * Time in milliseconds before inserting the content into the container\n */\nconst ARIA_LIVE_TICK: number = 100;\n\n/**\n * This service handle `aria-live` accessibility attribute. The issue is that you need\n * to have the DOM Element with attribute `aria-live` before you could insert content\n * and SR (Screen Reader) pick the change and announce it.\n *\n * ```typescript\n * import { ClrAriaLiveService } from 'src/clr-angular/utils/a11y/aria-live.service';\n *\n * @Component({\n * selector: 'clr-demo-component',\n * providers: [ClrAriaLiveService],\n * template: `\n *   <ng-content></ng-content>\n * `,\n * })\n * export class DemoComponent {\n *  constructor(ariaLiveService: ClrAriaLiveService) {}\n *\n *  public actionThatWillTriggerChange() {\n *    this.ariaLiveService.announce('message that I want to announce to SR');\n *  }\n * }\n * ```\n *\n */\n@Injectable({\n  providedIn: 'root',\n})\nexport class ClrAriaLiveService implements OnDestroy {\n  private ariaLiveElement: HTMLElement;\n  private document: Document;\n  private previousTimeout: ReturnType<typeof setTimeout>;\n\n  constructor(\n    private ngZone: NgZone,\n    @Inject(DOCUMENT) _document: any,\n    @Inject(PLATFORM_ID) private platformId: Object\n  ) {\n    this.document = _document;\n  }\n\n  private _id: string = `clr-aria-live-element-${uniqueIdFactory()}`;\n  /**\n   * get access to the internal HTML `id` that gonna be used for the AriaLive container.\n   * @return ID of the DOM Element as string.\n   */\n  public get id(): string {\n    return this._id;\n  }\n\n  /**\n   * Append text content inside the AriaLive Container. This method will check if the\n   * DOM Element is existing if not it will create one for us and the will apply the text.\n   *\n   * ```typescript\n   * this.ariaLiveService.announce(this.el.nativeElement);\n   * // or\n   * this.ariaLiveService.announce('Message to announce to SR');\n   * ```\n   *\n   * @remark\n   * When second argument is `AriaLivePoliteness.off` we won't create aria container or update it.\n   * The reason for that is that we don't want to do additional work if the SR will ignore it.\n   *\n   * @param message - This could be simple string or HTMLElement\n   * @param politeness - 'polite', 'assertive' or 'off'\n   */\n  public announce(\n    message: string | HTMLElement,\n    politeness: ClrAriaLivePoliteness = ClrAriaLivePoliteness.polite\n  ): void {\n    if (politeness === ClrAriaLivePoliteness.off) {\n      return;\n    }\n\n    if (!this.ariaLiveElement && isPlatformBrowser(this.platformId)) {\n      this.ariaLiveElement = this.createContainer();\n    }\n\n    message = typeof message !== 'string' && isPlatformBrowser(this.platformId) ? message.textContent : message;\n\n    // when there is no message do NOTHING!\n    if (!message) {\n      return;\n    }\n\n    this.ariaLiveElement.setAttribute('aria-live', politeness);\n\n    // This 100ms timeout is necessary for some browser + screen-reader combinations:\n    // - Both JAWS and NVDA over IE11 will not announce anything without a non-zero timeout.\n    // - With Chrome and IE11 with NVDA or JAWS, a repeated (identical) message won't be read a\n    //   second time without clearing and then using a non-zero delay.\n    // (using JAWS 17 at time of this writing).\n    this.ngZone.runOutsideAngular(() => {\n      // This clearTimeout will stop all older messages from announcing\n      // in the case where the messages are comming too fast we gonna try to append only\n      // the last one. That's what the SR will try to do anyway.\n      clearTimeout(this.previousTimeout);\n      this.previousTimeout = setTimeout(() => {\n        this.ariaLiveElement.textContent = <string>message;\n      }, ARIA_LIVE_TICK);\n    });\n  }\n\n  /**\n   * onDestroy life cycle - must stop all active setTimeouts and remove the AriaLive\n   * container from the document.\n   */\n  public ngOnDestroy() {\n    clearTimeout(this.previousTimeout);\n    if (isPlatformBrowser(this.platformId) && this.ariaLiveElement) {\n      this.document.body.removeChild(this.ariaLiveElement);\n      this.ariaLiveElement = null;\n    }\n  }\n\n  /**\n   * Create AriaLive DOM element as a last child of the document.\n   * After the element is created, we gonna apply Clarity class to hide it from\n   * the screen and set the `aria-live` politness.\n   *\n   * `clr-sr-only` is the CSS class that is used to hide the element from the screen.\n   *\n   * @remark\n   * Calling this method multiple times will create multiple DOM Elements, that\n   * won't be tracked and will be GC after the service is destroyed.\n   *\n   * @return AriaLive container as HTMLElement\n   *\n   */\n  private createContainer(): HTMLElement {\n    const ariaLiveElement = this.document.createElement('div');\n\n    ariaLiveElement.setAttribute('id', this.id);\n    // Use clarity screen reader class to hide the dom element\n    // and fix the scrollbar shake\n    ariaLiveElement.classList.add('clr-sr-only');\n\n    ariaLiveElement.setAttribute('aria-atomic', 'true');\n    ariaLiveElement.setAttribute('aria-live', ClrAriaLivePoliteness.polite);\n\n    this.document.body.appendChild(ariaLiveElement);\n\n    return ariaLiveElement;\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable } from '@angular/core';\n\nexport enum Layouts {\n  VERTICAL = 'vertical',\n  HORIZONTAL = 'horizontal',\n  COMPACT = 'compact',\n}\n\n@Injectable()\nexport class LayoutService {\n  readonly minLabelSize = 1;\n  readonly maxLabelSize = 12;\n  layout: Layouts = Layouts.HORIZONTAL;\n\n  // This is basically a replacement for Object.values(), which IE11 and Node <9 don't support :(\n  // String enums cannot be reverse-mapped, meaning Layouts['COMPACT'] does not return 'compact' so\n  // this exists to deal with this little caveat to get the list of the values as an array.\n  private layoutValues: string[] = Object.keys(Layouts).map(key => Layouts[key]);\n  private _labelSize: number = 2;\n\n  set labelSize(size: number) {\n    if (this.labelSizeIsValid(size)) {\n      this._labelSize = size;\n    }\n  }\n\n  get labelSize(): number {\n    return this._labelSize;\n  }\n\n  isVertical(): boolean {\n    return this.layout === Layouts.VERTICAL;\n  }\n\n  isHorizontal(): boolean {\n    return this.layout === Layouts.HORIZONTAL;\n  }\n\n  isCompact(): boolean {\n    return this.layout === Layouts.COMPACT;\n  }\n\n  get layoutClass(): string {\n    return `clr-form-${this.layout}`;\n  }\n\n  isValid(layout: string): boolean {\n    return this.layoutValues.indexOf(layout) > -1;\n  }\n\n  labelSizeIsValid(labelSize: number): boolean {\n    return Number.isInteger(labelSize) && labelSize >= this.minLabelSize && labelSize <= this.maxLabelSize;\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable, Optional } from '@angular/core';\nimport { LayoutService } from './layout.service';\n\n@Injectable()\nexport class ControlClassService {\n  className = '';\n\n  constructor(@Optional() private layoutService: LayoutService) {}\n\n  controlClass(invalid = false, grid = false, additional = '') {\n    const controlClasses = [this.className, additional];\n    if (invalid) {\n      controlClasses.push('clr-error');\n    }\n    if (grid && this.layoutService && this.className.indexOf('clr-col') === -1) {\n      controlClasses.push(`clr-col-md-${this.layoutService.maxLabelSize - this.layoutService.labelSize} clr-col-12`);\n    }\n    return controlClasses.join(' ').trim();\n  }\n\n  // We want to remove the column classes from the input up to the container\n  initControlClass(renderer, element: HTMLElement) {\n    if (element && element.className) {\n      this.className = element.className;\n      const klasses = element.className.split(' ');\n      klasses.forEach(klass => {\n        if (klass.startsWith('clr-col')) {\n          renderer.removeClass(element, klass);\n        }\n      });\n    }\n  }\n}\n","/**\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component, Optional, ElementRef, AfterViewInit } from '@angular/core';\nimport { ControlIdService } from './providers/control-id.service';\nimport { ClrAriaLiveService } from '../../utils/a11y/aria-live.service';\nimport { ControlClassService } from './providers/control-class.service';\n\n@Component({\n  providers: [ClrAriaLiveService],\n  selector: 'clr-control-error',\n  template: `\n    <ng-content></ng-content>\n    `,\n  host: {\n    '[class.clr-subtext]': 'true',\n    '[id]': 'controlIdService?.id + \"-error\"',\n  },\n})\nexport class ClrControlError implements AfterViewInit {\n  constructor(\n    @Optional() public controlIdService: ControlIdService,\n    @Optional() public controlClassService: ControlClassService,\n    private ariaLiveService: ClrAriaLiveService,\n    private el: ElementRef\n  ) {}\n\n  /** @deprecated since 3.0, remove in 4.0 - ariaLiveService */\n  ngAfterViewInit() {\n    /**\n     * The way we render elements inside the `clr-control-container make this\n     * component announce itself without been visible on the screen.\n     *\n     * The check below try to guess is clr-controll-error used in some of the\n     * cases mention above and prevent us from announcing without the need of that.\n     *\n     * This change won't create breaking change - but will make aria live announcment\n     * work only when the component is used outside forms or some of the components.\n     *\n     * This is temporary solution - until better is found.\n     *\n     */\n    if (this.controlClassService === null) {\n      this.ariaLiveService.announce(this.el.nativeElement);\n    }\n  }\n}\n","/**\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component, Optional } from '@angular/core';\nimport { ControlIdService } from './providers/control-id.service';\n\n@Component({\n  selector: 'clr-control-helper',\n  template: `\n    <ng-content></ng-content>\n    `,\n  host: {\n    '[class.clr-subtext]': 'true',\n    '[id]': 'controlIdService?.id + \"-helper\"',\n  },\n})\nexport class ClrControlHelper {\n  constructor(@Optional() public controlIdService: ControlIdService) {}\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable } from '@angular/core';\nimport { NgControl } from '@angular/forms';\nimport { Observable, Subject } from 'rxjs';\n\n@Injectable()\nexport class NgControlService {\n  // Observable to subscribe to the control, since its not available immediately for projected content\n  private _controlChanges: Subject<NgControl> = new Subject<NgControl>();\n  get controlChanges(): Observable<NgControl> {\n    return this._controlChanges.asObservable();\n  }\n\n  setControl(control: NgControl) {\n    this._controlChanges.next(control);\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable, OnDestroy } from '@angular/core';\nimport { NgControl } from '@angular/forms';\nimport { Observable, Subject, Subscription } from 'rxjs';\n\nimport { NgControlService } from '../providers/ng-control.service';\n\n@Injectable()\nexport class IfErrorService implements OnDestroy {\n  // Implement our own status changes observable, since Angular controls don't\n  // fire on events like blur, and we want to return the boolean state instead of a string\n  private _statusChanges: Subject<boolean> = new Subject();\n  get statusChanges(): Observable<boolean> {\n    return this._statusChanges.asObservable();\n  }\n\n  private subscriptions: Subscription[] = [];\n  private control: NgControl;\n\n  constructor(private ngControlService: NgControlService) {\n    // Wait for the control to be available\n    this.subscriptions.push(\n      this.ngControlService.controlChanges.subscribe(control => {\n        if (control) {\n          this.control = control;\n          this.listenForChanges();\n        }\n      })\n    );\n  }\n\n  // Subscribe to the status change events, only after touched and emit the control\n  private listenForChanges() {\n    this.subscriptions.push(\n      this.control.statusChanges.subscribe(() => {\n        this.sendValidity();\n      })\n    );\n  }\n\n  private sendValidity() {\n    if (this.control.touched && this.control.invalid) {\n      this._statusChanges.next(true);\n    } else {\n      this._statusChanges.next(false);\n    }\n  }\n\n  // Allows a control to push a status check upstream, such as on blur\n  triggerStatusChange() {\n    if (this.control) {\n      this.sendValidity();\n    }\n  }\n\n  // Clean up subscriptions\n  ngOnDestroy() {\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n  }\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Directive, Input, Optional, TemplateRef, ViewContainerRef } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { IfErrorService } from './if-error.service';\nimport { NgControlService } from '../providers/ng-control.service';\nimport { NgControl } from '@angular/forms';\n\n@Directive({ selector: '[clrIfError]' })\nexport class ClrIfError {\n  constructor(\n    @Optional() private ifErrorService: IfErrorService,\n    @Optional() private ngControlService: NgControlService,\n    private template: TemplateRef<any>,\n    private container: ViewContainerRef\n  ) {\n    if (!this.ifErrorService) {\n      throw new Error('clrIfError can only be used within a form control container element like clr-input-container');\n    } else {\n      this.displayError(false);\n    }\n    this.subscriptions.push(\n      this.ngControlService.controlChanges.subscribe(control => {\n        this.control = control;\n      })\n    );\n    this.subscriptions.push(\n      this.ifErrorService.statusChanges.subscribe(invalid => {\n        // If there is a specific error to track, check it, otherwise check overall validity\n        if (this.error && this.control) {\n          this.displayError(this.control.hasError(this.error));\n        } else {\n          this.displayError(invalid);\n        }\n      })\n    );\n  }\n\n  @Input('clrIfError') error: string;\n\n  private subscriptions: Subscription[] = [];\n  private displayed: boolean = false;\n  private control: NgControl;\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n  }\n\n  private displayError(invalid: boolean) {\n    if (invalid && !this.displayed) {\n      this.container.createEmbeddedView(this.template, { error: this.control.getError(this.error) });\n      this.displayed = true;\n    } else if (!invalid) {\n      this.container.clear();\n      this.displayed = false;\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Directive, ElementRef, HostBinding, Input, OnDestroy, OnInit, Optional, Renderer2 } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { ControlIdService } from './providers/control-id.service';\nimport { LayoutService } from './providers/layout.service';\nimport { NgControlService } from './providers/ng-control.service';\n\n@Directive({ selector: 'label' })\nexport class ClrLabel implements OnInit, OnDestroy {\n  constructor(\n    @Optional() private controlIdService: ControlIdService,\n    @Optional() private layoutService: LayoutService,\n    @Optional() private ngControlService: NgControlService,\n    private renderer: Renderer2,\n    private el: ElementRef\n  ) {}\n\n  @HostBinding('attr.for')\n  @Input('for')\n  forAttr: string;\n\n  private subscriptions: Subscription[] = [];\n  private enableGrid = true;\n\n  get labelText(): string {\n    return this.el.nativeElement && this.el.nativeElement.textContent;\n  }\n\n  ngOnInit() {\n    // Only add the clr-control-label if it is inside a control container\n    if (this.controlIdService || this.ngControlService) {\n      this.renderer.addClass(this.el.nativeElement, 'clr-control-label');\n    }\n    // Only set the grid column classes if we are in the right context and if they aren't already set\n    if (\n      this.enableGrid &&\n      this.layoutService &&\n      !this.layoutService.isVertical() &&\n      this.el.nativeElement &&\n      this.el.nativeElement.className.indexOf('clr-col') < 0\n    ) {\n      this.renderer.addClass(this.el.nativeElement, 'clr-col-12');\n      this.renderer.addClass(this.el.nativeElement, `clr-col-md-${this.layoutService.labelSize}`);\n    }\n    if (this.controlIdService && !this.forAttr) {\n      this.subscriptions.push(this.controlIdService.idChange.subscribe(id => (this.forAttr = id)));\n    }\n  }\n\n  disableGrid() {\n    this.enableGrid = false;\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable } from '@angular/core';\nimport { Subject, Observable } from 'rxjs';\n\n@Injectable()\nexport class MarkControlService {\n  private _touched: Subject<void> = new Subject();\n\n  get touchedChange(): Observable<void> {\n    return this._touched.asObservable();\n  }\n\n  markAsTouched() {\n    this._touched.next();\n  }\n}\n","/**\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport {\n  ContentChildren,\n  Directive,\n  ElementRef,\n  HostListener,\n  Inject,\n  PLATFORM_ID,\n  QueryList,\n  Input,\n} from '@angular/core';\nimport { isPlatformBrowser } from '@angular/common';\nimport { LayoutService } from './providers/layout.service';\nimport { MarkControlService } from './providers/mark-control.service';\nimport { ClrCommonStringsService } from '../../utils/i18n/common-strings.service';\nimport { ClrLabel } from './label';\nimport { ClrAriaLiveService } from '../../utils/a11y/aria-live.service';\n\n@Directive({\n  selector: '[clrForm]',\n  providers: [LayoutService, MarkControlService, ClrAriaLiveService],\n  host: {\n    '[class.clr-form]': 'true',\n    '[class.clr-form-horizontal]': 'layoutService.isHorizontal()',\n    '[class.clr-form-compact]': 'layoutService.isCompact()',\n  },\n})\nexport class ClrForm {\n  private invalidControls = [];\n\n  @Input('clrLabelSize')\n  set labelSize(size: number) {\n    this.layoutService.labelSize = size;\n  }\n\n  constructor(\n    public layoutService: LayoutService,\n    private markControlService: MarkControlService,\n    @Inject(PLATFORM_ID) private platformId: Object,\n    private el: ElementRef,\n    private commonStrings: ClrCommonStringsService,\n    private ariaLiveService: ClrAriaLiveService\n  ) {}\n\n  /** @deprecated since 2.0 */\n  markAsDirty(updateAriaLiveText?: boolean) {\n    this.markAsTouched((updateAriaLiveText = true));\n  }\n\n  // Trying to avoid adding an input and keep this backwards compatible at the same time\n  markAsTouched(updateAriaLiveText?: boolean) {\n    this.markControlService.markAsTouched();\n\n    // I don't think consumers will call this with undefined, null or other values but\n    // want to make sure this only guards against when this is called with false\n    if (updateAriaLiveText !== false && isPlatformBrowser(this.platformId)) {\n      this.invalidControls = Array.from(this.el.nativeElement.querySelectorAll('.ng-invalid'));\n      if (this.invalidControls.length > 0) {\n        this.invalidControls[0].focus();\n        this.updateAriaLive();\n      }\n    }\n  }\n\n  @ContentChildren(ClrLabel, { descendants: true })\n  labels: QueryList<ClrLabel>;\n\n  @HostListener('submit')\n  onFormSubmit() {\n    this.markAsTouched();\n  }\n\n  /** @deprecated since 3.0, remove in 4.0 */\n  private updateAriaLive(): void {\n    if (this.invalidControls.length === 0) {\n      return;\n    }\n\n    const errorList = this.labels.filter(label => this.invalidControls.find(control => label.forAttr === control.id));\n\n    this.ariaLiveService.announce(\n      this.commonStrings.parse(this.commonStrings.keys.formErrorSummary, { ERROR_NUMBER: errorList.length.toString() })\n    );\n  }\n}\n","/**\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Directive, Input, OnInit } from '@angular/core';\nimport { Layouts, LayoutService } from './providers/layout.service';\n\n@Directive({\n  selector: '[clrForm][clrLayout]',\n})\nexport class ClrLayout implements OnInit {\n  @Input('clrLayout') layout: Layouts;\n\n  constructor(public layoutService: LayoutService) {}\n\n  ngOnInit() {\n    // Only set the layout if it is a valid option\n    if (this.layout && this.layoutService.isValid(this.layout)) {\n      this.layoutService.layout = this.layout;\n    }\n  }\n}\n","/**\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { ContentChild, Directive, OnDestroy, Optional } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { NgControl } from '@angular/forms';\n\nimport { IfErrorService } from './if-error/if-error.service';\nimport { NgControlService } from './providers/ng-control.service';\nimport { LayoutService } from './providers/layout.service';\nimport { DynamicWrapper } from '../../utils/host-wrapping/dynamic-wrapper';\nimport { ClrLabel } from './label';\nimport { ControlClassService } from './providers/control-class.service';\n\n@Directive()\nexport abstract class ClrAbstractContainer implements DynamicWrapper, OnDestroy {\n  protected subscriptions: Subscription[] = [];\n  invalid = false;\n  _dynamic = false;\n  @ContentChild(ClrLabel, { static: false })\n  label: ClrLabel;\n  control: NgControl;\n\n  constructor(\n    protected ifErrorService: IfErrorService,\n    @Optional() protected layoutService: LayoutService,\n    protected controlClassService: ControlClassService,\n    protected ngControlService: NgControlService\n  ) {\n    this.subscriptions.push(\n      this.ifErrorService.statusChanges.subscribe(invalid => {\n        this.invalid = invalid;\n      })\n    );\n    this.subscriptions.push(\n      this.ngControlService.controlChanges.subscribe(control => {\n        this.control = control;\n      })\n    );\n  }\n\n  controlClass() {\n    return this.controlClassService.controlClass(this.invalid, this.addGrid());\n  }\n\n  addGrid() {\n    return this.layoutService && !this.layoutService.isVertical();\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.map(sub => sub.unsubscribe());\n  }\n}\n","/**\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component } from '@angular/core';\n\nimport { ClrAbstractContainer } from '../common/abstract-container';\nimport { IfErrorService } from './if-error/if-error.service';\nimport { NgControlService } from './providers/ng-control.service';\nimport { ControlIdService } from './providers/control-id.service';\nimport { ControlClassService } from './providers/control-class.service';\n\n@Component({\n  selector: 'clr-control-container',\n  template: `\n        <ng-content select=\"label\"></ng-content>\n        <label *ngIf=\"!label && addGrid()\"></label>\n        <div class=\"clr-control-container\" [ngClass]=\"controlClass()\">\n            <div class=\"clr-input-wrapper\">\n                <ng-content></ng-content>\n                <clr-icon *ngIf=\"invalid\" class=\"clr-validate-icon\" shape=\"exclamation-circle\" aria-hidden=\"true\"></clr-icon>\n            </div>\n            <ng-content select=\"clr-control-helper\" *ngIf=\"!invalid\"></ng-content>\n            <ng-content select=\"clr-control-error\" *ngIf=\"invalid\"></ng-content>\n        </div>\n    `,\n  host: {\n    '[class.clr-form-control]': 'true',\n    '[class.clr-form-control-disabled]': 'control?.disabled',\n    '[class.clr-row]': 'addGrid()',\n  },\n  providers: [IfErrorService, NgControlService, ControlIdService, ControlClassService],\n})\nexport class ClrControlContainer extends ClrAbstractContainer {}\n","/**\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport {\n  ComponentFactory,\n  ComponentFactoryResolver,\n  ElementRef,\n  InjectionToken,\n  Injector,\n  Type,\n  ViewContainerRef,\n} from '@angular/core';\n\nimport { DynamicWrapper } from './dynamic-wrapper';\nimport { EmptyAnchor } from './empty-anchor';\n\n/**\n * HostWrapper must be called in OnInit to ensure that the Views are ready. If its called in a constructor the view is\n * still undefined.\n * TODO - make sure these comment annotations do not break ng-packgr.\n */\nexport class HostWrapper<W extends DynamicWrapper> implements Injector {\n  constructor(containerType: Type<W>, vcr: ViewContainerRef, index: number = 0) {\n    this.injector = vcr.injector;\n    // If the host is already wrapped, we don't do anything\n    if (!this.injector.get(containerType, null)) {\n      const cfr = this.injector.get(ComponentFactoryResolver);\n      const el = this.injector.get(ElementRef);\n\n      // We need a new anchor, since we're projecting the current one.\n      vcr.createComponent(cfr.resolveComponentFactory(EmptyAnchor));\n      const factory: ComponentFactory<W> = cfr.resolveComponentFactory(containerType);\n      // Craft the element array based on what slot to use. Angular only uses the index to determine\n      // which ng-content to project into, so if you have more than one ng-content you'll need to set\n      // the index in the constructor appropriately\n      const element = [];\n      element[index] = [el.nativeElement];\n      // We're assuming only one projection slot, but in more complex cases we might want to provide\n      // a different array of projected elements.\n      const containerRef = vcr.createComponent(factory, undefined, undefined, element);\n      // We can now remove the useless anchor\n      vcr.remove(0);\n\n      // We note that the container was dynamically created\n      containerRef.instance._dynamic = true;\n\n      // We keep the wrapper's injector to access the dependencies that weren't available before.\n      this.injector = containerRef.injector;\n    }\n  }\n\n  private injector: Injector;\n\n  get<T>(token: Type<T> | InjectionToken<T>, notFoundValue?: T): T {\n    return this.injector.get(token, notFoundValue);\n  }\n}\n","/**\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport {\n  HostBinding,\n  InjectionToken,\n  HostListener,\n  Injector,\n  Input,\n  OnInit,\n  Type,\n  ViewContainerRef,\n  Renderer2,\n  ElementRef,\n  OnDestroy,\n  Directive,\n} from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { filter, distinctUntilChanged, startWith } from 'rxjs/operators';\n\nimport { HostWrapper } from '../../utils/host-wrapping/host-wrapper';\nimport { DynamicWrapper } from '../../utils/host-wrapping/dynamic-wrapper';\n\nimport { ControlIdService } from './providers/control-id.service';\nimport { NgControlService } from './providers/ng-control.service';\nimport { IfErrorService } from './if-error/if-error.service';\nimport { NgControl } from '@angular/forms';\nimport { ControlClassService } from './providers/control-class.service';\nimport { MarkControlService } from './providers/mark-control.service';\n\n@Directive()\nexport class WrappedFormControl<W extends DynamicWrapper> implements OnInit, OnDestroy {\n  protected ngControlService: NgControlService;\n  private ifErrorService: IfErrorService;\n  private controlClassService: ControlClassService;\n  private markControlService: MarkControlService;\n  protected renderer: Renderer2;\n  protected el: ElementRef<any>;\n\n  protected subscriptions: Subscription[] = [];\n  protected index = 0;\n  protected controlIdService: ControlIdService;\n\n  _id: string;\n\n  // I lost way too much time trying to make this work without injecting the ViewContainerRef and the Injector,\n  // I'm giving up. So we have to inject these two manually for now.\n  constructor(\n    protected vcr: ViewContainerRef,\n    protected wrapperType: Type<W>,\n    injector: Injector,\n    private ngControl: NgControl,\n    renderer: Renderer2,\n    el: ElementRef\n  ) {\n    this.renderer = renderer;\n    this.el = el;\n    try {\n      this.ngControlService = injector.get(NgControlService);\n      this.ifErrorService = injector.get(IfErrorService);\n      this.controlClassService = injector.get(ControlClassService);\n      this.markControlService = injector.get(MarkControlService);\n    } catch (e) {}\n\n    if (this.controlClassService) {\n      this.controlClassService.initControlClass(renderer, el.nativeElement);\n    }\n    if (this.markControlService) {\n      this.subscriptions.push(\n        this.markControlService.touchedChange.subscribe(() => {\n          this.ngControl.control.markAsTouched();\n          this.ngControl.control.updateValueAndValidity();\n        })\n      );\n    }\n  }\n\n  @HostBinding()\n  @Input()\n  get id() {\n    return this._id;\n  }\n  set id(value: string) {\n    this._id = value;\n    if (this.controlIdService) {\n      this.controlIdService.id = value;\n    }\n  }\n\n  @HostListener('blur')\n  triggerValidation() {\n    if (this.ifErrorService) {\n      this.ifErrorService.triggerStatusChange();\n    }\n  }\n\n  private _containerInjector: Injector;\n\n  // @TODO This method has a try/catch due to an unknown issue that came when building the clrToggle feature\n  // We need to figure out why this fails for the ClrToggle scenario but works for Date picker...\n  // To see the error, remove the try/catch here and run the ClrToggle suite to see issues getting the container\n  // injector in time, and this ONLY HAPPENS in tests and not in dev/prod mode.\n  protected getProviderFromContainer<T>(token: Type<T> | InjectionToken<T>, notFoundValue?: T): T {\n    try {\n      return this._containerInjector.get(token, notFoundValue);\n    } catch (e) {\n      return notFoundValue;\n    }\n  }\n\n  ngOnInit() {\n    this._containerInjector = new HostWrapper(this.wrapperType, this.vcr, this.index);\n    this.controlIdService = this._containerInjector.get(ControlIdService);\n\n    if (this._id) {\n      this.controlIdService.id = this._id;\n    } else {\n      this._id = this.controlIdService.id;\n    }\n\n    if (this.ngControlService) {\n      this.ngControlService.setControl(this.ngControl);\n    }\n\n    this.listenForErrorStateChanges();\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n  }\n\n  private listenForErrorStateChanges() {\n    if (this.ifErrorService) {\n      this.subscriptions.push(\n        this.ifErrorService.statusChanges\n          .pipe(startWith(false), filter(() => this.renderer && !!this.el), distinctUntilChanged())\n          .subscribe(error => this.setAriaDescribedBy(error))\n      );\n    }\n  }\n\n  private setAriaDescribedBy(error: boolean) {\n    this.renderer.setAttribute(this.el.nativeElement, 'aria-describedby', this.getAriaDescribedById(error));\n  }\n\n  private getAriaDescribedById(error: boolean): string {\n    return this.controlIdService.id.concat(error ? '-error' : '-helper');\n  }\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Directive, ElementRef, Injector, Optional, Renderer2, Self, ViewContainerRef } from '@angular/core';\nimport { WrappedFormControl } from './wrapped-control';\nimport { ClrControlContainer } from './control-container';\nimport { NgControl } from '@angular/forms';\n\n@Directive({ selector: '[clrControl]', host: { '[class.clr-input]': 'true' } })\nexport class ClrControl extends WrappedFormControl<ClrControlContainer> {\n  protected index = 1;\n\n  constructor(\n    vcr: ViewContainerRef,\n    injector: Injector,\n    @Self()\n    @Optional()\n    control: NgControl,\n    renderer: Renderer2,\n    el: ElementRef\n  ) {\n    super(vcr, ClrControlContainer, injector, control, renderer, el);\n  }\n}\n","/**\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { ClrIconModule } from '../../icon/icon.module';\n\nimport { ClrControlError } from './error';\nimport { ClrControlHelper } from './helper';\nimport { ClrIfError } from './if-error/if-error';\nimport { ClrLabel } from './label';\nimport { ClrForm } from './form';\nimport { ClrLayout } from './layout';\nimport { ClrControlContainer } from './control-container';\nimport { ClrControl } from './control';\n\n@NgModule({\n  imports: [CommonModule, ClrIconModule],\n  declarations: [\n    ClrLabel,\n    ClrControlError,\n    ClrControlHelper,\n    ClrIfError,\n    ClrForm,\n    ClrLayout,\n    ClrControlContainer,\n    ClrControl,\n  ],\n  exports: [\n    ClrLabel,\n    ClrControlError,\n    ClrControlHelper,\n    ClrIfError,\n    ClrForm,\n    ClrLayout,\n    ClrControlContainer,\n    ClrControl,\n  ],\n  entryComponents: [ClrControlContainer],\n})\nexport class ClrCommonFormsModule {}\n","/**\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component, OnInit, ContentChild, Inject, InjectionToken, OnDestroy } from '@angular/core';\nimport { BehaviorSubject, Subscription } from 'rxjs';\n\nimport { DynamicWrapper } from '../../utils/host-wrapping/dynamic-wrapper';\nimport { ControlIdService } from '../common/providers/control-id.service';\nimport { ClrLabel } from '../common/label';\n\nexport const IS_TOGGLE = new InjectionToken<BehaviorSubject<boolean>>('IS_TOGGLE');\nexport function isToggleFactory() {\n  return new BehaviorSubject<boolean>(false);\n}\nexport const IS_TOGGLE_PROVIDER = { provide: IS_TOGGLE, useFactory: isToggleFactory };\n\n@Component({\n  selector: 'clr-checkbox-wrapper,clr-toggle-wrapper',\n  template: `\n    <ng-content select=\"[clrCheckbox],[clrToggle]\"></ng-content>\n    <ng-content select=\"label\"></ng-content>\n    <label *ngIf=\"!label\"></label>\n  `,\n  host: {\n    '[class.clr-checkbox-wrapper]': '!toggle',\n    '[class.clr-toggle-wrapper]': 'toggle',\n  },\n  providers: [ControlIdService, IS_TOGGLE_PROVIDER],\n})\nexport class ClrCheckboxWrapper implements DynamicWrapper, OnInit, OnDestroy {\n  // We need both _dynamic for HostWrapper and ContentChild(ClrLabel) in cases where\n  // the user puts a radio inside a wrapper without a label, host wrapping doesn't apply\n  // but we'd still need to insert a label\n  _dynamic = false;\n  @ContentChild(ClrLabel, { static: true })\n  label: ClrLabel;\n  toggle = false;\n  private subscriptions: Subscription[] = [];\n\n  constructor(@Inject(IS_TOGGLE) toggleService: BehaviorSubject<boolean>) {\n    this.subscriptions.push(\n      toggleService.subscribe(state => {\n        this.toggle = state;\n      })\n    );\n  }\n\n  ngOnInit() {\n    if (this.label) {\n      this.label.disableGrid();\n    }\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n  }\n}\n","/**\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Directive, Renderer2, ElementRef, Injector, Self, Optional, ViewContainerRef, Attribute } from '@angular/core';\nimport { NgControl } from '@angular/forms';\nimport { BehaviorSubject } from 'rxjs';\n\nimport { ClrCheckboxWrapper, IS_TOGGLE } from './checkbox-wrapper';\nimport { WrappedFormControl } from '../common/wrapped-control';\n\n/**\n * This implements both the clrCheckbox and clrToggle functionality, since they are both just checkboxes with different\n * visual styling. The challenge is that the container needs to know which selector was used, which the @Attribute\n * decorator gets for us to determine if the toggle is used, and emits a value to the wrapper container to tell it\n * there is a toggle switch instead.\n */\n@Directive({ selector: '[clrCheckbox],[clrToggle]' })\nexport class ClrCheckbox extends WrappedFormControl<ClrCheckboxWrapper> {\n  constructor(\n    vcr: ViewContainerRef,\n    injector: Injector,\n    @Self()\n    @Optional()\n    control: NgControl,\n    renderer: Renderer2,\n    el: ElementRef,\n    @Attribute('clrToggle') private toggle: string\n  ) {\n    super(vcr, ClrCheckboxWrapper, injector, control, renderer, el);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n\n    const toggleService = this.getProviderFromContainer<BehaviorSubject<boolean>>(IS_TOGGLE, null);\n\n    if (toggleService && this.toggle !== null) {\n      toggleService.next(true);\n    }\n  }\n}\n","/**\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component, Input } from '@angular/core';\n\nimport { IfErrorService } from '../common/if-error/if-error.service';\nimport { ControlClassService } from '../common/providers/control-class.service';\nimport { NgControlService } from '../common/providers/ng-control.service';\nimport { ClrAbstractContainer } from '../common/abstract-container';\n\n@Component({\n  selector: 'clr-checkbox-container,clr-toggle-container',\n  template: `\n    <ng-content select=\"label\"></ng-content>\n    <label *ngIf=\"!label && addGrid()\"></label>\n    <div class=\"clr-control-container\" [class.clr-control-inline]=\"clrInline\" [ngClass]=\"controlClass()\">\n      <ng-content select=\"clr-checkbox-wrapper,clr-toggle-wrapper\"></ng-content>\n      <div class=\"clr-subtext-wrapper\">\n        <ng-content select=\"clr-control-helper\" *ngIf=\"!invalid\"></ng-content>\n        <clr-icon *ngIf=\"invalid\" class=\"clr-validate-icon\" shape=\"exclamation-circle\" aria-hidden=\"true\"></clr-icon>\n        <ng-content select=\"clr-control-error\" *ngIf=\"invalid\"></ng-content>\n      </div>\n    </div>\n  `,\n  host: {\n    '[class.clr-form-control]': 'true',\n    '[class.clr-form-control-disabled]': 'control?.disabled',\n    '[class.clr-row]': 'addGrid()',\n  },\n  providers: [NgControlService, ControlClassService, IfErrorService],\n})\nexport class ClrCheckboxContainer extends ClrAbstractContainer {\n  private inline = false;\n  // private formGroup: AbstractControl;\n\n  /*\n   * Here we want to support the following cases\n   * clrInline - true by presence\n   * clrInline=\"true|false\" - unless it is explicitly false, strings are considered true\n   * [clrInline]=\"true|false\" - expect a boolean\n   */\n  @Input()\n  set clrInline(value: boolean | string) {\n    if (typeof value === 'string') {\n      this.inline = value === 'false' ? false : true;\n    } else {\n      this.inline = !!value;\n    }\n  }\n  get clrInline() {\n    return this.inline;\n  }\n}\n","/**\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { ClrIconModule } from '../../icon/icon.module';\n\nimport { ClrHostWrappingModule } from '../../utils/host-wrapping/host-wrapping.module';\nimport { ClrCommonFormsModule } from '../common/common.module';\n\nimport { ClrCheckbox } from './checkbox';\nimport { ClrCheckboxContainer } from './checkbox-container';\nimport { ClrCheckboxWrapper } from './checkbox-wrapper';\n\n@NgModule({\n  imports: [CommonModule, ClrIconModule, ClrCommonFormsModule, ClrHostWrappingModule],\n  declarations: [ClrCheckbox, ClrCheckboxContainer, ClrCheckboxWrapper],\n  exports: [ClrCommonFormsModule, ClrCheckbox, ClrCheckboxContainer, ClrCheckboxWrapper],\n  entryComponents: [ClrCheckboxWrapper],\n})\nexport class ClrCheckboxModule {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Injectable, InjectionToken } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { Subject } from 'rxjs';\n\nlet activeCounter = 0;\n\nexport const IF_ACTIVE_ID = new InjectionToken<number>('IF_ACTIVE_ID');\n\nexport function tokenFactory() {\n  return ++activeCounter;\n}\n\nexport const IF_ACTIVE_ID_PROVIDER = {\n  provide: IF_ACTIVE_ID,\n  useFactory: tokenFactory,\n};\n\n@Injectable()\n\n/*********\n * @class IfActiveService\n *\n * @description\n * An injectable service used by IfActive structural directives and the components that implement IfActive in their\n * templates. It holds the value of the current state and provides an Observable that both the directive and the\n * implementing component can subscribe to in order to take action on current value changes.\n *\n */\nexport class IfActiveService {\n  /********\n   * @property _currentChange\n   *\n   * @description\n   * A RXJS Subject that updates and provides subscriptions to for the current current state of a component template\n   * implemting the IfActive structural directive.\n   *\n   */\n  private _currentChange: Subject<number> = new Subject<number>();\n\n  /*********\n   * @property _current\n   *\n   * @description\n   * A property holding the current value for current/closed state of an IfActive structural directive.\n   */\n  private _current: number;\n\n  /*********\n   *\n   * @description\n   * A getter function that provides an observable for the _current Subject.\n   *\n   */\n  public get currentChange(): Observable<number> {\n    return this._currentChange.asObservable();\n  }\n\n  /*********\n   *\n   * @description\n   * A setter function that updates the current state of _current for this instance of IfActive structural directive.\n   * And, broadcasts the new value to all subscribers.\n   *\n   * @param value\n   */\n  public set current(value: number) {\n    if (this._current !== value) {\n      this._current = value;\n      this._currentChange.next(value);\n    }\n  }\n\n  /*********\n   *\n   * @description\n   * A getter that returns the current value of this IfActive instance.\n   * @returns\n   */\n  public get current(): number {\n    return this._current;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport {\n  Directive,\n  EventEmitter,\n  Inject,\n  Input,\n  OnDestroy,\n  Output,\n  TemplateRef,\n  ViewContainerRef,\n} from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { IF_ACTIVE_ID, IfActiveService } from './if-active.service';\n\n@Directive({ selector: '[clrIfActive]' })\n\n/**********\n *\n * @class ClrIfActive\n *\n * @description\n * A structural directive that controls whether or not the associated TemplateRef is instantiated or not.\n * It makes use of a Component instance level service: IfActiveService to maintain state between itself and\n * the component using it in the component template.\n *\n */\nexport class ClrIfActive implements OnDestroy {\n  private subscription: Subscription;\n  private wasActive: boolean = false;\n\n  constructor(\n    private ifActiveService: IfActiveService,\n    @Inject(IF_ACTIVE_ID) private id: number,\n    private template: TemplateRef<any>,\n    private container: ViewContainerRef\n  ) {\n    this.checkAndUpdateView(ifActiveService.current);\n\n    this.subscription = this.ifActiveService.currentChange.subscribe(newCurrentId => {\n      this.checkAndUpdateView(newCurrentId);\n    });\n  }\n\n  private checkAndUpdateView(currentId: number) {\n    const isNowActive = currentId === this.id;\n    // only emit if the new active state is changed since last time.\n    if (isNowActive !== this.wasActive) {\n      this.updateView(isNowActive);\n      this.activeChange.emit(isNowActive);\n      this.wasActive = isNowActive;\n    }\n  }\n\n  /*********\n   *\n   * @description\n   * A setter that updates IfActiveService.active with value.\n   *\n   * @param value\n   */\n  @Input('clrIfActive')\n  public set active(value: boolean) {\n    if (value) {\n      this.ifActiveService.current = this.id;\n    }\n  }\n\n  /**********\n   * @property activeChange\n   *\n   * @description\n   * An event emitter that emits when the active property is set to allow for 2way binding when the directive is\n   * used with de-structured / de-sugared syntax.\n   *\n   */\n  @Output('clrIfActiveChange') activeChange: EventEmitter<boolean> = new EventEmitter<boolean>(false);\n\n  /********\n   *\n   * @description\n   * A getter that returns the current IfActiveService.active value.\n   */\n  public get active() {\n    return this.ifActiveService.current === this.id;\n  }\n\n  /*********\n   *\n   * @description\n   * Function that takes a any value and either created an embedded view for the associated ViewContainerRef or,\n   * Clears all views from the ViewContainerRef\n   * @param value\n   */\n  public updateView(value: boolean) {\n    if (value) {\n      this.container.createEmbeddedView(this.template);\n    } else {\n      this.container.clear();\n    }\n  }\n\n  ngOnDestroy() {\n    this.subscription.unsubscribe();\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Directive, EventEmitter, Input, OnDestroy, Output, TemplateRef, ViewContainerRef } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { ClrPopoverToggleService } from '../popover/providers/popover-toggle.service';\n\n@Directive({ selector: '[clrIfOpen]' })\n\n/**********\n *\n * @class ClrIfOpen\n *\n * @description\n * A structural directive that controls whether or not the associated TemplateRef is instantiated or not.\n * It makes use of a Component instance level service: ClrPopoverToggleService to maintain state between itself and the component\n * using it in the component template.\n *\n */\nexport class ClrIfOpen implements OnDestroy {\n  private subscription: Subscription;\n\n  /*********\n   *\n   * @description\n   * A setter that updates ClrPopoverToggleService.open with value.\n   *\n   * @param value\n   */\n  @Input('clrIfOpen')\n  public set open(value: boolean) {\n    this.toggleService.open = value;\n  }\n\n  /**********\n   * @property openChange\n   *\n   * @description\n   * An event emitter that emits when the open property is set to allow for 2way binding when the directive is\n   * used with de-structured / de-sugared syntax.\n   */\n  @Output('clrIfOpenChange') openChange: EventEmitter<boolean> = new EventEmitter<boolean>(false);\n\n  /********\n   *\n   * @description\n   * A getter that returns the current ClrPopoverToggleService.open value.\n   *\n   */\n  public get open() {\n    return this.toggleService.open;\n  }\n\n  constructor(\n    private toggleService: ClrPopoverToggleService,\n    private template: TemplateRef<any>,\n    private container: ViewContainerRef\n  ) {\n    this.subscription = this.toggleService.openChange.subscribe(change => {\n      this.updateView(change);\n      this.openChange.emit(change);\n    });\n  }\n\n  /*********\n   *\n   * @description\n   * Function that takes a boolean value and either created an embedded view for the associated ViewContainerRef or,\n   * Clears all views from the ViewContainerRef\n   * @param value\n   */\n  public updateView(value: boolean) {\n    if (value) {\n      this.container.createEmbeddedView(this.template);\n    } else {\n      this.container.clear();\n    }\n  }\n\n  ngOnDestroy() {\n    this.subscription.unsubscribe();\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Injectable } from '@angular/core';\nimport { Observable, Subject } from 'rxjs';\n\nimport { LoadingListener } from '../loading/loading-listener';\nimport { ClrLoadingState } from '../loading/loading';\n\n@Injectable()\nexport class IfExpandService implements LoadingListener {\n  public expandable: number = 0;\n\n  protected _loading: boolean = false;\n  get loading(): boolean {\n    return this._loading;\n  }\n\n  set loading(value: boolean) {\n    value = !!value;\n    if (value !== this._loading) {\n      this._loading = value;\n    }\n  }\n\n  protected _expanded: boolean = false;\n  get expanded(): boolean {\n    return this._expanded;\n  }\n\n  set expanded(value: boolean) {\n    value = !!value;\n    if (value !== this._expanded) {\n      this._expanded = value;\n      this._expandChange.next(value);\n    }\n  }\n\n  public toggle() {\n    this.expanded = !this._expanded;\n  }\n\n  protected _expandChange: Subject<boolean> = new Subject<boolean>();\n  public get expandChange(): Observable<boolean> {\n    return this._expandChange.asObservable();\n  }\n\n  loadingStateChange(state: ClrLoadingState): void {\n    switch (state) {\n      case ClrLoadingState.LOADING:\n        this.loading = true;\n        break;\n      default:\n        this.loading = false;\n        break;\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport {\n  Directive,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnDestroy,\n  OnInit,\n  Optional,\n  Output,\n  Renderer2,\n  TemplateRef,\n  ViewContainerRef,\n} from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { IfExpandService } from './if-expanded.service';\n\n@Directive({ selector: '[clrIfExpanded]' })\nexport class ClrIfExpanded implements OnInit, OnDestroy {\n  private _expanded: boolean = false;\n\n  get expanded(): boolean {\n    return this._expanded;\n  }\n\n  @Input('clrIfExpanded')\n  set expanded(value: boolean) {\n    if (typeof value === 'boolean') {\n      this.expand.expanded = value;\n      this._expanded = value;\n    }\n  }\n\n  @Output('clrIfExpandedChange') expandedChange: EventEmitter<boolean> = new EventEmitter<boolean>(true);\n\n  constructor(\n    @Optional() private template: TemplateRef<any>,\n    private container: ViewContainerRef,\n    private el: ElementRef,\n    private renderer: Renderer2,\n    private expand: IfExpandService\n  ) {\n    expand.expandable++;\n    this._subscriptions.push(\n      expand.expandChange.subscribe(() => {\n        this.updateView();\n        this.expandedChange.emit(this.expand.expanded);\n      })\n    );\n  }\n\n  /**\n   * Subscriptions to all the services and queries changes\n   */\n  private _subscriptions: Subscription[] = [];\n\n  private updateView() {\n    if (this.expand.expanded && this.container.length !== 0) {\n      return;\n    }\n    if (this.template) {\n      if (this.expand.expanded) {\n        // Should we pass a context? I don't see anything useful to pass right now,\n        // but we can come back to it in the future as a solution for additional features.\n        this.container.createEmbeddedView(this.template);\n      } else {\n        // TODO: Move when we move the animation logic to Datagrid Row Expand\n        // We clear before the animation is over. Not ideal, but doing better would involve a much heavier\n        // process for very little gain. Once Angular animations are dynamic enough, we should be able to\n        // get the optimal behavior.\n        this.container.clear();\n      }\n    } else {\n      try {\n        // If we don't have a template ref, we fallback to a crude display: none for now.\n        if (this.expand.expanded) {\n          this.renderer.setStyle(this.el.nativeElement, 'display', null);\n        } else {\n          this.renderer.setStyle(this.el.nativeElement, 'display', 'none');\n        }\n      } catch (e) {\n        // We catch the case where clrIfExpanded was put on a non-DOM element, and we just do nothing\n      }\n    }\n  }\n\n  ngOnInit() {\n    this.updateView();\n  }\n\n  ngOnDestroy() {\n    this.expand.expandable--;\n    this._subscriptions.forEach((sub: Subscription) => sub.unsubscribe());\n  }\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { CommonModule } from '@angular/common';\nimport { NgModule, Type } from '@angular/core';\n\nimport { ClrIfActive } from './if-active.directive';\nimport { ClrIfOpen } from './if-open.directive';\nimport { ClrIfExpanded } from './if-expanded.directive';\n\nexport const CONDITIONAL_DIRECTIVES: Type<any>[] = [ClrIfActive, ClrIfOpen, ClrIfExpanded];\n\n@NgModule({ imports: [CommonModule], declarations: [CONDITIONAL_DIRECTIVES], exports: [CONDITIONAL_DIRECTIVES] })\nexport class ClrConditionalModule {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Injectable } from '@angular/core';\nimport { FocusTrapDirective } from './focus-trap.directive';\n\n@Injectable({ providedIn: 'root' })\nexport class FocusTrapTracker {\n  private _previousFocusTraps: FocusTrapDirective[] = [];\n  private _current: FocusTrapDirective;\n\n  get current(): FocusTrapDirective {\n    return this._current;\n  }\n\n  set current(value: FocusTrapDirective) {\n    this._previousFocusTraps.push(this._current);\n    this._current = value;\n  }\n\n  get nbFocusTrappers(): number {\n    return this._previousFocusTraps.length;\n  }\n\n  activatePreviousTrapper() {\n    this._current = this._previousFocusTraps.pop();\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { DOCUMENT, isPlatformBrowser } from '@angular/common';\nimport {\n  AfterViewInit,\n  Directive,\n  ElementRef,\n  HostListener,\n  Inject,\n  Injector,\n  Input,\n  OnDestroy,\n  PLATFORM_ID,\n  Renderer2,\n} from '@angular/core';\n\nimport { FocusTrapTracker } from './focus-trap-tracker.service';\n\ninterface FocusTrapConfig {\n  strict: boolean;\n}\n\n@Directive({ selector: '[clrFocusTrap]' })\nexport class FocusTrapDirective implements AfterViewInit, OnDestroy {\n  private previousActiveElement: any;\n  private previousTrappedActiveElement: any;\n  private localFocusEscaped = false;\n  private document: Document;\n  private parentElement: Element;\n\n  private topReboundEl: any;\n  private bottomReboundEl: any;\n\n  constructor(\n    private el: ElementRef,\n    private injector: Injector,\n    private focusTrapsTracker: FocusTrapTracker,\n    private renderer: Renderer2,\n    @Inject(PLATFORM_ID) private platformId: Object\n  ) {\n    this.document = this.injector.get(DOCUMENT);\n    this.focusTrapsTracker.current = this;\n\n    this.renderer.setAttribute(this.el.nativeElement, 'tabindex', '0');\n  }\n\n  private _config: FocusTrapConfig = {\n    strict: true,\n  };\n  @Input('clrFocusTrap')\n  set config(config: FocusTrapConfig) {\n    this._config = Object.assign(this._config, config);\n  }\n\n  @HostListener('document:focusin', ['$event'])\n  onFocusIn(event: any) {\n    if (this.focusTrapsTracker.current !== this || !isPlatformBrowser(this.platformId) || this.localFocusEscaped) {\n      return;\n    }\n    const nativeElement: HTMLElement = this.el.nativeElement;\n    if (this._config.strict && event.target && !nativeElement.contains(event.target)) {\n      // When the focus trap is global, always steal focus back if it goes outside\n      nativeElement.focus();\n    } else if (event.target === this.bottomReboundEl && nativeElement.contains(this.previousTrappedActiveElement)) {\n      // When the focus trap is local, if the user navigates via keyboard to the end element from within the trap, move to top\n      nativeElement.focus();\n    } else if (event.target === this.topReboundEl) {\n      // When the focus trap is local, if the user navigates via keyboard back to start element from within the trap, move to bottom\n      // @TODO implement an acceptable solution to SHIFT+TAB navigation\n    } else if (event.target !== nativeElement && !nativeElement.contains(event.target)) {\n      // If a user has escaped the trap using the mouse\n      // relax, don't do it, when you want to go to it, living those dreams, scheme those schemes, hit me with those laser beams\n      this.localFocusEscaped = true;\n    }\n    // Track the last focused item, so we can check\n    this.previousTrappedActiveElement = event.target;\n  }\n\n  private createFocusableOffScreenEl(): any {\n    // Not using Renderer2's createElement method because that leads to DOM leakage.\n    // https://github.com/angular/angular/issues/26954\n    const offScreenSpan = this.document.createElement('span');\n    this.renderer.setAttribute(offScreenSpan, 'tabindex', '0');\n    this.renderer.addClass(offScreenSpan, 'offscreen-focus-rebounder');\n\n    return offScreenSpan;\n  }\n\n  private addReboundEls() {\n    if (isPlatformBrowser(this.platformId)) {\n      this.topReboundEl = this.createFocusableOffScreenEl();\n      this.bottomReboundEl = this.createFocusableOffScreenEl();\n      const hostElement = this.el.nativeElement;\n      // Add reboundBeforeTrapEl right outside of host element\n      this.renderer.insertBefore(hostElement.parentElement, this.topReboundEl, hostElement);\n      // Add reboundAfterTrapEl right after host element\n      if (hostElement.nextSibling) {\n        this.renderer.insertBefore(hostElement.parentNode, this.bottomReboundEl, hostElement.nextSibling);\n      } else {\n        this.renderer.appendChild(hostElement.parentNode, this.bottomReboundEl);\n      }\n    }\n  }\n\n  private removeReboundEls() {\n    if (isPlatformBrowser(this.platformId) && this.topReboundEl && this.bottomReboundEl) {\n      this.parentElement.removeChild(this.topReboundEl);\n      this.parentElement.removeChild(this.bottomReboundEl);\n      // These are here to to make sure that\n      // we completely delete all traces of the removed DOM objects.\n      delete this.topReboundEl;\n      delete this.bottomReboundEl;\n    }\n  }\n\n  public setPreviousFocus(): void {\n    if (this.previousActiveElement && this.previousActiveElement.focus) {\n      this.previousActiveElement.focus();\n    }\n  }\n\n  ngAfterViewInit() {\n    if (isPlatformBrowser(this.platformId)) {\n      this.previousActiveElement = <HTMLElement>this.document.activeElement;\n      this.parentElement = this.el.nativeElement.parentElement;\n    }\n\n    this.addReboundEls();\n  }\n\n  ngOnDestroy() {\n    this.removeReboundEls();\n    this.setPreviousFocus();\n    this.focusTrapsTracker.activatePreviousTrapper();\n  }\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { CommonModule } from '@angular/common';\nimport { NgModule, Type } from '@angular/core';\nimport { FocusTrapDirective } from './focus-trap.directive';\n\nexport const FOCUS_TRAP_DIRECTIVES: Type<any>[] = [FocusTrapDirective];\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [FOCUS_TRAP_DIRECTIVES],\n  exports: [FOCUS_TRAP_DIRECTIVES],\n})\nexport class ClrFocusTrapModule {}\n","/*\n * Copyright (c) 2017 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nexport const UP_ARROW: number = 38;\nexport const DOWN_ARROW: number = 40;\nexport const RIGHT_ARROW: number = 39;\nexport const LEFT_ARROW: number = 37;\nexport const ENTER: number = 13;\nexport const SPACE: number = 32;\nexport const TAB: number = 9;\nexport const ESC: number = 27;\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\n/**\n * This is the en-001 short locale date format. Setting as default.\n */\nexport const DEFAULT_LOCALE_FORMAT: string = 'dd/MM/y';\n\n// https://en.wikipedia.org/wiki/Date_format_by_country\nexport const LITTLE_ENDIAN_REGEX: RegExp = /d+.+m+.+y+/i;\nexport const MIDDLE_ENDIAN_REGEX: RegExp = /m+.+d+.+y+/i;\n// No need for BIG_ENDIAN_REGEX because anything that doesn't satisfy the above 2\n// is automatically BIG_ENDIAN\n\nexport const DELIMITER_REGEX: RegExp = /d+|m+|y+/i;\n\nexport const USER_INPUT_REGEX: RegExp = /\\d+/g;\n\nexport const MOBILE_USERAGENT_REGEX: RegExp = /Mobi/i;\n\nexport const RTL_REGEX: RegExp = /\\u200f/g;\n\nexport const YEAR: string = 'YYYY';\nexport const MONTH: string = 'MM';\nexport const DATE: string = 'DD';\n\nexport type FormatType = 'LITTLE_ENDIAN' | 'MIDDLE_ENDIAN' | 'BIG_ENDIAN';\n\nexport type InputDateDisplayFormat = {\n  readonly name: FormatType;\n  readonly format: [string, string, string];\n};\n\nexport const LITTLE_ENDIAN: InputDateDisplayFormat = {\n  name: 'LITTLE_ENDIAN',\n  format: [DATE, MONTH, YEAR],\n};\n\nexport const MIDDLE_ENDIAN: InputDateDisplayFormat = {\n  name: 'MIDDLE_ENDIAN',\n  format: [MONTH, DATE, YEAR],\n};\n\nexport const BIG_ENDIAN: InputDateDisplayFormat = {\n  name: 'BIG_ENDIAN',\n  format: [YEAR, MONTH, DATE],\n};\n\nexport const NO_OF_DAYS_IN_A_WEEK: number = 7;\nexport const NO_OF_ROWS_IN_CALENDAR_VIEW: number = 6;\nexport const TOTAL_DAYS_IN_DAYS_VIEW: number = NO_OF_DAYS_IN_A_WEEK * NO_OF_ROWS_IN_CALENDAR_VIEW;\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { WeekDay } from '@angular/common';\n\n/**\n * Returns the number of days in a month.\n */\nexport function getNumberOfDaysInTheMonth(year: number, month: number): number {\n  // If we go to the next month, but use a day of 0, it returns the last day from the previous month\n  return new Date(year, month + 1, 0).getDate();\n}\n\n/**\n * Returns the day for the corresponding date where 0 represents Sunday.\n */\nexport function getDay(year: number, month: number, date: number): WeekDay {\n  return new Date(year, month, date).getDay();\n}\n\n/**\n * Takes in a year and if it is a 2 digit year, returns the corresponding 4 digit year.\n * Window of 80 years before and 20 years after the present year.\n * Credit: https://github.com/globalizejs/globalize/blob/e1b31cd6a4f1cff75b185b68b7a32220aac5196f/src/date/parse.js\n */\nexport function parseToFourDigitYear(year: number): number {\n  if (year > 9999 || (year > 100 && year < 999) || year < 10) {\n    return -1;\n  }\n  if (year > 999) {\n    return year;\n  }\n  const currYear: number = new Date().getFullYear();\n  const century: number = Math.floor(currYear / 100) * 100;\n  let result: number = year + century;\n  if (result > currYear + 20) {\n    result = result - 100;\n  }\n  return result;\n}\n\nexport function datesAreEqual(date1: Date, date2: Date) {\n  if (date1 instanceof Date && date2 instanceof Date) {\n    return (\n      date1.getFullYear() === date2.getFullYear() &&\n      date1.getMonth() === date2.getMonth() &&\n      date1.getDate() === date2.getDate()\n    );\n  } else {\n    return false;\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { DayModel } from './day.model';\n\nexport class DayViewModel {\n  constructor(\n    public dayModel: DayModel,\n    public isTodaysDate: boolean = false,\n    public isExcluded: boolean = false,\n    public isDisabled: boolean = false,\n    public isSelected: boolean = false,\n    public isFocusable: boolean = false\n  ) {}\n\n  /**\n   * Gets the tab index based on the isFocusable flag.\n   */\n  get tabIndex(): number {\n    return this.isFocusable ? 0 : -1;\n  }\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nexport class DayModel {\n  constructor(public readonly year: number, public readonly month: number, public readonly date: number) {}\n\n  /**\n   * Checks if the passed CalendarDate is equal to itself.\n   */\n  isEqual(day: DayModel) {\n    if (day) {\n      return this.year === day.year && this.month === day.month && this.date === day.date;\n    }\n    return false;\n  }\n\n  toDate(): Date {\n    return new Date(this.year, this.month, this.date);\n  }\n\n  /**\n   * Returns a new DayModel which is incremented based on the value passed.\n   */\n  incrementBy(value: number): DayModel {\n    // Creating new Javascript Date object to increment because\n    // it will automatically take care of switching to next or previous\n    // months & years without we having to worry about it.\n    const date: Date = new Date(this.year, this.month, this.date + value);\n    return new DayModel(date.getFullYear(), date.getMonth(), date.getDate());\n  }\n\n  /**\n   * Clones the current day model.\n   */\n  clone(): DayModel {\n    return new DayModel(this.year, this.month, this.date);\n  }\n\n  toComparisonString(): string {\n    return `${this.year}${this.pad(this.month)}${this.pad(this.date)}`;\n  }\n\n  private pad(num: number): string {\n    return num < 10 ? `0${num}` : `${num}`;\n  }\n\n  public toDateString(): string {\n    return this.toDate().toLocaleDateString();\n  }\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { NO_OF_DAYS_IN_A_WEEK, NO_OF_ROWS_IN_CALENDAR_VIEW, TOTAL_DAYS_IN_DAYS_VIEW } from '../utils/constants';\nimport { getDay } from '../utils/date-utils';\n\nimport { CalendarModel } from './calendar.model';\nimport { DayViewModel } from './day-view.model';\nimport { DayModel } from './day.model';\nimport { DateRange } from '../interfaces/date-range.interface';\n\nexport class CalendarViewModel {\n  constructor(\n    public calendar: CalendarModel,\n    private selectedDay: DayModel,\n    private focusableDay: DayModel,\n    private today: DayModel,\n    public firstDayOfWeek: number,\n    private excludedDates: DateRange\n  ) {\n    this.initializeCalendarView();\n  }\n\n  private currMonthDayViews: DayViewModel[] = [];\n\n  private _calendarView: DayViewModel[][];\n\n  /**\n   * DayViewModel matrix. Size 6x7\n   */\n  get calendarView(): DayViewModel[][] {\n    return this._calendarView;\n  }\n\n  /**\n   * Generates a 6x7 matrix of DayViewModel based on the Calendar.\n   * The 6x7 matrix is structured according to the first day of the week.\n   * 6 rows to accommodate months which might have dates spanning over 6 weeks.\n   * 7 columns because there are 7 days in a week :P :D\n   */\n  private initializeCalendarView(): void {\n    // Generate prev and next month calendar models.\n    const prevMonthCalendar: CalendarModel = this.calendar.previousMonth();\n    const nextMonthCalendar: CalendarModel = this.calendar.nextMonth();\n\n    // Get no of days from prev and next months.\n    const daysFromPrevMonthInCalView: number = this.numDaysFromPrevMonthInCalView(\n      this.calendar.year,\n      this.calendar.month\n    );\n    const daysFromNextMonthInCalView: number =\n      TOTAL_DAYS_IN_DAYS_VIEW - (this.calendar.days.length + daysFromPrevMonthInCalView);\n\n    // Generate prev, curr and next day view models\n    let prevMonthDayViews: DayViewModel[] = [];\n    let nextMonthDayViews: DayViewModel[] = [];\n\n    if (daysFromPrevMonthInCalView > 0) {\n      prevMonthDayViews = this.generateDayViewModels(\n        prevMonthCalendar.days.slice(-1 * daysFromPrevMonthInCalView),\n        true,\n        false\n      );\n    }\n\n    this.currMonthDayViews = this.generateDayViewModels(this.calendar.days, false, true);\n\n    if (daysFromNextMonthInCalView > 0) {\n      nextMonthDayViews = this.generateDayViewModels(\n        nextMonthCalendar.days.slice(0, daysFromNextMonthInCalView),\n        true,\n        false\n      );\n    }\n\n    // Generate calendar view and initialize flags\n    this._calendarView = this.generateCalendarView(prevMonthDayViews, this.currMonthDayViews, nextMonthDayViews);\n    this.initializeSelectedDay();\n    this.initializeFocusableDay();\n  }\n\n  private isDateExcluded(date: DayModel) {\n    const { minDate, maxDate }: DateRange = this.excludedDates;\n    const from = minDate.toComparisonString();\n    const to = maxDate.toComparisonString();\n    const today = date.toComparisonString();\n\n    return !(today >= from && today <= to);\n  }\n\n  /**\n   * Generates a DayViewModel array based on the DayModel passed\n   */\n  private generateDayViewModels(days: DayModel[], isExcluded: boolean, isCurrentCalendar: boolean): DayViewModel[] {\n    const dayViews: DayViewModel[] = days.map(day => {\n      return new DayViewModel(day, false, isExcluded, this.isDateExcluded(day), false, false);\n    });\n    if (isCurrentCalendar && this.calendar.isDayInCalendar(this.today)) {\n      dayViews[this.today.date - 1].isTodaysDate = true;\n    }\n    return dayViews;\n  }\n\n  /**\n   * Gets the first day of the current month to figure out how many dates of previous month\n   * are needed to complete the Calendar View based on the first day of the week.\n   * eg: Assuming locale en-US, the first day of the week is Sunday,\n   * if first day of the current month lands on Wednesday, then\n   * (this.getDay function would return 3 since\n   * first day of the week is 0), we need the 3 days from the previous month.\n   */\n  private numDaysFromPrevMonthInCalView(currentYear: number, currentMonth: number): number {\n    const firstDayOfCurrMonth: number = getDay(currentYear, currentMonth, 1);\n\n    if (firstDayOfCurrMonth >= this.firstDayOfWeek) {\n      return firstDayOfCurrMonth - this.firstDayOfWeek;\n    } else {\n      return NO_OF_DAYS_IN_A_WEEK + firstDayOfCurrMonth - this.firstDayOfWeek;\n    }\n  }\n\n  /**\n   * Checks if the Day passed is in the CalendarView.\n   */\n  private isDayInCalendarView(day: DayModel): boolean {\n    if (!this.calendar.isDayInCalendar(day)) {\n      return false;\n    }\n    return true;\n  }\n\n  /**\n   * Using the DayViewModels from the previous, current and next month, this function\n   * generates the CalendarView.\n   */\n  private generateCalendarView(prev: DayViewModel[], curr: DayViewModel[], next: DayViewModel[]): DayViewModel[][] {\n    const combinationArr: DayViewModel[] = [...prev, ...curr, ...next];\n\n    const calendarView: DayViewModel[][] = [];\n    for (let i = 0; i < NO_OF_ROWS_IN_CALENDAR_VIEW; i++) {\n      calendarView[i] = combinationArr.slice(i * NO_OF_DAYS_IN_A_WEEK, (i + 1) * NO_OF_DAYS_IN_A_WEEK);\n    }\n    return calendarView;\n  }\n\n  /**\n   * Initialize the selected day if the day is in the calendar.\n   */\n  private initializeSelectedDay(): void {\n    if (this.selectedDay && this.isDayInCalendarView(this.selectedDay)) {\n      this.currMonthDayViews[this.selectedDay.date - 1].isSelected = true;\n    }\n  }\n\n  /**\n   * Initializes the focusable day if the day is in the calendar. If focusable day is not set, then\n   * we check for the selected day. If selected day is not set then check if today is in the current\n   * calendar. If not then just set the 15th of the current calendar month.\n   */\n  private initializeFocusableDay(): void {\n    if (this.focusableDay && this.isDayInCalendarView(this.focusableDay)) {\n      this.setFocusableFlag(this.focusableDay, true);\n    } else if (this.selectedDay && this.isDayInCalendarView(this.selectedDay)) {\n      this.setFocusableFlag(this.selectedDay, true);\n      this.focusableDay = this.selectedDay.clone();\n    } else if (this.isDayInCalendarView(this.today)) {\n      this.setFocusableFlag(this.today, true);\n      this.focusableDay = this.today.clone();\n    } else {\n      this.focusableDay = new DayModel(this.calendar.year, this.calendar.month, 15);\n      this.setFocusableFlag(this.focusableDay, true);\n    }\n  }\n\n  private setFocusableFlag(day: DayModel, flag: boolean): void {\n    if (day) {\n      this.currMonthDayViews[day.date - 1].isFocusable = flag;\n    }\n  }\n\n  /**\n   * Updates the focusable day in the calendar.\n   */\n  updateFocusableDay(day: DayModel): void {\n    this.setFocusableFlag(this.focusableDay, false);\n    this.setFocusableFlag(day, true);\n    this.focusableDay = day;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { getNumberOfDaysInTheMonth } from '../utils/date-utils';\n\nimport { DayModel } from './day.model';\n\nexport class CalendarModel {\n  constructor(public readonly year: number, public readonly month: number) {\n    this.initializeDaysInCalendar();\n  }\n\n  days: DayModel[];\n\n  /**\n   * Populates the days array with the DayModels in the current Calendar.\n   */\n  private initializeDaysInCalendar(): void {\n    const noOfDaysInCalendar: number = getNumberOfDaysInTheMonth(this.year, this.month);\n    this.days = Array(noOfDaysInCalendar)\n      .fill(null)\n      .map((date, index) => {\n        return new DayModel(this.year, this.month, index + 1);\n      });\n  }\n\n  /**\n   * Checks if the calendar passed is equal to the current calendar.\n   */\n  isEqual(calendar: CalendarModel) {\n    if (calendar) {\n      return this.year === calendar.year && this.month === calendar.month;\n    }\n    return false;\n  }\n\n  /**\n   * Checks if a DayModel is in the Calendar\n   */\n  isDayInCalendar(day: DayModel): boolean {\n    if (day) {\n      return this.year === day.year && this.month === day.month;\n    }\n    return false;\n  }\n\n  /**\n   * Returns CalendarModel of the previous month.\n   */\n  previousMonth(): CalendarModel {\n    if (this.month === 0) {\n      return new CalendarModel(this.year - 1, 11);\n    } else {\n      return new CalendarModel(this.year, this.month - 1);\n    }\n  }\n\n  /**\n   * Returns CalendarModel of the next month.\n   */\n  nextMonth(): CalendarModel {\n    if (this.month === 11) {\n      return new CalendarModel(this.year + 1, 0);\n    } else {\n      return new CalendarModel(this.year, this.month + 1);\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { Subject } from 'rxjs';\nimport { CalendarModel } from '../model/calendar.model';\nimport { DayModel } from '../model/day.model';\n\n/**\n * This service is responsible for:\n * 1. Initializing the displayed calendar.\n * 2. Moving the calendar to the next, previous or current months\n * 3. Managing the focused and selected day models.\n */\n@Injectable()\nexport class DateNavigationService {\n  private _displayedCalendar: CalendarModel;\n\n  get displayedCalendar(): CalendarModel {\n    return this._displayedCalendar;\n  }\n\n  // not a setter because i want this to remain private\n  private setDisplayedCalendar(value: CalendarModel) {\n    if (!this._displayedCalendar.isEqual(value)) {\n      this._displayedCalendar = value;\n      this._displayedCalendarChange.next();\n    }\n  }\n\n  /**\n   * Variable to store today's date.\n   */\n  private _todaysFullDate: Date = new Date();\n  private _today: DayModel;\n\n  private initializeTodaysDate(): void {\n    this._todaysFullDate = new Date();\n    this._today = new DayModel(\n      this._todaysFullDate.getFullYear(),\n      this._todaysFullDate.getMonth(),\n      this._todaysFullDate.getDate()\n    );\n  }\n\n  get today(): DayModel {\n    return this._today;\n  }\n\n  public selectedDay: DayModel;\n\n  private _selectedDayChange: Subject<DayModel> = new Subject<DayModel>();\n\n  get selectedDayChange(): Observable<DayModel> {\n    return this._selectedDayChange.asObservable();\n  }\n\n  /**\n   * Notifies that the selected day has changed so that the date can be emitted to the user.\n   * Note: Only to be called from day.ts\n   */\n  notifySelectedDayChanged(dayModel: DayModel) {\n    this.selectedDay = dayModel;\n    this._selectedDayChange.next(dayModel);\n  }\n\n  public focusedDay: DayModel;\n\n  /**\n   * Initializes the calendar based on the selected day.\n   */\n  initializeCalendar(): void {\n    this.focusedDay = null; // Can be removed later on the store focus\n    this.initializeTodaysDate();\n    if (this.selectedDay) {\n      this._displayedCalendar = new CalendarModel(this.selectedDay.year, this.selectedDay.month);\n    } else {\n      this._displayedCalendar = new CalendarModel(this.today.year, this.today.month);\n    }\n  }\n\n  changeMonth(month: number): void {\n    this.setDisplayedCalendar(new CalendarModel(this._displayedCalendar.year, month));\n  }\n\n  changeYear(year: number): void {\n    this.setDisplayedCalendar(new CalendarModel(year, this._displayedCalendar.month));\n  }\n\n  /**\n   * Moves the displayed calendar to the next month.\n   */\n  moveToNextMonth(): void {\n    this.setDisplayedCalendar(this._displayedCalendar.nextMonth());\n  }\n\n  /**\n   * Moves the displayed calendar to the previous month.\n   */\n  moveToPreviousMonth(): void {\n    this.setDisplayedCalendar(this._displayedCalendar.previousMonth());\n  }\n\n  /**\n   * Moves the displayed calendar to the current month and year.\n   */\n  moveToCurrentMonth(): void {\n    if (!this.displayedCalendar.isDayInCalendar(this.today)) {\n      this.setDisplayedCalendar(new CalendarModel(this.today.year, this.today.month));\n    }\n    this._focusOnCalendarChange.next();\n  }\n\n  incrementFocusDay(value: number): void {\n    this.focusedDay = this.focusedDay.incrementBy(value);\n    if (this._displayedCalendar.isDayInCalendar(this.focusedDay)) {\n      this._focusedDayChange.next(this.focusedDay);\n    } else {\n      this.setDisplayedCalendar(new CalendarModel(this.focusedDay.year, this.focusedDay.month));\n    }\n    this._focusOnCalendarChange.next();\n  }\n\n  private _displayedCalendarChange: Subject<void> = new Subject<void>();\n\n  /**\n   * This observable lets the subscriber know that the displayed calendar has changed.\n   */\n  get displayedCalendarChange(): Observable<void> {\n    return this._displayedCalendarChange.asObservable();\n  }\n\n  private _focusOnCalendarChange: Subject<void> = new Subject<void>();\n\n  /**\n   * This observable lets the subscriber know that the focus should be applied on the calendar.\n   */\n  get focusOnCalendarChange(): Observable<void> {\n    return this._focusOnCalendarChange.asObservable();\n  }\n\n  private _focusedDayChange: Subject<DayModel> = new Subject<DayModel>();\n\n  /**\n   * This observable lets the subscriber know that the focused day in the displayed calendar has changed.\n   */\n  get focusedDayChange(): Observable<DayModel> {\n    return this._focusedDayChange.asObservable();\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { isPlatformBrowser } from '@angular/common';\nimport { ElementRef, Inject, Injectable, NgZone, PLATFORM_ID } from '@angular/core';\nimport { first, filter } from 'rxjs/operators';\n\n/**\n * This service focuses the day that is focusable in the calendar.\n */\n@Injectable()\nexport class DatepickerFocusService {\n  constructor(private _ngZone: NgZone, @Inject(PLATFORM_ID) private platformId: Object) {}\n\n  focusCell(elRef: ElementRef): void {\n    this._ngZone.runOutsideAngular(() => {\n      this.ngZoneIsStableInBrowser().subscribe(() => {\n        const focusEl = elRef.nativeElement.querySelector('[tabindex=\"0\"]');\n        if (focusEl) {\n          focusEl.focus();\n        }\n      });\n    });\n  }\n\n  focusInput(element: HTMLInputElement): void {\n    this._ngZone.runOutsideAngular(() => this.ngZoneIsStableInBrowser().subscribe(() => element.focus()));\n  }\n\n  elementIsFocused(element: HTMLInputElement) {\n    return isPlatformBrowser(this.platformId) && document.activeElement === element;\n  }\n\n  private ngZoneIsStableInBrowser() {\n    // Credit: Material: https://github.com/angular/material2/blob/master/src/lib/datepicker/calendar.ts\n    return this._ngZone.onStable.asObservable().pipe(first(), filter(() => isPlatformBrowser(this.platformId)));\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport {\n  FormatWidth,\n  FormStyle,\n  getLocaleDateFormat,\n  getLocaleDayNames,\n  getLocaleFirstDayOfWeek,\n  getLocaleMonthNames,\n  TranslationWidth,\n} from '@angular/common';\nimport { Inject, Injectable, LOCALE_ID } from '@angular/core';\nimport { ClrDayOfWeek } from '../interfaces/day-of-week.interface';\n\n/**\n * This service extracts the Angular CLDR data needed by the datepicker.\n */\n@Injectable()\nexport class LocaleHelperService {\n  constructor(@Inject(LOCALE_ID) public locale: string) {\n    this.initializeLocaleData();\n  }\n\n  private _firstDayOfWeek: number = 0;\n  private _localeDays: ReadonlyArray<ClrDayOfWeek>;\n  private _localeMonthsAbbreviated: ReadonlyArray<string>;\n  private _localeMonthsWide: ReadonlyArray<string>;\n  private _localeDateFormat: string;\n\n  get firstDayOfWeek(): number {\n    return this._firstDayOfWeek;\n  }\n\n  get localeDays(): ReadonlyArray<ClrDayOfWeek> {\n    return this._localeDays;\n  }\n\n  // leave for backward compatibility\n  get localeDaysNarrow(): ReadonlyArray<string> {\n    return this._localeDays.map(day => day.narrow);\n  }\n\n  get localeMonthsAbbreviated(): ReadonlyArray<string> {\n    return this._localeMonthsAbbreviated;\n  }\n\n  get localeMonthsWide(): ReadonlyArray<string> {\n    return this._localeMonthsWide;\n  }\n\n  get localeDateFormat(): string {\n    return this._localeDateFormat;\n  }\n\n  /**\n   * Initializes the locale data.\n   */\n  private initializeLocaleData(): void {\n    // Order in which these functions is called is very important.\n    this.initializeFirstDayOfWeek();\n    this.initializeLocaleDateFormat();\n    this.initializeLocaleMonthsAbbreviated();\n    this.initializeLocaleMonthsWide();\n    this.initializeLocaleDays();\n  }\n\n  /**\n   * Initialize day names based on the locale.\n   * eg: [{day: Sunday, narrow: S}, {day: Monday, narrow: M}...] for en-US.\n   */\n  private initializeLocaleDays(): void {\n    // Get locale day names starting with Sunday\n    const tempArr = [];\n    const tempWideArr: string[] = getLocaleDayNames(this.locale, FormStyle.Standalone, TranslationWidth.Wide).slice();\n    const tempNarrowArr: string[] = getLocaleDayNames(\n      this.locale,\n      FormStyle.Standalone,\n      TranslationWidth.Narrow\n    ).slice();\n    // Get first day of the week based on the locale\n    const firstDayOfWeek: number = this.firstDayOfWeek;\n    for (let i = 0; i < 7; i++) {\n      tempArr.push({ day: tempWideArr[i], narrow: tempNarrowArr[i] });\n    }\n    // Rearrange the tempArr to start with the first day of the week based on the locale.\n    if (firstDayOfWeek > 0) {\n      const prevDays: string[] = tempArr.splice(0, firstDayOfWeek);\n      tempArr.push(...prevDays);\n    }\n    this._localeDays = tempArr;\n  }\n\n  /**\n   * Initializes the array of month names in the TranslationWidth.Abbreviated format.\n   * e.g. `[Jan, Feb, ...]` for en-US\n   */\n  private initializeLocaleMonthsAbbreviated(): void {\n    this._localeMonthsAbbreviated = getLocaleMonthNames(\n      this.locale,\n      FormStyle.Standalone,\n      TranslationWidth.Abbreviated\n    ).slice();\n  }\n\n  /**\n   * Initializes the array of month names in the TranslationWidth.Wide format.\n   * e.g. `[January, February, ...]` for en-US\n   */\n  private initializeLocaleMonthsWide(): void {\n    this._localeMonthsWide = getLocaleMonthNames(this.locale, FormStyle.Standalone, TranslationWidth.Wide).slice();\n  }\n\n  /**\n   * Initializes the first day of the week based on the locale.\n   */\n  private initializeFirstDayOfWeek(): void {\n    this._firstDayOfWeek = getLocaleFirstDayOfWeek(this.locale);\n  }\n\n  private initializeLocaleDateFormat(): void {\n    this._localeDateFormat = getLocaleDateFormat(this.locale, FormatWidth.Short);\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable } from '@angular/core';\n\nimport {\n  BIG_ENDIAN,\n  DEFAULT_LOCALE_FORMAT,\n  DELIMITER_REGEX,\n  InputDateDisplayFormat,\n  LITTLE_ENDIAN,\n  LITTLE_ENDIAN_REGEX,\n  MIDDLE_ENDIAN,\n  MIDDLE_ENDIAN_REGEX,\n  RTL_REGEX,\n  USER_INPUT_REGEX,\n} from '../utils/constants';\nimport { getNumberOfDaysInTheMonth, parseToFourDigitYear } from '../utils/date-utils';\n\nimport { LocaleHelperService } from './locale-helper.service';\nimport { DateRange } from '../interfaces/date-range.interface';\nimport { DayModel } from '../model/day.model';\n\n@Injectable()\nexport class DateIOService {\n  public disabledDates: DateRange = {\n    // This is the default range. It approximates the beginning of time to the end of time.\n    // Unless a minDate or maxDate is set with the native HTML5 api the range is all dates\n    // TODO: turn this into an Array of min/max ranges that allow configuration of multiple ranges.\n    minDate: new DayModel(0, 0, 1),\n    maxDate: new DayModel(9999, 11, 31),\n  };\n  public cldrLocaleDateFormat: string = DEFAULT_LOCALE_FORMAT;\n  private localeDisplayFormat: InputDateDisplayFormat = LITTLE_ENDIAN;\n  private delimiters: [string, string] = ['/', '/'];\n\n  constructor(private _localeHelperService: LocaleHelperService) {\n    this.cldrLocaleDateFormat = this._localeHelperService.localeDateFormat;\n    this.initializeLocaleDisplayFormat();\n  }\n\n  public setMinDate(date: string): void {\n    // NOTE: I'm expecting consumers to pass one of four things here:\n    //       A proper date string(2019-11-11), null, undefined or empty string ('')\n    if (!date) {\n      // attribute binding was removed, reset back to the beginning of time\n      this.disabledDates.minDate = new DayModel(0, 0, 1);\n    } else {\n      const [year, month, day] = date.split('-').map(n => parseInt(n, 10));\n      this.disabledDates.minDate = new DayModel(year, month - 1, day);\n    }\n  }\n\n  public setMaxDate(date: string): void {\n    // NOTE: I'm expecting consumers to pass one of four things here:\n    //       A proper date string(2019-11-11), null, undefined or empty string ('')\n    if (!date) {\n      // attribute binding was removed, reset forward to the end of time\n      this.disabledDates.maxDate = new DayModel(9999, 11, 31);\n    } else {\n      const [year, month, day] = date.split('-').map(n => parseInt(n, 10));\n      this.disabledDates.maxDate = new DayModel(year, month - 1, day);\n    }\n  }\n\n  private initializeLocaleDisplayFormat(): void {\n    const format: string = this.cldrLocaleDateFormat.toLocaleLowerCase();\n    if (LITTLE_ENDIAN_REGEX.test(format)) {\n      this.localeDisplayFormat = LITTLE_ENDIAN;\n    } else if (MIDDLE_ENDIAN_REGEX.test(format)) {\n      this.localeDisplayFormat = MIDDLE_ENDIAN;\n    } else {\n      // everything else is set to BIG-ENDIAN FORMAT\n      this.localeDisplayFormat = BIG_ENDIAN;\n    }\n    this.extractDelimiters();\n  }\n\n  private extractDelimiters(): void {\n    if (this.cldrLocaleDateFormat) {\n      // Sanitize Date Format. Remove RTL characters.\n      // FIXME: When we support RTL, remove this and handle it correctly.\n      const localeFormat: string = this.cldrLocaleDateFormat.replace(RTL_REGEX, '');\n      const delimiters: string[] = localeFormat.split(DELIMITER_REGEX);\n\n      // NOTE: The split from the CLDR date format should always result\n      // in an arary with 4 elements. The 1st and the 2nd values are the delimiters\n      // we will use in order.\n      // Eg: \"dd/MM/y\".split(/d+|m+|y+/i) results in [\"\", \"/\", \"/\", \"\"]\n      if (delimiters && delimiters.length === 4) {\n        this.delimiters = [delimiters[1], delimiters[2]];\n      } else {\n        console.error('Unexpected date format received. Delimiters extracted: ', delimiters);\n      }\n    }\n  }\n\n  toLocaleDisplayFormatString(date: Date): string {\n    if (date) {\n      if (isNaN(date.getTime())) {\n        return '';\n      }\n      const dateNo: number = date.getDate();\n      const monthNo: number = date.getMonth() + 1;\n      const dateStr: string = dateNo > 9 ? dateNo.toString() : '0' + dateNo;\n      const monthStr: string = monthNo > 9 ? monthNo.toString() : '0' + monthNo;\n      if (this.localeDisplayFormat === LITTLE_ENDIAN) {\n        return dateStr + this.delimiters[0] + monthStr + this.delimiters[1] + date.getFullYear();\n      } else if (this.localeDisplayFormat === MIDDLE_ENDIAN) {\n        return monthStr + this.delimiters[0] + dateStr + this.delimiters[1] + date.getFullYear();\n      } else {\n        return date.getFullYear() + this.delimiters[0] + monthStr + this.delimiters[1] + dateStr;\n      }\n    }\n    return '';\n  }\n\n  get placeholderText(): string {\n    const format: [string, string, string] = this.localeDisplayFormat.format;\n    return format[0] + this.delimiters[0] + format[1] + this.delimiters[1] + format[2];\n  }\n\n  /**\n   * Checks if the month entered by the user is valid or not.\n   * Note: Month is 0 based.\n   */\n  private isValidMonth(month: number): boolean {\n    return month > -1 && month < 12;\n  }\n\n  /**\n   * Checks if the date is valid depending on the year and month provided.\n   */\n  private isValidDate(year: number, month: number, date: number): boolean {\n    return date > 0 && date <= getNumberOfDaysInTheMonth(year, month);\n  }\n\n  /**\n   * Validates the parameters provided and returns the date.\n   * If the parameters are not\n   * valid then return null.\n   * NOTE: (Month here is 1 based since the user has provided that as an input)\n   */\n  private validateAndGetDate(year: string, month: string, date: string): Date {\n    // I don't know whats wrong with the TS compiler. It throws an error if I write\n    // the below if statement. The error is:\n    // Operator '!==' cannot be applied to types '2' and '4'\n    // More info here: https://github.com/Microsoft/TypeScript/issues/12794#issuecomment-270342936\n    /*\n        if (year.length !== 2 || year.length !== 4) {\n            return null;\n        }\n        */\n\n    // Instead I have to write the logic like this x-(\n    const y: number = +year;\n    const m: number = +month - 1; // month is 0 based\n    const d: number = +date;\n    if (!this.isValidMonth(m) || !this.isValidDate(y, m, d)) {\n      return null;\n    }\n    const result: number = parseToFourDigitYear(y);\n    return result !== -1 ? new Date(result, m, d) : null;\n  }\n\n  getDateValueFromDateString(date: string): Date {\n    if (!date) {\n      return null;\n    }\n    const dateParts: string[] = date.match(USER_INPUT_REGEX);\n    if (!dateParts || dateParts.length !== 3) {\n      return null;\n    }\n    const [firstPart, secondPart, thirdPart] = dateParts;\n    if (this.localeDisplayFormat === LITTLE_ENDIAN) {\n      // secondPart is month && firstPart is date\n      return this.validateAndGetDate(thirdPart, secondPart, firstPart);\n    } else if (this.localeDisplayFormat === MIDDLE_ENDIAN) {\n      // firstPart is month && secondPart is date\n      return this.validateAndGetDate(thirdPart, firstPart, secondPart);\n    } else {\n      // secondPart is month && thirdPart is date\n      return this.validateAndGetDate(firstPart, secondPart, thirdPart);\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Component, ElementRef, HostListener, OnDestroy } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { DOWN_ARROW, LEFT_ARROW, RIGHT_ARROW, UP_ARROW } from '../../utils/key-codes/key-codes';\n\nimport { CalendarViewModel } from './model/calendar-view.model';\nimport { CalendarModel } from './model/calendar.model';\nimport { DayModel } from './model/day.model';\nimport { DateNavigationService } from './providers/date-navigation.service';\nimport { DatepickerFocusService } from './providers/datepicker-focus.service';\nimport { LocaleHelperService } from './providers/locale-helper.service';\nimport { NO_OF_DAYS_IN_A_WEEK } from './utils/constants';\nimport { ClrDayOfWeek } from './interfaces/day-of-week.interface';\nimport { DateIOService } from './providers/date-io.service';\n\n@Component({ selector: 'clr-calendar', templateUrl: './calendar.html' })\nexport class ClrCalendar implements OnDestroy {\n  private _subs: Subscription[] = [];\n  constructor(\n    private _localeHelperService: LocaleHelperService,\n    private _dateNavigationService: DateNavigationService,\n    private _datepickerFocusService: DatepickerFocusService,\n    private _dateIOService: DateIOService,\n    private _elRef: ElementRef\n  ) {\n    this.generateCalendarView();\n    this.initializeSubscriptions();\n  }\n\n  /**\n   * Calendar View Model to generate the Calendar.\n   */\n  calendarViewModel: CalendarViewModel;\n\n  /**\n   * Gets the locale days according to the TranslationWidth.Narrow format.\n   */\n  get localeDays(): ReadonlyArray<ClrDayOfWeek> {\n    return this._localeHelperService.localeDays;\n  }\n\n  get calendar(): CalendarModel {\n    return this._dateNavigationService.displayedCalendar;\n  }\n\n  get selectedDay(): DayModel {\n    return this._dateNavigationService.selectedDay;\n  }\n\n  get focusedDay(): DayModel {\n    return this._dateNavigationService.focusedDay;\n  }\n\n  get today(): DayModel {\n    return this._dateNavigationService.today;\n  }\n\n  /**\n   * Initialize subscriptions to:\n   * 1. update the calendar view model.\n   * 2. update the focusable day in the calendar view model.\n   * 3. focus on the focusable day in the calendar.\n   */\n  private initializeSubscriptions(): void {\n    this._subs.push(\n      this._dateNavigationService.displayedCalendarChange.subscribe(() => {\n        this.generateCalendarView();\n      })\n    );\n\n    this._subs.push(\n      this._dateNavigationService.focusedDayChange.subscribe((focusedDay: DayModel) => {\n        this.calendarViewModel.updateFocusableDay(focusedDay);\n      })\n    );\n\n    this._subs.push(\n      this._dateNavigationService.focusOnCalendarChange.subscribe(() => {\n        this._datepickerFocusService.focusCell(this._elRef);\n      })\n    );\n  }\n\n  /**\n   * Generates the Calendar View based on the calendar retrieved from the DateNavigationService.\n   */\n  private generateCalendarView(): void {\n    this.calendarViewModel = new CalendarViewModel(\n      this.calendar,\n      this.selectedDay,\n      this.focusedDay,\n      this.today,\n      this._localeHelperService.firstDayOfWeek,\n      this._dateIOService.disabledDates\n    );\n  }\n\n  /**\n   * Delegates Keyboard arrow navigation to the DateNavigationService.\n   */\n  @HostListener('keydown', ['$event'])\n  onKeyDown(event: KeyboardEvent) {\n    if (event && this.focusedDay) {\n      switch (event.keyCode) {\n        case UP_ARROW:\n          event.preventDefault();\n          this._dateNavigationService.incrementFocusDay(-1 * NO_OF_DAYS_IN_A_WEEK);\n          break;\n        case DOWN_ARROW:\n          event.preventDefault();\n          this._dateNavigationService.incrementFocusDay(NO_OF_DAYS_IN_A_WEEK);\n          break;\n        case LEFT_ARROW:\n          event.preventDefault();\n          this._dateNavigationService.incrementFocusDay(-1);\n          break;\n        case RIGHT_ARROW:\n          event.preventDefault();\n          this._dateNavigationService.incrementFocusDay(1);\n          break;\n        default:\n          break; // No default case. TSLint x-(\n      }\n    }\n  }\n\n  /**\n   * Focuses on the focusable day when the Calendar View is initialized.\n   */\n  ngAfterViewInit() {\n    this._datepickerFocusService.focusCell(this._elRef);\n  }\n\n  /**\n   * Unsubscribe from subscriptions.\n   */\n  ngOnDestroy(): void {\n    this._subs.forEach((sub: Subscription) => sub.unsubscribe());\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable } from '@angular/core';\nimport { BehaviorSubject, Observable } from 'rxjs';\n\n@Injectable()\nexport class FocusService {\n  private _focused: BehaviorSubject<boolean> = new BehaviorSubject(false);\n  get focusChange(): Observable<boolean> {\n    return this._focused.asObservable();\n  }\n  set focused(state: boolean) {\n    this._focused.next(state);\n  }\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable } from '@angular/core';\nimport { Observable, Subject } from 'rxjs';\n\n@Injectable()\nexport class DateFormControlService {\n  private _touchedChange: Subject<void> = new Subject<void>();\n  public disabled;\n\n  get touchedChange(): Observable<void> {\n    return this._touchedChange.asObservable();\n  }\n\n  private _dirtyChange: Subject<void> = new Subject<void>();\n\n  get dirtyChange(): Observable<void> {\n    return this._dirtyChange.asObservable();\n  }\n\n  markAsTouched(): void {\n    this._touchedChange.next();\n  }\n\n  markAsDirty(): void {\n    this._dirtyChange.next();\n  }\n\n  // friendly wrapper\n  setDisabled(state: boolean) {\n    this.disabled = state;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\n// iPad mini screen width\n// http://stephen.io/mediaqueries/#iPadMini\nexport const DATEPICKER_ENABLE_BREAKPOINT: number = 768;\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { DOCUMENT } from '@angular/common';\nimport { Inject, Injectable } from '@angular/core';\n\nimport { DATEPICKER_ENABLE_BREAKPOINT } from '../../../utils/breakpoints/breakpoints';\nimport { MOBILE_USERAGENT_REGEX } from '../utils/constants';\n\n@Injectable()\nexport class DatepickerEnabledService {\n  constructor(@Inject(DOCUMENT) private _document: any) {\n    if (this._document) {\n      this._isUserAgentMobile = MOBILE_USERAGENT_REGEX.test(_document.defaultView.navigator.userAgent);\n      this._innerWidth = _document.defaultView.innerWidth;\n    }\n  }\n\n  private _isUserAgentMobile: boolean = false;\n  private _innerWidth: number;\n\n  /**\n   * Returns if the calendar should be active or not.\n   * If the user agent is mobile and the screen width is less than DATEPICKER_ACTIVE_BREAKPOINT\n   * then the calendar is inactive.\n   */\n  get isEnabled(): boolean {\n    // https://developer.mozilla.org/en-US/docs/Web/HTTP/Browser_detection_using_the_user_agent\n    // What they recommend is:\n    //\"In summary, we recommend looking for the string 'Mobi'\n    // anywhere in the User Agent to detect a mobile device.\"\n    if (this._document) {\n      if (this._innerWidth < DATEPICKER_ENABLE_BREAKPOINT && this._isUserAgentMobile) {\n        return false;\n      }\n    }\n    return true;\n  }\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable } from '@angular/core';\nimport { ClrPopoverPositions } from '../../../utils/popover/enums/positions.enum';\nimport { ClrPopoverPosition } from '../../../utils/popover/interfaces/popover-position.interface';\n\nconst enum DatepickerViewEnum {\n  MONTHVIEW = 'MONTHVIEW',\n  YEARVIEW = 'YEARVIEW',\n  DAYVIEW = 'DAYVIEW',\n}\n\n/**\n * This service manages which view is visible in the datepicker popover.\n */\n@Injectable()\nexport class ViewManagerService {\n  private _currentView: DatepickerViewEnum = DatepickerViewEnum.DAYVIEW;\n  position: ClrPopoverPosition = ClrPopoverPositions['bottom-left'];\n\n  get isDayView(): boolean {\n    return this._currentView === DatepickerViewEnum.DAYVIEW;\n  }\n\n  get isYearView(): boolean {\n    return this._currentView === DatepickerViewEnum.YEARVIEW;\n  }\n\n  get isMonthView(): boolean {\n    return this._currentView === DatepickerViewEnum.MONTHVIEW;\n  }\n\n  changeToMonthView(): void {\n    this._currentView = DatepickerViewEnum.MONTHVIEW;\n  }\n\n  changeToYearView(): void {\n    this._currentView = DatepickerViewEnum.YEARVIEW;\n  }\n\n  changeToDayView(): void {\n    this._currentView = DatepickerViewEnum.DAYVIEW;\n  }\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport {\n  Component,\n  OnDestroy,\n  Optional,\n  ContentChild,\n  AfterViewInit,\n  ViewChild,\n  ElementRef,\n  Input,\n} from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { NgControl } from '@angular/forms';\n\nimport { ClrPopoverToggleService } from '../../utils/popover/providers/popover-toggle.service';\nimport { DynamicWrapper } from '../../utils/host-wrapping/dynamic-wrapper';\nimport { IfErrorService } from '../common/if-error/if-error.service';\nimport { ControlClassService } from '../common/providers/control-class.service';\nimport { ControlIdService } from '../common/providers/control-id.service';\nimport { FocusService } from '../common/providers/focus.service';\nimport { LayoutService } from '../common/providers/layout.service';\nimport { NgControlService } from '../common/providers/ng-control.service';\nimport { ClrLabel } from '../common/label';\n\nimport { DateFormControlService } from './providers/date-form-control.service';\nimport { DateIOService } from './providers/date-io.service';\nimport { DateNavigationService } from './providers/date-navigation.service';\nimport { DatepickerEnabledService } from './providers/datepicker-enabled.service';\nimport { LocaleHelperService } from './providers/locale-helper.service';\nimport { ClrCommonStringsService } from '../../utils/i18n/common-strings.service';\nimport { ClrPopoverPositions } from '../../utils/popover/enums/positions.enum';\nimport { ClrPopoverPosition } from '../../utils/popover/interfaces/popover-position.interface';\nimport { ClrPopoverEventsService } from '../../utils/popover/providers/popover-events.service';\nimport { ClrPopoverPositionService } from '../../utils/popover/providers/popover-position.service';\nimport { ViewManagerService } from './providers/view-manager.service';\n\n@Component({\n  selector: 'clr-date-container',\n  template: `\n      <ng-content select=\"label\"></ng-content>\n      <label *ngIf=\"!label && addGrid()\"></label>\n      <div class=\"clr-control-container\" [ngClass]=\"controlClass()\">\n        <div class=\"clr-input-wrapper\" clrPopoverAnchor>\n          <div class=\"clr-input-group\" [class.clr-focus]=\"focus\">\n            <ng-content select=\"[clrDate]\"></ng-content>\n            <button #actionButton\n                    type=\"button\"\n                    clrPopoverOpenCloseButton\n                    class=\"clr-input-group-icon-action\"\n                    [attr.title]=\"commonStrings.keys.datepickerToggle\"\n                    [attr.aria-label]=\"commonStrings.keys.datepickerToggle\"\n                    [disabled]=\"isInputDateDisabled\"\n                    *ngIf=\"isEnabled\">\n              <clr-icon shape=\"calendar\"></clr-icon>\n            </button>\n            <clr-datepicker-view-manager *clrPopoverContent=\"open at popoverPosition; outsideClickToClose: true; scrollToClose: true\" clrFocusTrap></clr-datepicker-view-manager>\n          </div>\n          <clr-icon class=\"clr-validate-icon\" shape=\"exclamation-circle\"></clr-icon>\n        </div>\n        <ng-content select=\"clr-control-helper\" *ngIf=\"!invalid\"></ng-content>\n        <ng-content select=\"clr-control-error\" *ngIf=\"invalid\"></ng-content>\n      </div>\n    `,\n  providers: [\n    ControlIdService,\n    ClrPopoverToggleService,\n    ClrPopoverEventsService,\n    ClrPopoverPositionService,\n    LocaleHelperService,\n    IfErrorService,\n    ControlClassService,\n    FocusService,\n    NgControlService,\n    DateIOService,\n    DateNavigationService,\n    DatepickerEnabledService,\n    DateFormControlService,\n    ViewManagerService,\n  ],\n  host: {\n    '[class.clr-form-control-disabled]': 'isInputDateDisabled',\n    '[class.clr-form-control]': 'true',\n    '[class.clr-row]': 'addGrid()',\n  },\n})\nexport class ClrDateContainer implements DynamicWrapper, OnDestroy, AfterViewInit {\n  _dynamic: boolean = false;\n  invalid = false;\n  focus = false;\n  control: NgControl;\n  @ContentChild(ClrLabel) label: ClrLabel;\n  @Input('clrPosition')\n  set clrPosition(position: string) {\n    if (position && ClrPopoverPositions[position]) {\n      this.viewManagerService.position = ClrPopoverPositions[position];\n    }\n  }\n  get popoverPosition(): ClrPopoverPosition {\n    return this.viewManagerService.position;\n  }\n\n  public get open() {\n    return this.toggleService.open;\n  }\n\n  private toggleButton: ElementRef;\n  @ViewChild('actionButton')\n  set actionButton(button: ElementRef) {\n    this.toggleButton = button;\n  }\n\n  private subscriptions: Subscription[] = [];\n\n  constructor(\n    private toggleService: ClrPopoverToggleService,\n    private dateNavigationService: DateNavigationService,\n    private datepickerEnabledService: DatepickerEnabledService,\n    private dateFormControlService: DateFormControlService,\n    public commonStrings: ClrCommonStringsService,\n    private ifErrorService: IfErrorService,\n    private focusService: FocusService,\n    private viewManagerService: ViewManagerService,\n    private controlClassService: ControlClassService,\n    @Optional() private layoutService: LayoutService,\n    private ngControlService: NgControlService\n  ) {\n    this.subscriptions.push(\n      this.focusService.focusChange.subscribe(state => {\n        this.focus = state;\n      }),\n      this.ngControlService.controlChanges.subscribe(control => {\n        this.control = control;\n      }),\n      this.toggleService.openChange.subscribe(state => {\n        this.dateFormControlService.markAsTouched();\n      })\n    );\n  }\n\n  ngOnInit() {\n    this.subscriptions.push(\n      this.ifErrorService.statusChanges.subscribe(invalid => {\n        this.invalid = invalid;\n      })\n    );\n  }\n\n  ngAfterViewInit(): void {\n    this.subscriptions.push(\n      this.toggleService.openChange.subscribe(open => {\n        if (open) {\n          this.initializeCalendar();\n        } else {\n          this.toggleButton.nativeElement.focus();\n        }\n      })\n    );\n  }\n\n  /**\n   * Returns the classes to apply to the control\n   */\n  controlClass() {\n    return this.controlClassService.controlClass(this.invalid, this.addGrid());\n  }\n\n  /**\n   * Determines if the control needs to add grid classes\n   */\n  addGrid() {\n    return this.layoutService && !this.layoutService.isVertical();\n  }\n\n  /**\n   * Returns if the Datepicker is enabled or not. If disabled, hides the datepicker trigger.\n   */\n  get isEnabled(): boolean {\n    return this.datepickerEnabledService.isEnabled;\n  }\n\n  /**\n   * Return if Datepicker is diabled or not as Form Control\n   */\n  get isInputDateDisabled(): boolean {\n    /* clrForm wrapper or without clrForm */\n    return (\n      (this.control && this.control.disabled) || (this.dateFormControlService && this.dateFormControlService.disabled)\n    );\n  }\n\n  /**\n   * Processes the user input and Initializes the Calendar everytime the datepicker popover is open.\n   */\n  private initializeCalendar(): void {\n    this.dateNavigationService.initializeCalendar();\n  }\n\n  /**\n   * Unsubscribe from subscriptions.\n   */\n  ngOnDestroy() {\n    this.subscriptions.map(sub => sub.unsubscribe());\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nexport function isBooleanAttributeSet(value: string | boolean): boolean {\n  // for null just return false no need to check anything\n  if (value === null) {\n    return false;\n  }\n  if (typeof value === 'string') {\n    // Empty string is valid, 'true' as string is also valid\n    return value.length >= 0;\n  }\n  // Boolean value will be read as it is, everything else is false\n  return typeof value === 'boolean' ? value : false;\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { isPlatformBrowser } from '@angular/common';\nimport {\n  AfterViewInit,\n  Directive,\n  ElementRef,\n  EventEmitter,\n  HostBinding,\n  HostListener,\n  Inject,\n  Injector,\n  Input,\n  OnDestroy,\n  OnInit,\n  Optional,\n  Output,\n  PLATFORM_ID,\n  Renderer2,\n  Self,\n  ViewContainerRef,\n} from '@angular/core';\nimport { NgControl } from '@angular/forms';\nimport { filter, switchMap } from 'rxjs/operators';\nimport { of } from 'rxjs';\n\nimport { FocusService } from '../common/providers/focus.service';\nimport { WrappedFormControl } from '../common/wrapped-control';\nimport { ClrDateContainer } from './date-container';\nimport { DayModel } from './model/day.model';\nimport { DateFormControlService } from './providers/date-form-control.service';\nimport { DateIOService } from './providers/date-io.service';\nimport { DateNavigationService } from './providers/date-navigation.service';\nimport { DatepickerEnabledService } from './providers/datepicker-enabled.service';\nimport { DatepickerFocusService } from './providers/datepicker-focus.service';\nimport { datesAreEqual } from './utils/date-utils';\nimport { isBooleanAttributeSet } from '../../utils/component/is-boolean-attribute-set';\n\n// There are four ways the datepicker value is set\n// 1. Value set by user typing into text input as a string ex: '01/28/2015'\n// 2. Value set explicitly by Angular Forms APIs as a string ex: '01/28/2015'\n// 3. Value set by user via datepicker UI as a Date Object\n// 4. Value set via `clrDate` input as a Date Object\n\n@Directive({\n  selector: '[clrDate]',\n  host: {\n    '[class.clr-input]': 'true',\n  },\n  providers: [DatepickerFocusService],\n})\nexport class ClrDateInput extends WrappedFormControl<ClrDateContainer> implements OnInit, AfterViewInit, OnDestroy {\n  @Input() placeholder: string;\n  @Output('clrDateChange') dateChange: EventEmitter<Date> = new EventEmitter<Date>(false);\n  @Input('clrDate')\n  set date(date: Date) {\n    if (this.previousDateChange !== date) {\n      this.updateDate(this.getValidDateValueFromDate(date));\n    }\n\n    if (!this.initialClrDateInputValue) {\n      this.initialClrDateInputValue = date;\n    }\n  }\n\n  @Input()\n  set min(dateString: string) {\n    this.dateIOService.setMinDate(dateString);\n  }\n\n  @Input()\n  set max(dateString: string) {\n    this.dateIOService.setMaxDate(dateString);\n  }\n\n  protected index = 1;\n  private initialClrDateInputValue: Date;\n  private previousDateChange: Date;\n\n  constructor(\n    viewContainerRef: ViewContainerRef,\n    injector: Injector,\n    protected el: ElementRef,\n    protected renderer: Renderer2,\n    @Self()\n    @Optional()\n    protected control: NgControl,\n    @Optional() private container: ClrDateContainer,\n    @Optional() private dateIOService: DateIOService,\n    @Optional() private dateNavigationService: DateNavigationService,\n    @Optional() private datepickerEnabledService: DatepickerEnabledService,\n    @Optional() private dateFormControlService: DateFormControlService,\n    @Inject(PLATFORM_ID) private platformId: Object,\n    @Optional() private focusService: FocusService,\n    private datepickerFocusService: DatepickerFocusService\n  ) {\n    super(viewContainerRef, ClrDateContainer, injector, control, renderer, el);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n    this.populateServicesFromContainerComponent();\n\n    this.subscriptions.push(\n      this.listenForUserSelectedDayChanges(),\n      this.listenForControlValueChanges(),\n      this.listenForTouchChanges(),\n      this.listenForDirtyChanges(),\n      this.listenForInputRefocus()\n    );\n  }\n\n  ngAfterViewInit() {\n    // I don't know why I have to do this but after using the new HostWrapping Module I have to delay the processing\n    // of the initial Input set by the user to here. If I do not 2 issues occur:\n    // 1. The Input setter is called before ngOnInit. ngOnInit initializes the services without which the setter fails.\n    // 2. The Renderer doesn't work before ngAfterViewInit (It used to before the new HostWrapping Module for some reason).\n    // I need the renderer to set the value property on the input to make sure that if the user has supplied a Date\n    // input object, we reflect it with the right date on the input field using the IO service. I am not sure if\n    // these are major issues or not but just noting them down here.\n    this.processInitialInputs();\n  }\n\n  @HostListener('focus')\n  setFocusStates() {\n    this.setFocus(true);\n  }\n\n  @HostListener('blur')\n  triggerValidation() {\n    super.triggerValidation();\n    this.setFocus(false);\n  }\n\n  @HostBinding('attr.placeholder')\n  get placeholderText(): string {\n    return this.placeholder ? this.placeholder : this.dateIOService.placeholderText;\n  }\n\n  @HostBinding('attr.type')\n  get inputType(): string {\n    return isPlatformBrowser(this.platformId) && this.usingNativeDatepicker() ? 'date' : 'text';\n  }\n\n  @HostListener('change', ['$event.target'])\n  onValueChange(target: HTMLInputElement) {\n    const validDateValue = this.dateIOService.getDateValueFromDateString(target.value);\n    if (this.usingClarityDatepicker() && validDateValue) {\n      this.updateDate(validDateValue, true);\n    } else if (this.usingNativeDatepicker()) {\n      const [year, month, day] = target.value.split('-');\n      this.updateDate(new Date(+year, +month - 1, +day), true);\n    } else {\n      this.emitDateOutput(null);\n    }\n  }\n\n  @HostBinding('disabled')\n  @Input('disabled')\n  set disabled(value: boolean | string) {\n    if (this.dateFormControlService) {\n      this.dateFormControlService.setDisabled(isBooleanAttributeSet(value));\n    }\n  }\n  get disabled() {\n    if (this.dateFormControlService) {\n      return this.dateFormControlService.disabled;\n    }\n    return null;\n  }\n\n  private usingClarityDatepicker() {\n    return this.datepickerEnabledService.isEnabled;\n  }\n\n  private usingNativeDatepicker() {\n    return !this.datepickerEnabledService.isEnabled;\n  }\n\n  private setFocus(focus: boolean) {\n    if (this.focusService) {\n      this.focusService.focused = focus;\n    }\n  }\n\n  private populateServicesFromContainerComponent() {\n    if (!this.container) {\n      this.dateIOService = this.getProviderFromContainer(DateIOService);\n      this.dateNavigationService = this.getProviderFromContainer(DateNavigationService);\n      this.datepickerEnabledService = this.getProviderFromContainer(DatepickerEnabledService);\n      this.dateFormControlService = this.getProviderFromContainer(DateFormControlService);\n    }\n  }\n\n  private processInitialInputs() {\n    if (this.datepickerHasFormControl()) {\n      this.updateDate(this.dateIOService.getDateValueFromDateString(this.control.value));\n    } else {\n      this.updateDate(this.initialClrDateInputValue);\n    }\n  }\n\n  private updateDate(value: Date, setByUserInteraction = false) {\n    const date = this.getValidDateValueFromDate(value);\n\n    if (setByUserInteraction) {\n      this.emitDateOutput(date);\n    } else {\n      this.previousDateChange = date;\n    }\n\n    if (this.dateNavigationService) {\n      this.dateNavigationService.selectedDay = date\n        ? new DayModel(date.getFullYear(), date.getMonth(), date.getDate())\n        : null;\n    }\n\n    this.updateInput(date);\n  }\n\n  private updateInput(date: Date) {\n    if (date) {\n      const dateString = this.dateIOService.toLocaleDisplayFormatString(date);\n      if (this.usingNativeDatepicker()) {\n        // valueAsDate expects UTC, date from input is time-zoned\n        date.setMinutes(date.getMinutes() - date.getTimezoneOffset());\n        this.renderer.setProperty(this.el.nativeElement, 'valueAsDate', date);\n      } else if (this.datepickerHasFormControl() && dateString !== this.control.value) {\n        this.control.control.setValue(dateString);\n      } else {\n        this.renderer.setProperty(this.el.nativeElement, 'value', dateString);\n      }\n    } else {\n      this.renderer.setProperty(this.el.nativeElement, 'value', '');\n    }\n  }\n\n  private getValidDateValueFromDate(date: Date) {\n    if (this.dateIOService) {\n      const dateString = this.dateIOService.toLocaleDisplayFormatString(date);\n      return this.dateIOService.getDateValueFromDateString(dateString);\n    } else {\n      return null;\n    }\n  }\n\n  private emitDateOutput(date: Date) {\n    if (!datesAreEqual(date, this.previousDateChange)) {\n      this.dateChange.emit(date);\n      this.previousDateChange = date;\n    } else if (!date && this.previousDateChange) {\n      this.dateChange.emit(null);\n      this.previousDateChange = null;\n    }\n  }\n\n  private datepickerHasFormControl() {\n    return !!this.control;\n  }\n\n  private listenForControlValueChanges() {\n    return of(this.datepickerHasFormControl())\n      .pipe(\n        filter(hasControl => hasControl),\n        switchMap(() => this.control.valueChanges),\n        // only update date value if not being set by user\n        filter(() => !this.datepickerFocusService.elementIsFocused(this.el.nativeElement))\n      )\n      .subscribe((value: string) => this.updateDate(this.dateIOService.getDateValueFromDateString(value)));\n  }\n\n  private listenForUserSelectedDayChanges() {\n    return this.dateNavigationService.selectedDayChange.subscribe(dayModel => this.updateDate(dayModel.toDate(), true));\n  }\n\n  private listenForTouchChanges() {\n    return this.dateFormControlService.touchedChange\n      .pipe(filter(() => this.datepickerHasFormControl()))\n      .subscribe(() => this.control.control.markAsTouched());\n  }\n\n  private listenForDirtyChanges() {\n    return this.dateFormControlService.dirtyChange\n      .pipe(filter(() => this.datepickerHasFormControl()))\n      .subscribe(() => this.control.control.markAsDirty());\n  }\n\n  private listenForInputRefocus() {\n    return this.dateNavigationService.selectedDayChange\n      .pipe(filter(date => !!date))\n      .subscribe(v => this.datepickerFocusService.focusInput(this.el.nativeElement));\n  }\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component } from '@angular/core';\n\nimport { DatepickerFocusService } from './providers/datepicker-focus.service';\nimport { ViewManagerService } from './providers/view-manager.service';\n\n@Component({\n  selector: 'clr-datepicker-view-manager',\n  templateUrl: './datepicker-view-manager.html',\n  providers: [DatepickerFocusService],\n  host: {\n    '[class.datepicker]': 'true',\n    '[attr.aria-modal]': 'true',\n  },\n})\nexport class ClrDatepickerViewManager {\n  constructor(private viewManagerService: ViewManagerService) {}\n\n  /**\n   * Returns if the current view is the monthpicker.\n   */\n  get isMonthView(): boolean {\n    return this.viewManagerService.isMonthView;\n  }\n\n  /**\n   * Returns if the current view is the yearpicker.\n   */\n  get isYearView(): boolean {\n    return this.viewManagerService.isYearView;\n  }\n\n  /**\n   * Returns if the current view is the daypicker.\n   */\n  get isDayView(): boolean {\n    return this.viewManagerService.isDayView;\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component, Input } from '@angular/core';\n\nimport { ClrPopoverToggleService } from '../../utils/popover/providers/popover-toggle.service';\n\nimport { DayViewModel } from './model/day-view.model';\nimport { DayModel } from './model/day.model';\nimport { DateFormControlService } from './providers/date-form-control.service';\nimport { DateNavigationService } from './providers/date-navigation.service';\n\n@Component({\n  selector: 'clr-day',\n  template: `\n        <button\n            class=\"day-btn\"\n            type=\"button\"\n            [class.is-today]=\"dayView.isTodaysDate\"\n            [class.is-excluded]=\"dayView.isExcluded\"\n            [class.is-disabled]=\"dayView.isDisabled\"\n            [class.is-selected]=\"dayView.isSelected\"\n            [attr.tabindex]=\"dayView.tabIndex\"\n            (click)=\"selectDay()\"\n            (focus)=\"onDayViewFocus()\"\n            [attr.aria-label]=\"dayString\">\n            {{dayView.dayModel.date}}\n        </button>\n    `,\n  host: { '[class.day]': 'true' },\n})\nexport class ClrDay {\n  private _dayView: DayViewModel;\n  public dayString: string;\n\n  constructor(\n    private _dateNavigationService: DateNavigationService,\n    private _toggleService: ClrPopoverToggleService,\n    private dateFormControlService: DateFormControlService\n  ) {}\n\n  /**\n   * DayViewModel input which is used to build the Day View.\n   */\n\n  @Input('clrDayView')\n  public set dayView(day: DayViewModel) {\n    this._dayView = day;\n    this.dayString = this._dayView.dayModel.toDateString();\n  }\n\n  public get dayView(): DayViewModel {\n    return this._dayView;\n  }\n\n  /**\n   * Updates the focusedDay in the DateNavigationService when the ClrDay is focused.\n   */\n  onDayViewFocus() {\n    this._dateNavigationService.focusedDay = this.dayView.dayModel;\n  }\n\n  /**\n   * Updates the selectedDay when the ClrDay is selected and closes the datepicker popover.\n   */\n  selectDay(): void {\n    const day: DayModel = this.dayView.dayModel;\n    this._dateNavigationService.notifySelectedDayChanged(day);\n    this.dateFormControlService.markAsDirty();\n    this._toggleService.open = false;\n  }\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Component, AfterViewInit } from '@angular/core';\n\nimport { DateNavigationService } from './providers/date-navigation.service';\nimport { LocaleHelperService } from './providers/locale-helper.service';\nimport { ViewManagerService } from './providers/view-manager.service';\nimport { ClrCommonStringsService } from '../../utils/i18n/common-strings.service';\nimport { ClrAriaLiveService } from '../../utils/a11y/aria-live.service';\n\n@Component({\n  selector: 'clr-daypicker',\n  providers: [ClrAriaLiveService],\n  templateUrl: './daypicker.html',\n  host: { '[class.daypicker]': 'true' },\n})\nexport class ClrDaypicker implements AfterViewInit {\n  constructor(\n    private _viewManagerService: ViewManagerService,\n    private _dateNavigationService: DateNavigationService,\n    private _localeHelperService: LocaleHelperService,\n    public commonStrings: ClrCommonStringsService,\n    private ariaLiveService: ClrAriaLiveService\n  ) {}\n\n  ngAfterViewInit() {\n    /** @deprecated since 3.0, remove in 4.0 */\n    this.ariaLiveService.announce(`${this.ariaLiveMonth} ${this.updateAriaLiveYear}`);\n  }\n\n  get monthAttrString(): string {\n    return this.commonStrings.parse(this.commonStrings.keys.datepickerSelectMonthText, {\n      CALENDAR_MONTH: this.calendarMonth,\n    });\n  }\n\n  get yearAttrString(): string {\n    return this.commonStrings.parse(this.commonStrings.keys.datepickerSelectYearText, {\n      CALENDAR_YEAR: this.calendarYear.toString(),\n    });\n  }\n\n  get ariaLiveMonth(): string {\n    return this.commonStrings.parse(this.commonStrings.keys.daypickerSRCurrentMonthPhrase, {\n      CURRENT_MONTH: this.calendarMonth,\n    });\n  }\n\n  get updateAriaLiveYear(): string {\n    return this.commonStrings.parse(this.commonStrings.keys.daypickerSRCurrentYearPhrase, {\n      CURRENT_YEAR: this.calendarYear.toString(),\n    });\n  }\n\n  /**\n   * Calls the ViewManagerService to change to the monthpicker view.\n   */\n  changeToMonthView(): void {\n    this._viewManagerService.changeToMonthView();\n  }\n\n  /**\n   * Calls the ViewManagerService to change to the yearpicker view.\n   */\n  changeToYearView(): void {\n    this._viewManagerService.changeToYearView();\n  }\n\n  /**\n   * Returns the month value of the calendar in the TranslationWidth.Abbreviated format.\n   */\n  get calendarMonth(): string {\n    return this._localeHelperService.localeMonthsAbbreviated[this._dateNavigationService.displayedCalendar.month];\n  }\n\n  /**\n   * Returns the year value of the calendar.\n   */\n  get calendarYear(): number {\n    return this._dateNavigationService.displayedCalendar.year;\n  }\n\n  /**\n   * Calls the DateNavigationService to move to the next month.\n   */\n  nextMonth(): void {\n    this._dateNavigationService.moveToNextMonth();\n  }\n\n  /**\n   * Calls the DateNavigationService to move to the previous month.\n   */\n  previousMonth(): void {\n    this._dateNavigationService.moveToPreviousMonth();\n  }\n\n  /**\n   * Calls the DateNavigationService to move to the current month.\n   */\n  currentMonth(): void {\n    this._dateNavigationService.moveToCurrentMonth();\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { AfterViewInit, Component, ElementRef, HostListener } from '@angular/core';\n\nimport { DOWN_ARROW, LEFT_ARROW, RIGHT_ARROW, UP_ARROW } from '../../utils/key-codes/key-codes';\n\nimport { DateNavigationService } from './providers/date-navigation.service';\nimport { DatepickerFocusService } from './providers/datepicker-focus.service';\nimport { LocaleHelperService } from './providers/locale-helper.service';\nimport { ViewManagerService } from './providers/view-manager.service';\n\n@Component({\n  selector: 'clr-monthpicker',\n  template: `\n        <button\n            type=\"button\"\n            class=\"calendar-btn month\"\n            *ngFor=\"let month of monthNames; let monthIndex = index\"\n            (click)=\"changeMonth(monthIndex)\"\n            [class.is-selected]=\"monthIndex === calendarMonthIndex\"\n            [attr.tabindex]=\"getTabIndex(monthIndex)\">\n            {{month}}\n        </button>\n    `,\n  host: {\n    '[class.monthpicker]': 'true',\n  },\n})\nexport class ClrMonthpicker implements AfterViewInit {\n  constructor(\n    private _viewManagerService: ViewManagerService,\n    private _localeHelperService: LocaleHelperService,\n    private _dateNavigationService: DateNavigationService,\n    private _datepickerFocusService: DatepickerFocusService,\n    private _elRef: ElementRef\n  ) {\n    this._focusedMonthIndex = this.calendarMonthIndex;\n  }\n\n  /**\n   * Keeps track of the current focused month.\n   */\n  private _focusedMonthIndex: number;\n\n  /**\n   * Gets the months array which is used to rendered the monthpicker view.\n   * Months are in the TranslationWidth.Wide format.\n   */\n  get monthNames(): ReadonlyArray<string> {\n    return this._localeHelperService.localeMonthsWide;\n  }\n\n  /**\n   * Gets the month value of the Calendar.\n   */\n  get calendarMonthIndex(): number {\n    return this._dateNavigationService.displayedCalendar.month;\n  }\n\n  /**\n   * Calls the DateNavigationService to update the month value of the calendar.\n   * Also changes the view to the daypicker.\n   */\n  changeMonth(monthIndex: number) {\n    this._dateNavigationService.changeMonth(monthIndex);\n    this._viewManagerService.changeToDayView();\n  }\n\n  /**\n   * Compares the month passed to the focused month and returns the tab index.\n   */\n  getTabIndex(monthIndex: number): number {\n    return monthIndex === this._focusedMonthIndex ? 0 : -1;\n  }\n\n  /**\n   * Handles the Keyboard arrow navigation for the monthpicker.\n   */\n  @HostListener('keydown', ['$event'])\n  onKeyDown(event: KeyboardEvent) {\n    // NOTE: Didn't move this to the date navigation service because\n    // the logic is fairly simple and it didn't make sense for me\n    // to create extra observables just to move this logic to the service.\n    if (event) {\n      const keyCode: number = event.keyCode;\n      if (keyCode === UP_ARROW && this._focusedMonthIndex > 0) {\n        event.preventDefault();\n        this._focusedMonthIndex--;\n        this._datepickerFocusService.focusCell(this._elRef);\n      } else if (keyCode === DOWN_ARROW && this._focusedMonthIndex < 11) {\n        event.preventDefault();\n        this._focusedMonthIndex++;\n        this._datepickerFocusService.focusCell(this._elRef);\n      } else if (keyCode === RIGHT_ARROW && this._focusedMonthIndex < 6) {\n        event.preventDefault();\n        this._focusedMonthIndex = this._focusedMonthIndex + 6;\n        this._datepickerFocusService.focusCell(this._elRef);\n      } else if (keyCode === LEFT_ARROW && this._focusedMonthIndex > 5) {\n        event.preventDefault();\n        this._focusedMonthIndex = this._focusedMonthIndex - 6;\n        this._datepickerFocusService.focusCell(this._elRef);\n      }\n    }\n  }\n\n  /**\n   * Focuses on the current calendar month when the View is initialized.\n   */\n  ngAfterViewInit() {\n    this._datepickerFocusService.focusCell(this._elRef);\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nconst YEARS_TO_DISPLAY: number = 10;\n\nexport class YearRangeModel {\n  constructor(private readonly year: number) {\n    this.generateYearRange();\n  }\n\n  yearRange: number[] = [];\n\n  /**\n   * Gets the number in the middle of the range.\n   */\n  get middleYear(): number {\n    return this.yearRange[Math.floor(this.yearRange.length / 2)];\n  }\n\n  /**\n   * Generates the year range based on the year parameter.\n   * eg: If 2018 is passed the output will be [2010, 2011, ..., 2019]\n   */\n  private generateYearRange() {\n    const remainder: number = this.year % YEARS_TO_DISPLAY;\n    const floor: number = this.year - remainder;\n    const ceil: number = floor + YEARS_TO_DISPLAY;\n    this.yearRange = this.generateRange(floor, ceil);\n  }\n\n  /**\n   * Function which generate a range of numbers from floor to ceil.\n   */\n  private generateRange(floor: number, ceil: number): number[] {\n    return Array.from({ length: ceil - floor }, (v, k) => k + floor);\n  }\n\n  /**\n   * Generates the YearRangeModel for the next decade.\n   */\n  nextDecade(): YearRangeModel {\n    return new YearRangeModel(this.year + 10);\n  }\n\n  /**\n   * Generates the YearRangeModel for the previous decade.\n   */\n  previousDecade(): YearRangeModel {\n    return new YearRangeModel(this.year - 10);\n  }\n\n  /**\n   * Generates the YearRangeModel for the current decade.\n   */\n  currentDecade(): YearRangeModel {\n    return new YearRangeModel(new Date().getFullYear());\n  }\n\n  /**\n   * Checks if the value is in the YearRangeModel.\n   */\n  inRange(value: number): boolean {\n    return this.yearRange.indexOf(value) > -1;\n  }\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { AfterViewInit, Component, ElementRef, HostListener } from '@angular/core';\n\nimport { DOWN_ARROW, LEFT_ARROW, RIGHT_ARROW, UP_ARROW } from '../../utils/key-codes/key-codes';\n\nimport { YearRangeModel } from './model/year-range.model';\nimport { DateNavigationService } from './providers/date-navigation.service';\nimport { DatepickerFocusService } from './providers/datepicker-focus.service';\nimport { ViewManagerService } from './providers/view-manager.service';\nimport { ClrCommonStringsService } from '../../utils/i18n/common-strings.service';\nimport { ClrAriaLiveService } from '../../utils/a11y/aria-live.service';\n\n@Component({\n  selector: 'clr-yearpicker',\n  providers: [ClrAriaLiveService],\n  template: `\n        <div class=\"year-switchers\">\n          <button\n              class=\"calendar-btn switcher\"\n              type=\"button\"\n              (click)=\"previousDecade()\"\n              [attr.aria-label]=\"commonStrings.keys.datepickerPreviousDecade\">\n              <clr-icon shape=\"angle\" dir=\"left\" [attr.title]=\"commonStrings.keys.datepickerPreviousDecade\"></clr-icon>\n          </button>\n          <button\n              class=\"calendar-btn switcher\"\n              type=\"button\"\n              (click)=\"currentDecade()\"\n              [attr.aria-label]=\"commonStrings.keys.datepickerCurrentDecade\">\n              <clr-icon shape=\"event\" [attr.title]=\"commonStrings.keys.datepickerCurrentDecade\"></clr-icon>\n          </button>\n          <button\n              class=\"calendar-btn switcher\"\n              type=\"button\"\n              (click)=\"nextDecade()\"\n              [attr.aria-label]=\"commonStrings.keys.datepickerNextDecade\">\n              <clr-icon shape=\"angle\" dir=\"right\" [attr.title]=\"commonStrings.keys.datepickerNextDecade\"></clr-icon>\n          </button>\n        </div>\n        <div class=\"years\">\n            <button\n                *ngFor=\"let year of yearRangeModel.yearRange\"\n                type=\"button\"\n                class=\"calendar-btn year\"\n                [attr.tabindex]=\"getTabIndex(year)\"\n                [class.is-selected]=\"year === calendarYear\"\n                (click)=\"changeYear(year)\">\n                {{year}}\n            </button>\n        </div>\n    `,\n  host: {\n    '[class.yearpicker]': 'true',\n  },\n})\nexport class ClrYearpicker implements AfterViewInit {\n  constructor(\n    private _dateNavigationService: DateNavigationService,\n    private _viewManagerService: ViewManagerService,\n    private _datepickerFocusService: DatepickerFocusService,\n    private _elRef: ElementRef,\n    public commonStrings: ClrCommonStringsService,\n    private ariaLiveService: ClrAriaLiveService\n  ) {\n    this.yearRangeModel = new YearRangeModel(this.calendarYear);\n    this._focusedYear = this.calendarYear;\n    this.updateRange(this.yearRangeModel);\n  }\n\n  /** @deprecated since 3.0, remove in 4.0 */\n  get ariaLiveDecadeText(): string {\n    return this.commonStrings.parse(this.commonStrings.keys.daypickerSRCurrentDecadePhrase, {\n      DECADE_RANGE: this.decadeRange,\n    });\n  }\n\n  private decadeRange;\n\n  /**\n   * YearRangeModel which is used to build the YearPicker view.\n   */\n  yearRangeModel: YearRangeModel;\n\n  /**\n   * Keeps track of the current focused year.\n   */\n  private _focusedYear: number;\n\n  /**\n   * Gets the year which the user is currently on.\n   */\n  get calendarYear(): number {\n    return this._dateNavigationService.displayedCalendar.year;\n  }\n\n  /**\n   * Increments the focus year by the value passed. Updates the YearRangeModel if the\n   * new value is not in the current decade.\n   */\n  private incrementFocusYearBy(value: number): void {\n    this._focusedYear = this._focusedYear + value;\n    if (!this.yearRangeModel.inRange(this._focusedYear)) {\n      if (value > 0) {\n        this.yearRangeModel = this.yearRangeModel.nextDecade();\n      } else {\n        this.yearRangeModel = this.yearRangeModel.previousDecade();\n      }\n    }\n    this._datepickerFocusService.focusCell(this._elRef);\n  }\n\n  /**\n   * Calls the DateNavigationService to update the year value of the calendar.\n   * Also changes the view to the daypicker.\n   */\n  changeYear(year: number): void {\n    this._dateNavigationService.changeYear(year);\n    this._viewManagerService.changeToDayView();\n  }\n\n  /**\n   * Updates the YearRangeModel to the previous decade.\n   */\n  previousDecade(): void {\n    this.yearRangeModel = this.yearRangeModel.previousDecade();\n    this.updateRange(this.yearRangeModel);\n    // Year in the yearpicker is not focused because while navigating to a different decade,\n    // you want the focus to remain on the decade switcher arrows.\n  }\n\n  /**\n   * Updates the YearRangeModel to the current decade.\n   */\n  currentDecade(): void {\n    if (!this.yearRangeModel.inRange(this._dateNavigationService.today.year)) {\n      this.yearRangeModel = this.yearRangeModel.currentDecade();\n    }\n    this._datepickerFocusService.focusCell(this._elRef);\n    this.updateRange(this.yearRangeModel);\n  }\n\n  /**\n   * Updates the YearRangeModel to the next decade.\n   */\n  nextDecade(): void {\n    this.yearRangeModel = this.yearRangeModel.nextDecade();\n    this.updateRange(this.yearRangeModel);\n    // Year in the yearpicker is not focused because while navigating to a different decade,\n    // you want the focus to remain on the decade switcher arrows.\n  }\n\n  /**\n   * Compares the year passed to the focused year and returns the tab index.\n   */\n  getTabIndex(year: number): number {\n    if (!this.yearRangeModel.inRange(this._focusedYear)) {\n      if (this.yearRangeModel.inRange(this.calendarYear)) {\n        this._focusedYear = this.calendarYear;\n      } else {\n        this._focusedYear = this.yearRangeModel.middleYear;\n      }\n    }\n    return this._focusedYear === year ? 0 : -1;\n  }\n\n  /**\n   * Handles the Keyboard arrow navigation for the yearpicker.\n   */\n  @HostListener('keydown', ['$event'])\n  onKeyDown(event: KeyboardEvent) {\n    // NOTE: Didn't move this to the date navigation service because\n    // the logic is fairly simple and it didn't make sense for me\n    // to create extra observables just to move this logic to the service.\n    if (event) {\n      const keyCode: number = event.keyCode;\n      if (keyCode === UP_ARROW) {\n        event.preventDefault();\n        this.incrementFocusYearBy(-1);\n      } else if (keyCode === DOWN_ARROW) {\n        event.preventDefault();\n        this.incrementFocusYearBy(1);\n      } else if (keyCode === RIGHT_ARROW) {\n        event.preventDefault();\n        this.incrementFocusYearBy(5);\n      } else if (keyCode === LEFT_ARROW) {\n        event.preventDefault();\n        this.incrementFocusYearBy(-5);\n      }\n    }\n  }\n\n  private updateRange(yrm: YearRangeModel): void {\n    const floor = yrm.yearRange[0];\n    const ceil = yrm.yearRange[yrm.yearRange.length - 1];\n    this.decadeRange = `${floor} to ${ceil}`;\n    /** @deprecated since 3.0, remove in 4.0 */\n    this.ariaLiveService.announce(this.ariaLiveDecadeText);\n  }\n\n  /**\n   * Focuses on the current calendar year when the View is initialized.\n   */\n  ngAfterViewInit() {\n    this._datepickerFocusService.focusCell(this._elRef);\n    /** @deprecated since 3.0, remove in 4.0 */\n    this.ariaLiveService.announce(this.ariaLiveDecadeText);\n  }\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule, Type } from '@angular/core';\n\nimport { ClrIconModule } from '../../icon/icon.module';\nimport { ClrConditionalModule } from '../../utils/conditional/conditional.module';\nimport { ClrFocusTrapModule } from '../../utils/focus-trap/focus-trap.module';\nimport { ClrHostWrappingModule } from '../../utils/host-wrapping/host-wrapping.module';\nimport { ClrCommonFormsModule } from '../common/common.module';\nimport { ClrPopoverModuleNext } from '../../utils/popover/popover.module';\n\nimport { ClrCalendar } from './calendar';\nimport { ClrDateContainer } from './date-container';\nimport { ClrDateInput } from './date-input';\nimport { ClrDatepickerViewManager } from './datepicker-view-manager';\nimport { ClrDay } from './day';\nimport { ClrDaypicker } from './daypicker';\nimport { ClrMonthpicker } from './monthpicker';\nimport { ClrYearpicker } from './yearpicker';\n\nexport const CLR_DATEPICKER_DIRECTIVES: Type<any>[] = [\n  ClrDay,\n  ClrDateContainer,\n  ClrDateInput,\n  ClrDatepickerViewManager,\n  ClrMonthpicker,\n  ClrYearpicker,\n  ClrDaypicker,\n  ClrCalendar,\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ClrHostWrappingModule,\n    ClrConditionalModule,\n    ClrPopoverModuleNext,\n    ClrIconModule,\n    ClrFocusTrapModule,\n    ClrCommonFormsModule,\n  ],\n  declarations: [CLR_DATEPICKER_DIRECTIVES],\n  exports: [CLR_DATEPICKER_DIRECTIVES],\n  entryComponents: [ClrDateContainer],\n})\nexport class ClrDatepickerModule {}\n","/**\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component } from '@angular/core';\n\nimport { IfErrorService } from '../common/if-error/if-error.service';\nimport { NgControlService } from '../common/providers/ng-control.service';\nimport { ControlIdService } from '../common/providers/control-id.service';\nimport { ControlClassService } from '../common/providers/control-class.service';\nimport { ClrAbstractContainer } from '../common/abstract-container';\n\n@Component({\n  selector: 'clr-input-container',\n  template: `\n        <ng-content select=\"label\"></ng-content>\n        <label *ngIf=\"!label && addGrid()\"></label>\n        <div class=\"clr-control-container\" [ngClass]=\"controlClass()\">\n            <div class=\"clr-input-wrapper\">\n                <ng-content select=\"[clrInput]\"></ng-content>\n                <clr-icon *ngIf=\"invalid\" class=\"clr-validate-icon\" shape=\"exclamation-circle\" aria-hidden=\"true\"></clr-icon>\n            </div>\n            <ng-content select=\"clr-control-helper\" *ngIf=\"!invalid\"></ng-content>\n            <ng-content select=\"clr-control-error\" *ngIf=\"invalid\"></ng-content>\n        </div>\n    `,\n  host: {\n    '[class.clr-form-control]': 'true',\n    '[class.clr-form-control-disabled]': 'control?.disabled',\n    '[class.clr-row]': 'addGrid()',\n  },\n  providers: [IfErrorService, NgControlService, ControlIdService, ControlClassService],\n})\nexport class ClrInputContainer extends ClrAbstractContainer {}\n","/**\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Directive, Optional, ViewContainerRef, Renderer2, ElementRef, Injector, Self } from '@angular/core';\nimport { NgControl } from '@angular/forms';\n\nimport { ClrInputContainer } from './input-container';\nimport { WrappedFormControl } from '../common/wrapped-control';\n\n@Directive({ selector: '[clrInput]', host: { '[class.clr-input]': 'true' } })\nexport class ClrInput extends WrappedFormControl<ClrInputContainer> {\n  protected index = 1;\n\n  constructor(\n    vcr: ViewContainerRef,\n    injector: Injector,\n    @Self()\n    @Optional()\n    control: NgControl,\n    renderer: Renderer2,\n    el: ElementRef\n  ) {\n    super(vcr, ClrInputContainer, injector, control, renderer, el);\n  }\n}\n","/**\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\n\nimport { ClrIconModule } from '../../icon/icon.module';\nimport { ClrCommonFormsModule } from '../common/common.module';\n\nimport { ClrInput } from './input';\nimport { ClrInputContainer } from './input-container';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, ClrIconModule, ClrCommonFormsModule],\n  declarations: [ClrInput, ClrInputContainer],\n  exports: [ClrCommonFormsModule, ClrInput, ClrInputContainer],\n  entryComponents: [ClrInputContainer],\n})\nexport class ClrInputModule {}\n","/**\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component, Inject, InjectionToken, Input, Optional } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\n\nimport { IfErrorService } from '../common/if-error/if-error.service';\nimport { ControlClassService } from '../common/providers/control-class.service';\nimport { ControlIdService } from '../common/providers/control-id.service';\nimport { FocusService } from '../common/providers/focus.service';\nimport { LayoutService } from '../common/providers/layout.service';\nimport { NgControlService } from '../common/providers/ng-control.service';\nimport { ClrCommonStringsService } from '../../utils/i18n/common-strings.service';\nimport { ClrAbstractContainer } from '../common/abstract-container';\n\nexport const TOGGLE_SERVICE = new InjectionToken<BehaviorSubject<boolean>>(undefined);\nexport function ToggleServiceFactory() {\n  return new BehaviorSubject<boolean>(false);\n}\nexport const TOGGLE_SERVICE_PROVIDER = { provide: TOGGLE_SERVICE, useFactory: ToggleServiceFactory };\n\n@Component({\n  selector: 'clr-password-container',\n  template: `\n    <ng-content select=\"label\"></ng-content>\n    <label *ngIf=\"!label && addGrid()\"></label>\n    <div class=\"clr-control-container\" [ngClass]=\"controlClass()\">\n      <div class=\"clr-input-wrapper\">\n        <div class=\"clr-input-group\" [class.clr-focus]=\"focus\">\n          <ng-content select=\"[clrPassword]\"></ng-content>\n          <button\n            *ngIf=\"clrToggle\"\n            (click)=\"toggle()\"\n            [disabled]=\"control?.disabled\"\n            class=\"clr-input-group-icon-action\"\n            type=\"button\">\n            <clr-icon\n            [attr.shape]=\"show ? 'eye-hide' : 'eye'\"\n            [attr.title]=\"show ? commonStrings.keys.hide : commonStrings.keys.show\"></clr-icon>\n          </button>\n        </div>\n        <clr-icon *ngIf=\"invalid\" class=\"clr-validate-icon\" shape=\"exclamation-circle\" aria-hidden=\"true\"></clr-icon>\n      </div>\n      <ng-content select=\"clr-control-helper\" *ngIf=\"!invalid\"></ng-content>\n      <ng-content select=\"clr-control-error\" *ngIf=\"invalid\"></ng-content>\n    </div>\n    `,\n  host: {\n    '[class.clr-form-control]': 'true',\n    '[class.clr-form-control-disabled]': 'control?.disabled',\n    '[class.clr-row]': 'addGrid()',\n  },\n  providers: [\n    IfErrorService,\n    NgControlService,\n    ControlIdService,\n    ControlClassService,\n    FocusService,\n    TOGGLE_SERVICE_PROVIDER,\n  ],\n})\nexport class ClrPasswordContainer extends ClrAbstractContainer {\n  show = false;\n  focus = false;\n  private _toggle = true;\n\n  @Input('clrToggle')\n  set clrToggle(state: boolean) {\n    this._toggle = state;\n    if (!state) {\n      this.show = false;\n    }\n  }\n  get clrToggle() {\n    return this._toggle;\n  }\n\n  constructor(\n    ifErrorService: IfErrorService,\n    @Optional() layoutService: LayoutService,\n    controlClassService: ControlClassService,\n    ngControlService: NgControlService,\n    public focusService: FocusService,\n    @Inject(TOGGLE_SERVICE) private toggleService: BehaviorSubject<boolean>,\n    public commonStrings: ClrCommonStringsService\n  ) {\n    super(ifErrorService, layoutService, controlClassService, ngControlService);\n    this.subscriptions.push(\n      this.focusService.focusChange.subscribe(state => {\n        this.focus = state;\n      })\n    );\n  }\n\n  toggle() {\n    this.show = !this.show;\n    this.toggleService.next(this.show);\n  }\n}\n","/**\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport {\n  Directive,\n  ElementRef,\n  HostListener,\n  Inject,\n  Injector,\n  OnDestroy,\n  OnInit,\n  Optional,\n  Renderer2,\n  Self,\n  ViewContainerRef,\n} from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { NgControl } from '@angular/forms';\n\nimport { ClrPasswordContainer, TOGGLE_SERVICE } from './password-container';\nimport { WrappedFormControl } from '../common/wrapped-control';\nimport { FocusService } from '../common/providers/focus.service';\n\n@Directive({ selector: '[clrPassword]', host: { '[class.clr-input]': 'true' } })\nexport class ClrPassword extends WrappedFormControl<ClrPasswordContainer> implements OnInit, OnDestroy {\n  protected index = 1;\n\n  constructor(\n    vcr: ViewContainerRef,\n    injector: Injector,\n    @Self()\n    @Optional()\n    control: NgControl,\n    renderer: Renderer2,\n    el: ElementRef,\n    @Optional() private focusService: FocusService,\n    @Optional()\n    @Inject(TOGGLE_SERVICE)\n    private toggleService: BehaviorSubject<boolean>\n  ) {\n    super(vcr, ClrPasswordContainer, injector, control, renderer, el);\n\n    if (!this.focusService) {\n      throw new Error('clrPassword requires being wrapped in <clr-password-container>');\n    }\n\n    this.subscriptions.push(\n      this.toggleService.subscribe(toggle => {\n        renderer.setProperty(el.nativeElement, 'type', toggle ? 'text' : 'password');\n      })\n    );\n  }\n\n  @HostListener('focus')\n  triggerFocus() {\n    if (this.focusService) {\n      this.focusService.focused = true;\n    }\n  }\n\n  @HostListener('blur')\n  triggerValidation() {\n    super.triggerValidation();\n    if (this.focusService) {\n      this.focusService.focused = false;\n    }\n  }\n}\n","/**\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\n\nimport { ClrIconModule } from '../../icon/icon.module';\nimport { ClrCommonFormsModule } from '../common/common.module';\n\nimport { ClrPassword } from './password';\nimport { ClrPasswordContainer } from './password-container';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, ClrIconModule, ClrCommonFormsModule],\n  declarations: [ClrPassword, ClrPasswordContainer],\n  exports: [ClrCommonFormsModule, ClrPassword, ClrPasswordContainer],\n  entryComponents: [ClrPasswordContainer],\n})\nexport class ClrPasswordModule {}\n","/**\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component, ContentChild, OnInit } from '@angular/core';\n\nimport { DynamicWrapper } from '../../utils/host-wrapping/dynamic-wrapper';\nimport { ControlIdService } from '../common/providers/control-id.service';\nimport { ClrLabel } from '../common/label';\n\n@Component({\n  selector: 'clr-radio-wrapper',\n  template: `\n    <ng-content select=\"[clrRadio]\"></ng-content>\n    <ng-content select=\"label\"></ng-content>\n    <label *ngIf=\"!label\"></label>\n  `,\n  host: {\n    '[class.clr-radio-wrapper]': 'true',\n  },\n  providers: [ControlIdService],\n})\nexport class ClrRadioWrapper implements DynamicWrapper, OnInit {\n  // We need both _dynamic for HostWrapper and ContentChild(ClrLabel) in cases where\n  // the user puts a radio inside a wrapper without a label, host wrapping doesn't apply\n  // but we'd still need to insert a label\n  _dynamic = false;\n  @ContentChild(ClrLabel, { static: true })\n  label: ClrLabel;\n\n  ngOnInit() {\n    if (this.label) {\n      this.label.disableGrid();\n    }\n  }\n}\n","/**\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Directive, ElementRef, Injector, Optional, Renderer2, Self, ViewContainerRef } from '@angular/core';\nimport { NgControl } from '@angular/forms';\n\nimport { WrappedFormControl } from '../common/wrapped-control';\nimport { ClrRadioWrapper } from '../radio/radio-wrapper';\n\n@Directive({ selector: '[clrRadio]' })\nexport class ClrRadio extends WrappedFormControl<ClrRadioWrapper> {\n  constructor(\n    vcr: ViewContainerRef,\n    injector: Injector,\n    @Self()\n    @Optional()\n    control: NgControl,\n    renderer: Renderer2,\n    el: ElementRef\n  ) {\n    super(vcr, ClrRadioWrapper, injector, control, renderer, el);\n  }\n}\n","/**\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component, Input } from '@angular/core';\n\nimport { IfErrorService } from '../common/if-error/if-error.service';\nimport { ControlClassService } from '../common/providers/control-class.service';\nimport { NgControlService } from '../common/providers/ng-control.service';\nimport { ClrAbstractContainer } from '../common/abstract-container';\n\n@Component({\n  selector: 'clr-radio-container',\n  template: `\n    <ng-content select=\"label\"></ng-content>\n    <label *ngIf=\"!label && addGrid()\"></label>\n    <div class=\"clr-control-container\" [class.clr-control-inline]=\"clrInline\" [ngClass]=\"controlClass()\">\n      <ng-content select=\"clr-radio-wrapper\"></ng-content>\n      <div class=\"clr-subtext-wrapper\">\n        <ng-content select=\"clr-control-helper\" *ngIf=\"!invalid\"></ng-content>\n        <clr-icon *ngIf=\"invalid\" class=\"clr-validate-icon\" shape=\"exclamation-circle\" aria-hidden=\"true\"></clr-icon>\n        <ng-content select=\"clr-control-error\" *ngIf=\"invalid\"></ng-content>\n      </div>\n    </div>\n    `,\n  host: {\n    '[class.clr-form-control]': 'true',\n    '[class.clr-form-control-disabled]': 'control?.disabled',\n    '[class.clr-row]': 'addGrid()',\n  },\n  providers: [NgControlService, ControlClassService, IfErrorService],\n})\nexport class ClrRadioContainer extends ClrAbstractContainer {\n  private inline = false;\n\n  /*\n   * Here we want to support the following cases\n   * clrInline - true by presence\n   * clrInline=\"true|false\" - unless it is explicitly false, strings are considered true\n   * [clrInline]=\"true|false\" - expect a boolean\n   */\n  @Input()\n  set clrInline(value: boolean | string) {\n    if (typeof value === 'string') {\n      this.inline = value === 'false' ? false : true;\n    } else {\n      this.inline = !!value;\n    }\n  }\n  get clrInline() {\n    return this.inline;\n  }\n}\n","/**\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { ClrIconModule } from '../../icon/icon.module';\n\nimport { ClrHostWrappingModule } from '../../utils/host-wrapping/host-wrapping.module';\nimport { ClrCommonFormsModule } from '../common/common.module';\n\nimport { ClrRadio } from './radio';\nimport { ClrRadioContainer } from './radio-container';\nimport { ClrRadioWrapper } from './radio-wrapper';\n\n@NgModule({\n  imports: [CommonModule, ClrCommonFormsModule, ClrHostWrappingModule, ClrIconModule],\n  declarations: [ClrRadio, ClrRadioContainer, ClrRadioWrapper],\n  exports: [ClrCommonFormsModule, ClrRadio, ClrRadioContainer, ClrRadioWrapper],\n  entryComponents: [ClrRadioWrapper],\n})\nexport class ClrRadioModule {}\n","/**\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component, ContentChild } from '@angular/core';\nimport { SelectMultipleControlValueAccessor } from '@angular/forms';\n\nimport { IfErrorService } from '../common/if-error/if-error.service';\nimport { NgControlService } from '../common/providers/ng-control.service';\nimport { ControlIdService } from '../common/providers/control-id.service';\nimport { ControlClassService } from '../common/providers/control-class.service';\nimport { ClrAbstractContainer } from '../common/abstract-container';\n\n@Component({\n  selector: 'clr-select-container',\n  template: `\n        <ng-content select=\"label\"></ng-content>\n        <label *ngIf=\"!label && addGrid()\"></label>\n        <div class=\"clr-control-container\" [ngClass]=\"controlClass()\">\n            <div [ngClass]=\"wrapperClass()\">\n                <ng-content select=\"[clrSelect]\"></ng-content>\n                <clr-icon *ngIf=\"invalid\" class=\"clr-validate-icon\" shape=\"exclamation-circle\" aria-hidden=\"true\"></clr-icon>\n            </div>\n            <ng-content select=\"clr-control-helper\" *ngIf=\"!invalid\"></ng-content>\n            <ng-content select=\"clr-control-error\" *ngIf=\"invalid\"></ng-content>\n        </div>\n    `,\n  host: {\n    '[class.clr-form-control]': 'true',\n    '[class.clr-form-control-disabled]': 'control?.disabled',\n\n    '[class.clr-row]': 'addGrid()',\n  },\n  providers: [IfErrorService, NgControlService, ControlIdService, ControlClassService],\n})\nexport class ClrSelectContainer extends ClrAbstractContainer {\n  @ContentChild(SelectMultipleControlValueAccessor, { static: false })\n  multiple: SelectMultipleControlValueAccessor;\n  private multi = false;\n\n  ngOnInit() {\n    this.subscriptions.push(\n      this.ngControlService.controlChanges.subscribe(control => {\n        if (control) {\n          this.multi = control.valueAccessor instanceof SelectMultipleControlValueAccessor;\n          this.control = control;\n        }\n      })\n    );\n  }\n\n  wrapperClass() {\n    return this.multi ? 'clr-multiselect-wrapper' : 'clr-select-wrapper';\n  }\n}\n","/**\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Directive, ViewContainerRef, Renderer2, ElementRef, Injector, Optional, Self } from '@angular/core';\n\nimport { WrappedFormControl } from '../common/wrapped-control';\nimport { ClrSelectContainer } from './select-container';\nimport { NgControl } from '@angular/forms';\n\n@Directive({ selector: '[clrSelect]', host: { '[class.clr-select]': 'true' } })\nexport class ClrSelect extends WrappedFormControl<ClrSelectContainer> {\n  protected index = 1;\n\n  constructor(\n    vcr: ViewContainerRef,\n    injector: Injector,\n    @Self()\n    @Optional()\n    control: NgControl,\n    renderer: Renderer2,\n    el: ElementRef\n  ) {\n    super(vcr, ClrSelectContainer, injector, control, renderer, el);\n  }\n}\n","/**\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\n\nimport { ClrIconModule } from '../../icon/icon.module';\nimport { ClrCommonFormsModule } from '../common/common.module';\n\nimport { ClrSelect } from './select';\nimport { ClrSelectContainer } from './select-container';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, ClrIconModule, ClrCommonFormsModule],\n  declarations: [ClrSelect, ClrSelectContainer],\n  exports: [ClrCommonFormsModule, ClrSelect, ClrSelectContainer],\n  entryComponents: [ClrSelectContainer],\n})\nexport class ClrSelectModule {}\n","/**\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component } from '@angular/core';\n\nimport { IfErrorService } from '../common/if-error/if-error.service';\nimport { NgControlService } from '../common/providers/ng-control.service';\nimport { ControlIdService } from '../common/providers/control-id.service';\nimport { ControlClassService } from '../common/providers/control-class.service';\nimport { ClrAbstractContainer } from '../common/abstract-container';\n\n@Component({\n  selector: 'clr-textarea-container',\n  template: `\n        <ng-content select=\"label\"></ng-content>\n        <label *ngIf=\"!label && addGrid()\"></label>\n        <div class=\"clr-control-container\" [ngClass]=\"controlClass()\">\n            <div class=\"clr-textarea-wrapper\">\n                <ng-content select=\"[clrTextarea]\"></ng-content>\n                <clr-icon *ngIf=\"invalid\" class=\"clr-validate-icon\" shape=\"exclamation-circle\" aria-hidden=\"true\"></clr-icon>\n            </div>\n            <ng-content select=\"clr-control-helper\" *ngIf=\"!invalid\"></ng-content>\n            <ng-content select=\"clr-control-error\" *ngIf=\"invalid\"></ng-content>\n        </div>\n    `,\n  host: {\n    '[class.clr-form-control]': 'true',\n    '[class.clr-form-control-disabled]': 'control?.disabled',\n    '[class.clr-row]': 'addGrid()',\n  },\n  providers: [IfErrorService, NgControlService, ControlIdService, ControlClassService],\n})\nexport class ClrTextareaContainer extends ClrAbstractContainer {}\n","/**\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Directive, ViewContainerRef, Renderer2, ElementRef, Injector, Optional, Self } from '@angular/core';\nimport { NgControl } from '@angular/forms';\n\nimport { WrappedFormControl } from '../common/wrapped-control';\nimport { ClrTextareaContainer } from './textarea-container';\n\n@Directive({ selector: '[clrTextarea]', host: { '[class.clr-textarea]': 'true' } })\nexport class ClrTextarea extends WrappedFormControl<ClrTextareaContainer> {\n  protected index = 1;\n\n  constructor(\n    vcr: ViewContainerRef,\n    injector: Injector,\n    @Self()\n    @Optional()\n    control: NgControl,\n    renderer: Renderer2,\n    el: ElementRef\n  ) {\n    super(vcr, ClrTextareaContainer, injector, control, renderer, el);\n  }\n}\n","/**\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\n\nimport { ClrIconModule } from '../../icon/icon.module';\nimport { ClrCommonFormsModule } from '../common/common.module';\n\nimport { ClrTextarea } from './textarea';\nimport { ClrTextareaContainer } from './textarea-container';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, ClrIconModule, ClrCommonFormsModule],\n  declarations: [ClrTextarea, ClrTextareaContainer],\n  exports: [ClrCommonFormsModule, ClrTextarea, ClrTextareaContainer],\n  entryComponents: [ClrTextareaContainer],\n})\nexport class ClrTextareaModule {}\n","/**\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component, Input, Optional, Renderer2 } from '@angular/core';\n\nimport { IfErrorService } from '../common/if-error/if-error.service';\nimport { NgControlService } from '../common/providers/ng-control.service';\nimport { LayoutService } from '../common/providers/layout.service';\nimport { ControlIdService } from '../common/providers/control-id.service';\nimport { ControlClassService } from '../common/providers/control-class.service';\nimport { ClrAbstractContainer } from '../common/abstract-container';\n\n@Component({\n  selector: 'clr-range-container',\n  template: `\n        <ng-content select=\"label\"></ng-content>\n        <label *ngIf=\"!label && addGrid()\"></label>\n        <div class=\"clr-control-container\" [ngClass]=\"controlClass()\">\n            <div class=\"clr-range-wrapper\" [class.progress-fill]=\"hasProgress\">\n                <ng-content select=\"[clrRange]\"></ng-content>\n                <span\n                  *ngIf=\"hasProgress\"\n                  class=\"fill-input\"\n                  [style.width]=\"getRangeProgressFillWidth()\"\n                ></span>\n                <clr-icon *ngIf=\"invalid\" class=\"clr-validate-icon\" shape=\"exclamation-circle\" aria-hidden=\"true\"></clr-icon>\n            </div>\n            <ng-content select=\"clr-control-helper\" *ngIf=\"!invalid\"></ng-content>\n            <ng-content select=\"clr-control-error\" *ngIf=\"invalid\"></ng-content>\n        </div>\n    `,\n  host: {\n    '[class.clr-form-control]': 'true',\n    '[class.clr-form-control-disabled]': 'control?.disabled',\n    '[class.clr-row]': 'addGrid()',\n  },\n  providers: [IfErrorService, NgControlService, ControlIdService, ControlClassService],\n})\nexport class ClrRangeContainer extends ClrAbstractContainer {\n  private _hasProgress: boolean = false;\n\n  @Input('clrRangeHasProgress')\n  set hasProgress(val: boolean) {\n    const valBool = !!val;\n    if (valBool !== this._hasProgress) {\n      this._hasProgress = valBool;\n    }\n  }\n\n  get hasProgress() {\n    return this._hasProgress;\n  }\n\n  constructor(\n    ifErrorService: IfErrorService,\n    @Optional() layoutService: LayoutService,\n    controlClassService: ControlClassService,\n    ngControlService: NgControlService,\n    private renderer: Renderer2,\n    private idService: ControlIdService\n  ) {\n    super(ifErrorService, layoutService, controlClassService, ngControlService);\n  }\n\n  getRangeProgressFillWidth(): string {\n    const input = <HTMLInputElement>this.renderer.selectRootElement('[clrRange]#' + this.idService.id);\n\n    const inputWidth = input.offsetWidth;\n    const inputMinValue = +input.min;\n    let inputMaxValue = +input.max;\n\n    if (inputMinValue === 0 && inputMaxValue === 0) {\n      inputMaxValue = 100;\n    }\n\n    const inputMiddle = (inputMinValue + inputMaxValue) / 2;\n    const inputValue = !!this.control && this.control.value !== undefined ? this.control.value : inputMiddle;\n    const valueAsPercent = (inputValue - inputMinValue) * 100 / (inputMaxValue - inputMinValue);\n\n    return valueAsPercent * inputWidth / 100 + 'px';\n  }\n}\n","/**\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Directive, Optional, ViewContainerRef, Renderer2, ElementRef, Injector, Self } from '@angular/core';\nimport { NgControl } from '@angular/forms';\n\nimport { WrappedFormControl } from '../common/wrapped-control';\nimport { ClrRangeContainer } from './range-container';\n\n@Directive({ selector: '[clrRange]', host: { '[class.clr-range]': 'true' } })\nexport class ClrRange extends WrappedFormControl<ClrRangeContainer> {\n  constructor(\n    vcr: ViewContainerRef,\n    injector: Injector,\n    @Self()\n    @Optional()\n    control: NgControl,\n    renderer: Renderer2,\n    el: ElementRef\n  ) {\n    super(vcr, ClrRangeContainer, injector, control, renderer, el);\n  }\n\n  // Notes: We need an output here EventEmitter for the value\n  // Does this implementation also need a display for the value?\n}\n","/**\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { ClrIconModule } from '../../icon/icon.module';\n\nimport { ClrHostWrappingModule } from '../../utils/host-wrapping/host-wrapping.module';\nimport { ClrCommonFormsModule } from '../common/common.module';\nimport { ClrRange } from './range';\nimport { ClrRangeContainer } from './range-container';\n\n@NgModule({\n  imports: [CommonModule, ClrCommonFormsModule, ClrHostWrappingModule, ClrIconModule],\n  declarations: [ClrRange, ClrRangeContainer],\n  exports: [ClrCommonFormsModule, ClrRange, ClrRangeContainer],\n  entryComponents: [ClrRangeContainer],\n})\nexport class ClrRangeModule {}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Injectable } from '@angular/core';\nimport { BehaviorSubject, Observable } from 'rxjs';\n\nlet counter = 0;\n\n@Injectable()\nexport class DatalistIdService {\n  private _id = 'clr-datalist-' + ++counter;\n\n  get id(): string {\n    return this._id;\n  }\n\n  set id(value: string) {\n    this._id = value;\n    this._idChange.next(value);\n  }\n\n  private _idChange: BehaviorSubject<string> = new BehaviorSubject(this._id);\n  public get idChange(): Observable<string> {\n    return this._idChange.asObservable();\n  }\n}\n","/**\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component, Optional } from '@angular/core';\nimport { ControlClassService } from '../common/providers/control-class.service';\nimport { LayoutService } from '../common/providers/layout.service';\nimport { ControlIdService } from '../common/providers/control-id.service';\nimport { FocusService } from '../common/providers/focus.service';\nimport { IfErrorService } from '../common/if-error/if-error.service';\nimport { NgControlService } from '../common/providers/ng-control.service';\nimport { DatalistIdService } from './providers/datalist-id.service';\nimport { ClrAbstractContainer } from '../common/abstract-container';\n\n@Component({\n  selector: 'clr-datalist-container',\n  template: `\n    <ng-content select=\"label\"></ng-content>\n    <label *ngIf=\"!label && addGrid()\"></label>\n    <div class=\"clr-control-container\" [ngClass]=\"controlClass()\">\n      <div class=\"clr-input-wrapper\">\n        <div class=\"clr-input-group\" [class.clr-focus]=\"focus\">\n          <ng-content select=\"[clrDatalistInput]\"></ng-content>\n          <ng-content select=\"datalist\"></ng-content>\n        </div>\n        <clr-icon *ngIf=\"invalid\" class=\"clr-validate-icon\" shape=\"exclamation-circle\" aria-hidden=\"true\"></clr-icon>\n      </div>\n      <ng-content select=\"clr-control-helper\" *ngIf=\"!invalid\"></ng-content>\n      <ng-content select=\"clr-control-error\" *ngIf=\"invalid\"></ng-content>\n    </div>\n    `,\n  host: {\n    '[class.clr-form-control]': 'true',\n    '[class.clr-form-control-disabled]': 'control?.disabled',\n    '[class.clr-row]': 'addGrid()',\n  },\n  providers: [\n    ControlClassService,\n    LayoutService,\n    ControlIdService,\n    FocusService,\n    IfErrorService,\n    NgControlService,\n    DatalistIdService,\n  ],\n})\nexport class ClrDatalistContainer extends ClrAbstractContainer {\n  focus: boolean = false;\n\n  constructor(\n    controlClassService: ControlClassService,\n    @Optional() layoutService: LayoutService,\n    ifErrorService: IfErrorService,\n    ngControlService: NgControlService,\n    private focusService: FocusService\n  ) {\n    super(ifErrorService, layoutService, controlClassService, ngControlService);\n\n    this.subscriptions.push(this.focusService.focusChange.subscribe(state => (this.focus = state)));\n  }\n}\n","/**\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport {\n  Directive,\n  ViewContainerRef,\n  Injector,\n  Self,\n  Optional,\n  Renderer2,\n  ElementRef,\n  HostListener,\n  AfterContentInit,\n} from '@angular/core';\nimport { WrappedFormControl } from '../common/wrapped-control';\nimport { ClrDatalistContainer } from './datalist-container';\nimport { NgControl } from '@angular/forms';\nimport { FocusService } from '../common/providers/focus.service';\nimport { DatalistIdService } from './providers/datalist-id.service';\n\n@Directive({\n  selector: '[clrDatalistInput]',\n  host: {\n    '[class.clr-input]': 'true',\n    '[attr.list]': 'listValue',\n  },\n})\nexport class ClrDatalistInput extends WrappedFormControl<ClrDatalistContainer> implements AfterContentInit {\n  constructor(\n    @Optional() private focusService: FocusService,\n    vcr: ViewContainerRef,\n    injector: Injector,\n    @Self()\n    @Optional()\n    control: NgControl,\n    renderer: Renderer2,\n    el: ElementRef,\n    private datalistIdService: DatalistIdService\n  ) {\n    super(vcr, ClrDatalistContainer, injector, control, renderer, el);\n\n    if (!this.focusService) {\n      throw new Error('clrDatalist requires being wrapped in <clr-datalist-container>');\n    }\n  }\n\n  listValue: string;\n\n  ngAfterContentInit() {\n    // Subscriptions is inherited from WrappedFormControl, unsubscribe is handled there\n    this.subscriptions.push(this.datalistIdService.idChange.subscribe(id => (this.listValue = id)));\n  }\n\n  @HostListener('focus')\n  triggerFocus() {\n    if (this.focusService) {\n      this.focusService.focused = true;\n    }\n  }\n\n  @HostListener('blur')\n  triggerValidation() {\n    super.triggerValidation();\n    if (this.focusService) {\n      this.focusService.focused = false;\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Input, Directive, AfterContentInit, Optional } from '@angular/core';\n\nimport { Subscription } from 'rxjs';\nimport { DatalistIdService } from './providers/datalist-id.service';\n\n@Directive({\n  selector: 'datalist',\n  host: {\n    '[id]': 'datalistId',\n  },\n})\nexport class ClrDatalist implements AfterContentInit {\n  private subscriptions: Subscription[] = [];\n  constructor(@Optional() private datalistIdService: DatalistIdService) {}\n  datalistId: string;\n\n  ngAfterContentInit() {\n    if (!this.datalistIdService) {\n      return;\n    }\n    this.subscriptions.push(this.datalistIdService.idChange.subscribe(id => (this.datalistId = id)));\n  }\n  @Input()\n  set id(idValue) {\n    if (!!idValue && this.datalistIdService) {\n      this.datalistId = idValue;\n      this.datalistIdService.id = idValue;\n    } else if (!!idValue) {\n      this.datalistId = idValue;\n    }\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { ClrDatalistInput } from './datalist-input';\nimport { ClrInputModule } from '../input/input.module';\nimport { ClrDatalistContainer } from './datalist-container';\nimport { ClrIconModule } from '../../icon/icon.module';\nimport { ClrDatalist } from './datalist';\n\n@NgModule({\n  imports: [CommonModule, ClrInputModule, ClrIconModule],\n  declarations: [ClrDatalist, ClrDatalistInput, ClrDatalistContainer],\n  exports: [ClrDatalist, ClrDatalistInput, ClrDatalistContainer],\n})\nexport class ClrDatalistModule {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { ClrCheckboxModule } from './checkbox/checkbox.module';\nimport { ClrCommonFormsModule } from './common/common.module';\nimport { ClrDatepickerModule } from './datepicker/datepicker.module';\nimport { ClrInputModule } from './input/input.module';\nimport { ClrPasswordModule } from './password/password.module';\nimport { ClrRadioModule } from './radio/radio.module';\nimport { ClrSelectModule } from './select/select.module';\nimport { ClrTextareaModule } from './textarea/textarea.module';\nimport { ClrRangeModule } from './range/range.module';\nimport { ClrDatalistModule } from './datalist/datalist.module';\n\n@NgModule({\n  imports: [CommonModule],\n  exports: [\n    ClrCommonFormsModule,\n    ClrCheckboxModule,\n    ClrDatepickerModule,\n    ClrInputModule,\n    ClrPasswordModule,\n    ClrRadioModule,\n    ClrSelectModule,\n    ClrTextareaModule,\n    ClrRangeModule,\n    ClrDatalistModule,\n  ],\n})\nexport class ClrFormsModule {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { CommonModule } from '@angular/common';\nimport { NgModule, Type } from '@angular/core';\n\nimport { ClrLoading } from './loading';\n\nexport const CLR_LOADING_DIRECTIVES: Type<any>[] = [ClrLoading];\n\n@NgModule({ imports: [CommonModule], declarations: [CLR_LOADING_DIRECTIVES], exports: [CLR_LOADING_DIRECTIVES] })\nexport class ClrLoadingModule {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Directive, ElementRef, EventEmitter, HostListener, Input, Output } from '@angular/core';\n\n@Directive({ selector: '[clrOutsideClick]' })\nexport class OutsideClick {\n  constructor(private el: ElementRef) {}\n\n  @Input('clrStrict') strict = false;\n\n  @Output('clrOutsideClick') outsideClick = new EventEmitter<any>(false);\n\n  @HostListener('document:click', ['$event'])\n  documentClick(event: MouseEvent) {\n    const target = event.target; // Get the element in the DOM on which the mouse was clicked\n    const host = this.el.nativeElement; // Get the current actionMenu native HTML element\n\n    if (target === host) {\n      return;\n    }\n    if (!this.strict && host.contains(target)) {\n      return;\n    }\n    this.outsideClick.emit(event);\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Type } from '@angular/core';\nimport { OutsideClick } from './outside-click';\n\nexport * from './outside-click';\n\nexport const OUSTIDE_CLICK_DIRECTIVES: Type<any>[] = [OutsideClick];\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { OUSTIDE_CLICK_DIRECTIVES } from './index';\n\n@NgModule({ imports: [CommonModule], declarations: [OUSTIDE_CLICK_DIRECTIVES], exports: [OUSTIDE_CLICK_DIRECTIVES] })\nexport class ClrOutsideClickModule {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\n/*\n * If we someday want to be able to render the datagrid in a webworker,\n * this is where we would test if we're in headless mode. Right now it's not testing anything, but any access\n * to native DOM elements' methods and properties in the Datagrid happens here.\n */\n\nimport { Injectable } from '@angular/core';\n\n@Injectable()\nexport class DomAdapter {\n  userDefinedWidth(element: HTMLElement): number {\n    element.classList.add('datagrid-cell-width-zero');\n    const userDefinedWidth = this.clientRect(element).width;\n    element.classList.remove('datagrid-cell-width-zero');\n    return userDefinedWidth;\n  }\n\n  scrollBarWidth(element: any) {\n    return element.offsetWidth - element.clientWidth;\n  }\n\n  scrollWidth(element: any) {\n    return element.scrollWidth || 0;\n  }\n\n  computedHeight(element: any): number {\n    return parseInt(getComputedStyle(element).getPropertyValue('height'), 10);\n  }\n\n  clientRect(element: any): ClientRect {\n    const elementClientRect = element.getBoundingClientRect();\n    return {\n      top: parseInt(elementClientRect.top, 10),\n      bottom: parseInt(elementClientRect.bottom, 10),\n      left: parseInt(elementClientRect.left, 10),\n      right: parseInt(elementClientRect.right, 10),\n      width: parseInt(elementClientRect.width, 10),\n      height: parseInt(elementClientRect.height, 10),\n    };\n  }\n\n  minWidth(element: any): number {\n    return parseInt(getComputedStyle(element).getPropertyValue('min-width'), 10);\n  }\n\n  focus(element: any): void {\n    element.focus();\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { DragEventInterface, DragPointPosition } from './interfaces/drag-event.interface';\n\n// This class is used to convert an internal event\n// to an external event to be emitted.\nexport class ClrDragEvent<T> {\n  public dragPosition: DragPointPosition;\n  public group: string | string[];\n  public dragDataTransfer: T;\n  public dropPointPosition: { pageX: number; pageY: number };\n\n  constructor(dragEvent: DragEventInterface<T>) {\n    this.dragPosition = dragEvent.dragPosition;\n    this.group = dragEvent.group;\n    this.dragDataTransfer = dragEvent.dragDataTransfer;\n    this.dropPointPosition = dragEvent.dropPointPosition;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nexport enum DragEventType {\n  DRAG_START,\n  DRAG_MOVE,\n  DRAG_END,\n  DRAG_ENTER,\n  DRAG_LEAVE,\n  DROP,\n}\n\nexport interface DragPointPosition {\n  pageX: number;\n  pageY: number;\n  moveX: number;\n  moveY: number;\n}\n\nexport interface DragEventInterface<T> {\n  type: DragEventType;\n  group?: string | string[];\n  ghostElement?: any;\n  dragPosition: DragPointPosition;\n  dragDataTransfer?: T;\n  // For default ghosts, this dropPointPosition denotes the center point of the ghost element.\n  // This center point is used to determine whether the ghost is over droppable elements or not.\n  dropPointPosition?: { pageX: number; pageY: number };\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Injectable } from '@angular/core';\nimport { Observable, Subject } from 'rxjs';\n\nimport { DragEventInterface, DragEventType } from '../interfaces/drag-event.interface';\n\n@Injectable({ providedIn: 'root' })\nexport class DragAndDropEventBusService<T> {\n  private dragStart: Subject<DragEventInterface<T>> = new Subject<DragEventInterface<T>>();\n  private dragMove: Subject<DragEventInterface<T>> = new Subject<DragEventInterface<T>>();\n  private dragEnd: Subject<DragEventInterface<T>> = new Subject<DragEventInterface<T>>();\n  private drop: Subject<DragEventInterface<T>> = new Subject<DragEventInterface<T>>();\n\n  get dragStarted(): Observable<DragEventInterface<T>> {\n    return this.dragStart.asObservable();\n  }\n\n  get dragMoved(): Observable<DragEventInterface<T>> {\n    return this.dragMove.asObservable();\n  }\n\n  get dragEnded(): Observable<DragEventInterface<T>> {\n    return this.dragEnd.asObservable();\n  }\n\n  get dropped(): Observable<DragEventInterface<T>> {\n    return this.drop.asObservable();\n  }\n\n  broadcast(event: DragEventInterface<T>): void {\n    switch (event.type) {\n      case DragEventType.DRAG_START:\n        this.dragStart.next(event);\n        break;\n      case DragEventType.DRAG_MOVE:\n        this.dragMove.next(event);\n        break;\n      case DragEventType.DRAG_END:\n        this.dragEnd.next(event);\n        break;\n      case DragEventType.DROP:\n        this.drop.next(event);\n        break;\n      default:\n        break;\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Injectable, NgZone, Renderer2 } from '@angular/core';\nimport { Observable, Subject } from 'rxjs';\n\nimport { DragEventInterface, DragEventType } from '../interfaces/drag-event.interface';\nimport { DragAndDropEventBusService } from './drag-and-drop-event-bus.service';\n\n@Injectable()\nexport class DragEventListenerService<T> {\n  private draggableEl: any;\n\n  // contains the starting events such as mousedown and touchstart\n  private listeners: (() => void)[];\n  // contains the nested events that happens after/inside the starting events\n  // such as selectstart, mousemove/touchmove, mouseup/touchend\n  private nestedListeners: (() => void)[];\n\n  private dragStart: Subject<DragEventInterface<T>> = new Subject<DragEventInterface<T>>();\n  private dragMove: Subject<DragEventInterface<T>> = new Subject<DragEventInterface<T>>();\n  private dragEnd: Subject<DragEventInterface<T>> = new Subject<DragEventInterface<T>>();\n\n  private hasDragStarted: boolean = false;\n\n  get dragStarted(): Observable<DragEventInterface<T>> {\n    return this.dragStart.asObservable();\n  }\n\n  get dragMoved(): Observable<DragEventInterface<T>> {\n    return this.dragMove.asObservable();\n  }\n\n  get dragEnded(): Observable<DragEventInterface<T>> {\n    return this.dragEnd.asObservable();\n  }\n\n  constructor(private ngZone: NgZone, private renderer: Renderer2, private eventBus: DragAndDropEventBusService<T>) {}\n\n  private initialPosition: { pageX: number; pageY: number };\n\n  // Draggable component sets these properties:\n  public dragDataTransfer?: T;\n  public group?: string | string[];\n\n  // DraggableGhost component sets these properties:\n  public ghostElement?: any;\n  public dropPointPosition?: { pageX: number; pageY: number };\n\n  public attachDragListeners(draggableEl: Node) {\n    this.draggableEl = draggableEl;\n    this.listeners = [\n      this.customDragEvent(this.draggableEl, 'mousedown', 'mousemove', 'mouseup'),\n      this.customDragEvent(this.draggableEl, 'touchstart', 'touchmove', 'touchend'),\n    ];\n  }\n\n  public detachDragListeners() {\n    if (this.listeners) {\n      this.listeners.map(event => event());\n    }\n\n    // In most cases, once users start dragging with mousedown/touchstart events,\n    // they will end dragging at one point with mouseup/touchend.\n    // However, there might be a few cases where mousedown/touchstart events get registered,\n    // but the draggable element gets removed before user ends dragging.\n    // In that case, we need to remove the attached listeners that happened during the mousedown/touchstart events.\n    if (this.nestedListeners) {\n      this.nestedListeners.map(event => event());\n    }\n  }\n\n  private getNativeEventObject(event: MouseEvent | TouchEvent): any {\n    if ((<TouchEvent>event).hasOwnProperty('changedTouches')) {\n      return (<TouchEvent>event).changedTouches[0];\n    } else {\n      return event;\n    }\n  }\n\n  private customDragEvent(element: Node, startOnEvent: string, moveOnEvent: string, endOnEvent: string): () => void {\n    return this.renderer.listen(element, startOnEvent, (startEvent: MouseEvent | TouchEvent) => {\n      // save the initial point to initialPosition\n      // this will be used to calculate how far the draggable has been dragged from its initial position\n      this.initialPosition = {\n        pageX: this.getNativeEventObject(startEvent).pageX,\n        pageY: this.getNativeEventObject(startEvent).pageY,\n      };\n\n      // Initialize nested listeners' property with a new empty array;\n      this.nestedListeners = [];\n\n      // This is needed to disable selection during dragging (especially in EDGE/IE11).\n      this.nestedListeners.push(\n        this.renderer.listen('document', 'selectstart', (selectEvent: Event) => {\n          selectEvent.preventDefault();\n          selectEvent.stopImmediatePropagation();\n        })\n      );\n\n      // Listen to mousemove/touchmove events outside of angular zone.\n      this.nestedListeners.push(\n        this.ngZone.runOutsideAngular(() => {\n          return this.renderer.listen('document', moveOnEvent, (moveEvent: MouseEvent | TouchEvent) => {\n            // Event.stopImmediatePropagation() is needed here to prevent nested draggables from getting dragged\n            // altogether. We shouldn't use Event.stopPropagation() here as we are listening to the events\n            // on the global element level.\n\n            // With Event.stopImmediatePropagation(), it registers the events sent from the inner most draggable\n            // first. Then immediately after that, it stops listening to the same type of events on the same\n            // element. So this will help us to not register the same events that would come from the parent\n            // level draggables eventually.\n\n            moveEvent.stopImmediatePropagation();\n\n            if (!this.hasDragStarted) {\n              this.hasDragStarted = true;\n              // Fire \"dragstart\"\n              this.broadcast(moveEvent, DragEventType.DRAG_START);\n            } else {\n              // Fire \"dragmove\"\n              this.broadcast(moveEvent, DragEventType.DRAG_MOVE);\n            }\n          });\n        })\n      );\n\n      // Listen to mouseup/touchend events.\n      this.nestedListeners.push(\n        this.renderer.listen('document', endOnEvent, (endEvent: MouseEvent | TouchEvent) => {\n          if (this.hasDragStarted) {\n            // Fire \"dragend\" only if dragstart is registered\n            this.hasDragStarted = false;\n            this.broadcast(endEvent, DragEventType.DRAG_END);\n          }\n\n          // We must remove the the nested listeners every time drag completes.\n          if (this.nestedListeners) {\n            this.nestedListeners.map(event => event());\n          }\n        })\n      );\n    });\n  }\n\n  private broadcast(event: MouseEvent | TouchEvent, eventType: DragEventType): void {\n    const dragEvent: DragEventInterface<T> = this.generateDragEvent(event, eventType);\n\n    switch (dragEvent.type) {\n      case DragEventType.DRAG_START:\n        this.dragStart.next(dragEvent);\n        break;\n      case DragEventType.DRAG_MOVE:\n        this.dragMove.next(dragEvent);\n        break;\n      case DragEventType.DRAG_END:\n        this.dragEnd.next(dragEvent);\n        break;\n      default:\n        break;\n    }\n\n    // The following properties are set after they are broadcasted to the DraggableGhost component.\n    dragEvent.ghostElement = this.ghostElement;\n    dragEvent.dropPointPosition = this.dropPointPosition;\n\n    this.eventBus.broadcast(dragEvent);\n  }\n\n  private generateDragEvent(event: MouseEvent | TouchEvent, eventType: DragEventType): DragEventInterface<T> {\n    const nativeEvent: any = this.getNativeEventObject(event);\n\n    return {\n      type: eventType,\n      dragPosition: {\n        pageX: nativeEvent.pageX,\n        pageY: nativeEvent.pageY,\n        moveX: nativeEvent.pageX - this.initialPosition.pageX,\n        moveY: nativeEvent.pageY - this.initialPosition.pageY,\n      },\n      group: this.group,\n      dragDataTransfer: this.dragDataTransfer,\n      ghostElement: this.ghostElement,\n    };\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Injectable } from '@angular/core';\nimport { DomAdapter } from '../../dom-adapter/dom-adapter';\nimport { DragEventInterface } from '../interfaces/drag-event.interface';\n\n// This service is used to capture the state of clrDraggable element\n// at a certain event and passes it to clrDraggableGhost component.\n@Injectable()\nexport class DraggableSnapshotService<T> {\n  constructor(private domAdapter: DomAdapter) {}\n\n  private draggableElClientRect: ClientRect;\n  private snapshotDragEvent: DragEventInterface<T>;\n\n  public capture(el: Node, event: DragEventInterface<T>): void {\n    this.draggableElClientRect = this.domAdapter.clientRect(el);\n    this.snapshotDragEvent = event;\n  }\n  public discard(): void {\n    delete this.draggableElClientRect;\n    delete this.snapshotDragEvent;\n  }\n  get hasDraggableState(): boolean {\n    return !!this.snapshotDragEvent && !!this.draggableElClientRect;\n  }\n  get clientRect(): ClientRect {\n    return this.draggableElClientRect;\n  }\n  get dragEvent(): DragEventInterface<T> {\n    return this.snapshotDragEvent;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { animate, style, transition, trigger } from '@angular/animations';\nimport { Component, ElementRef, HostBinding, NgZone, OnDestroy, Optional, Renderer2 } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { DragEventInterface } from './interfaces/drag-event.interface';\nimport { DragEventListenerService } from './providers/drag-event-listener.service';\nimport { DraggableSnapshotService } from './providers/draggable-snapshot.service';\n\ntype PagePosition = {\n  pageX: number;\n  pageY: number;\n};\ntype OffsetPosition = {\n  top: number;\n  left: number;\n};\n\n@Component({\n  selector: 'clr-draggable-ghost',\n  template: `<ng-content></ng-content>`,\n  animations: [\n    trigger('leaveAnimation', [\n      transition(':leave', [\n        style({ left: '*', top: '*' }),\n        animate('0.2s ease-in-out', style({ top: '{{top}}', left: '{{left}}' })),\n      ]),\n    ]),\n  ],\n})\nexport class ClrDraggableGhost<T> implements OnDestroy {\n  private draggableGhostEl: any;\n\n  private subscriptions: Subscription[] = [];\n\n  @HostBinding('@leaveAnimation') leaveAnimConfig = { value: 0, params: { top: '0px', left: '0px' } };\n\n  constructor(\n    private el: ElementRef,\n    @Optional() private dragEventListener: DragEventListenerService<T>,\n    @Optional() private draggableSnapshot: DraggableSnapshotService<T>,\n    private renderer: Renderer2,\n    private ngZone: NgZone\n  ) {\n    if (!this.dragEventListener || !this.draggableSnapshot) {\n      throw new Error('The clr-draggable-ghost component can only be used inside of a clrDraggable directive.');\n    }\n\n    this.draggableGhostEl = this.el.nativeElement;\n\n    // Need to use Renderer2 as it runs outside of NgZone\n    this.renderer.addClass(this.draggableGhostEl, 'draggable-ghost');\n\n    // Register the ghost element in DragEventListener to pass in a ClrDragEvent.\n    this.dragEventListener.ghostElement = this.draggableGhostEl;\n\n    // Default ghost size gets the size of ClrDraggable element.\n    this.setDefaultGhostSize(this.draggableGhostEl);\n\n    const offset: OffsetPosition = {\n      top: this.draggableSnapshot.hasDraggableState\n        ? this.draggableSnapshot.dragEvent.dragPosition.pageY - this.draggableSnapshot.clientRect.top\n        : 0,\n      left: this.draggableSnapshot.hasDraggableState\n        ? this.draggableSnapshot.dragEvent.dragPosition.pageX - this.draggableSnapshot.clientRect.left\n        : 0,\n    };\n\n    let isAnimationConfigured: boolean = false;\n\n    this.subscriptions.push(\n      this.dragEventListener.dragMoved.subscribe((event: DragEventInterface<T>) => {\n        // On the first drag move event, we configure the animation as it's dependent on the first drag event.\n        if (!isAnimationConfigured) {\n          if (this.draggableSnapshot.hasDraggableState) {\n            this.animateToOnLeave(\n              `${this.draggableSnapshot.clientRect.top}px`,\n              `${this.draggableSnapshot.clientRect.left}px`\n            );\n          } else {\n            this.animateToOnLeave(`${event.dragPosition.pageY}px`, `${event.dragPosition.pageX}px`);\n          }\n          isAnimationConfigured = true;\n        }\n\n        // Position the draggable ghost.\n        const topLeftPosition: PagePosition = this.findTopLeftPosition(event.dragPosition, offset);\n        this.setPositionStyle(this.draggableGhostEl, topLeftPosition.pageX, topLeftPosition.pageY);\n        this.dragEventListener.dropPointPosition = this.findDropPointPosition(topLeftPosition);\n      })\n    );\n  }\n\n  private setDefaultGhostSize(el: Node): void {\n    if (this.draggableSnapshot.hasDraggableState) {\n      this.setSizeStyle(el, this.draggableSnapshot.clientRect.width, this.draggableSnapshot.clientRect.height);\n    }\n  }\n\n  private animateToOnLeave(top: string, left: string): void {\n    this.ngZone.run(() => {\n      this.leaveAnimConfig = { value: 0, params: { top: top, left: left } };\n    });\n  }\n\n  private findTopLeftPosition(dragPosition: PagePosition, offset: OffsetPosition): PagePosition {\n    return { pageX: dragPosition.pageX - offset.left, pageY: dragPosition.pageY - offset.top };\n  }\n\n  private findDropPointPosition(topLeftPosition: PagePosition): PagePosition {\n    if (this.draggableSnapshot.hasDraggableState) {\n      return {\n        pageX: topLeftPosition.pageX + this.draggableSnapshot.clientRect.width / 2,\n        pageY: topLeftPosition.pageY + this.draggableSnapshot.clientRect.height / 2,\n      };\n    } else {\n      return topLeftPosition;\n    }\n  }\n\n  private setSizeStyle(el: Node, width: number, height: number): void {\n    this.renderer.setStyle(el, 'width', `${width}px`);\n    this.renderer.setStyle(el, 'height', `${height}px`);\n  }\n\n  private setPositionStyle(el: Node, left: number, top: number): void {\n    this.renderer.setStyle(el, 'left', `${left}px`);\n    this.renderer.setStyle(el, 'top', `${top}px`);\n    this.renderer.setStyle(el, 'visibility', 'visible');\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach((sub: Subscription) => sub.unsubscribe());\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Directive, OnDestroy, Optional, SkipSelf, TemplateRef, ViewContainerRef } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { DragEventInterface } from './interfaces/drag-event.interface';\nimport { DragEventListenerService } from './providers/drag-event-listener.service';\n\n// This structural directive will be used mainly together with `clr-draggable-ghost` directive inside of clrDraggable\n// directive. The directive is responsible for instantiating `clr-draggable-ghost` directive only during dragging so\n// that Angular Change Detection is prevented from running if a component or directive is placed inside of the\n// `clr-draggable-ghost` directive.\n\n@Directive({ selector: '[clrIfDragged]' })\nexport class ClrIfDragged<T> implements OnDestroy {\n  private subscriptions: Subscription[] = [];\n  constructor(\n    private template: TemplateRef<any>,\n    @Optional()\n    @SkipSelf()\n    private container: ViewContainerRef,\n    @Optional() private dragEventListener: DragEventListenerService<T>\n  ) {\n    if (!this.dragEventListener || !this.container) {\n      throw new Error('The *clrIfDragged directive can only be used inside of a clrDraggable directive.');\n    }\n\n    this.subscriptions.push(\n      this.dragEventListener.dragStarted.subscribe((event: DragEventInterface<T>) => {\n        this.container.createEmbeddedView(this.template);\n      })\n    );\n    this.subscriptions.push(\n      this.dragEventListener.dragEnded.subscribe((event: DragEventInterface<T>) => {\n        this.container.clear();\n      })\n    );\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach((sub: Subscription) => sub.unsubscribe());\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Injectable, Renderer2 } from '@angular/core';\n\nimport { DragEventListenerService } from './drag-event-listener.service';\n\n// This provider registers the drag handle element.\n// When it registers a element as a drag handle, it attaches that element to the listeners from ClrDragEventListener.\n// Also, it adds the \"drag-handle\" css class to the registered element through Renderer.\n@Injectable()\nexport class DragHandleRegistrarService<T> {\n  private _customHandleEl: any;\n  private _defaultHandleEl: any;\n\n  get defaultHandleEl() {\n    return this._defaultHandleEl;\n  }\n\n  set defaultHandleEl(el: Node) {\n    this._defaultHandleEl = el; // defaultHandleEl will be usually the clrDraggable element.\n\n    // If the customHandleEl has been registered,\n    // don't make the defaultHandleEl the drag handle yet until the customHandleEl is unregistered.\n    if (!this._customHandleEl) {\n      this.makeElementHandle(this._defaultHandleEl);\n    }\n  }\n\n  constructor(private dragEventListener: DragEventListenerService<T>, private renderer: Renderer2) {}\n\n  private makeElementHandle(el: Node) {\n    if (this._defaultHandleEl && this._defaultHandleEl !== el) {\n      // Before making an element the custom handle element,\n      // we should remove the existing drag-handle class from the draggable element.\n      this.renderer.removeClass(this._defaultHandleEl, 'drag-handle');\n    }\n    this.dragEventListener.attachDragListeners(el);\n    this.renderer.addClass(el, 'drag-handle');\n  }\n\n  get customHandleEl() {\n    return this._customHandleEl;\n  }\n\n  public registerCustomHandle(el: Node) {\n    this.dragEventListener.detachDragListeners(); // removes the existing listeners\n    this._customHandleEl = el;\n    this.makeElementHandle(this._customHandleEl);\n  }\n\n  public unregisterCustomHandle() {\n    this.dragEventListener.detachDragListeners(); // removes the existing listeners\n    this.renderer.removeClass(this._customHandleEl, 'drag-handle');\n    delete this._customHandleEl;\n    // if default handle is set, make that handle\n    if (this._defaultHandleEl) {\n      this.makeElementHandle(this._defaultHandleEl);\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Injectable, Renderer2 } from '@angular/core';\n\n// This service class adds and removes the \"in-drag\" class to the document body element\n// through its public enter() and exit() methods.\n@Injectable()\nexport class GlobalDragModeService {\n  constructor(private renderer: Renderer2) {}\n\n  enter(): void {\n    this.renderer.addClass(document.body, 'in-drag');\n  }\n\n  exit(): void {\n    this.renderer.removeClass(document.body, 'in-drag');\n  }\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport {\n  AfterContentInit,\n  ComponentFactory,\n  ComponentFactoryResolver,\n  ContentChild,\n  Directive,\n  ElementRef,\n  EventEmitter,\n  Injector,\n  OnDestroy,\n  Output,\n  ViewContainerRef,\n} from '@angular/core';\nimport { Input } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { DomAdapter } from '../../dom-adapter/dom-adapter';\nimport { ClrDragEvent } from '../drag-event';\nimport { ClrDraggableGhost } from '../draggable-ghost';\nimport { ClrIfDragged } from '../if-dragged';\nimport { DragEventInterface } from '../interfaces/drag-event.interface';\nimport { DragEventListenerService } from '../providers/drag-event-listener.service';\nimport { DragHandleRegistrarService } from '../providers/drag-handle-registrar.service';\nimport { DraggableSnapshotService } from '../providers/draggable-snapshot.service';\nimport { GlobalDragModeService } from '../providers/global-drag-mode.service';\n\n@Directive({\n  selector: '[clrDraggable]',\n  providers: [\n    DragEventListenerService,\n    DragHandleRegistrarService,\n    DraggableSnapshotService,\n    GlobalDragModeService,\n    DomAdapter,\n  ],\n  host: { '[class.draggable]': 'true', '[class.being-dragged]': 'dragOn' },\n})\nexport class ClrDraggable<T> implements AfterContentInit, OnDestroy {\n  private draggableEl: any;\n  private subscriptions: Subscription[] = [];\n  private componentFactory: ComponentFactory<ClrDraggableGhost<T>>;\n  public dragOn: boolean = false;\n\n  constructor(\n    private el: ElementRef,\n    private dragEventListener: DragEventListenerService<T>,\n    private dragHandleRegistrar: DragHandleRegistrarService<T>,\n    private viewContainerRef: ViewContainerRef,\n    private cfr: ComponentFactoryResolver,\n    private injector: Injector,\n    private draggableSnapshot: DraggableSnapshotService<T>,\n    private globalDragMode: GlobalDragModeService\n  ) {\n    this.draggableEl = this.el.nativeElement;\n    this.componentFactory = this.cfr.resolveComponentFactory<ClrDraggableGhost<T>>(ClrDraggableGhost);\n  }\n\n  @ContentChild(ClrIfDragged) customGhost: ClrIfDragged<T>;\n\n  @Input('clrDraggable')\n  set dataTransfer(value: T) {\n    this.dragEventListener.dragDataTransfer = value;\n  }\n\n  @Input('clrGroup')\n  set group(value: string | string[]) {\n    this.dragEventListener.group = value;\n  }\n\n  private createDefaultGhost(event: DragEventInterface<T>) {\n    this.draggableSnapshot.capture(this.draggableEl, event);\n    // NOTE: The default ghost element will appear\n    // next to the clrDraggable in the DOM as a sibling element.\n    this.viewContainerRef.createComponent(this.componentFactory, 0, this.injector, [\n      [this.draggableEl.cloneNode(true)],\n    ]);\n  }\n\n  private destroyDefaultGhost() {\n    this.viewContainerRef.clear();\n    this.draggableSnapshot.discard();\n  }\n\n  @Output('clrDragStart') dragStartEmitter: EventEmitter<ClrDragEvent<T>> = new EventEmitter();\n  @Output('clrDragMove') dragMoveEmitter: EventEmitter<ClrDragEvent<T>> = new EventEmitter();\n  @Output('clrDragEnd') dragEndEmitter: EventEmitter<ClrDragEvent<T>> = new EventEmitter();\n\n  ngAfterContentInit() {\n    this.dragHandleRegistrar.defaultHandleEl = this.draggableEl;\n\n    this.subscriptions.push(\n      this.dragEventListener.dragStarted.subscribe((event: DragEventInterface<T>) => {\n        this.globalDragMode.enter();\n        this.dragOn = true;\n        if (!this.customGhost) {\n          this.createDefaultGhost(event);\n        }\n\n        this.dragStartEmitter.emit(new ClrDragEvent(event));\n      })\n    );\n    this.subscriptions.push(\n      this.dragEventListener.dragMoved.subscribe((event: DragEventInterface<T>) => {\n        this.dragMoveEmitter.emit(new ClrDragEvent(event));\n      })\n    );\n    this.subscriptions.push(\n      this.dragEventListener.dragEnded.subscribe((event: DragEventInterface<T>) => {\n        this.globalDragMode.exit();\n        this.dragOn = false;\n        if (!this.customGhost) {\n          this.destroyDefaultGhost();\n        }\n        this.dragEndEmitter.emit(new ClrDragEvent(event));\n      })\n    );\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach((sub: Subscription) => sub.unsubscribe());\n    this.dragEventListener.detachDragListeners();\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Directive, ElementRef, EventEmitter, Input, OnDestroy, OnInit, Output, Renderer2 } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { DomAdapter } from '../../dom-adapter/dom-adapter';\nimport { ClrDragEvent } from '../drag-event';\nimport { DragEventInterface, DragEventType } from '../interfaces/drag-event.interface';\nimport { ClrDropToleranceInterface } from '../interfaces/drop-tolerance.interface';\nimport { DragAndDropEventBusService } from '../providers/drag-and-drop-event-bus.service';\n\n@Directive({\n  selector: '[clrDroppable]',\n  providers: [DomAdapter],\n  host: { '[class.droppable]': 'true', '[class.draggable-match]': 'isDraggableMatch' },\n})\nexport class ClrDroppable<T> implements OnInit, OnDestroy {\n  private dragStartSubscription: Subscription;\n  private dragMoveSubscription: Subscription;\n  private dragEndSubscription: Subscription;\n\n  private droppableEl: any;\n  private clientRect: ClientRect;\n\n  constructor(\n    private el: ElementRef,\n    private eventBus: DragAndDropEventBusService<T>,\n    private domAdapter: DomAdapter,\n    private renderer: Renderer2\n  ) {\n    this.droppableEl = this.el.nativeElement;\n  }\n\n  isDraggableMatch: boolean = false;\n  private _isDraggableOver: boolean = false;\n\n  set isDraggableOver(value: boolean) {\n    // We need to add/remove this draggable-over class via Renderer2\n    // because isDraggableOver is set outside of NgZone.\n    if (value) {\n      this.renderer.addClass(this.droppableEl, 'draggable-over');\n    } else {\n      this.renderer.removeClass(this.droppableEl, 'draggable-over');\n    }\n    this._isDraggableOver = value;\n  }\n\n  private _group: string | string[];\n\n  @Input('clrGroup')\n  set group(value: string | string[]) {\n    this._group = value;\n  }\n\n  private _dropTolerance: ClrDropToleranceInterface = { top: 0, right: 0, bottom: 0, left: 0 };\n\n  private dropToleranceGenerator(top = 0, right = top, bottom = top, left = right): ClrDropToleranceInterface {\n    return { top, right, bottom, left };\n  }\n\n  @Input('clrDropTolerance')\n  set dropTolerance(value: number | string | ClrDropToleranceInterface) {\n    // If user provides an object here and wants to manipulate/update properties individually,\n    // the object must be immutable as we generate new object based user's given object.\n    if (typeof value === 'number') {\n      this._dropTolerance = this.dropToleranceGenerator(value);\n    } else if (typeof value === 'string') {\n      const toleranceValues = value\n        .trim()\n        .split(/\\s+/)\n        .map(tolerance => parseInt(tolerance, 10));\n      this._dropTolerance = this.dropToleranceGenerator(...toleranceValues);\n    } else if (value) {\n      // The value could be passed in as {left: 20, top: 30 }\n      // In this case, the rest of the direction properties should be 0.\n      // That's why we initialize properties with 0 first, then override with user's given value.\n      this._dropTolerance = { ...this.dropToleranceGenerator(0), ...value };\n    }\n  }\n\n  @Output('clrDragStart') dragStartEmitter: EventEmitter<ClrDragEvent<T>> = new EventEmitter();\n  @Output('clrDragMove') dragMoveEmitter: EventEmitter<ClrDragEvent<T>> = new EventEmitter();\n  @Output('clrDragEnd') dragEndEmitter: EventEmitter<ClrDragEvent<T>> = new EventEmitter();\n  @Output('clrDragLeave') dragLeaveEmitter: EventEmitter<ClrDragEvent<T>> = new EventEmitter();\n  @Output('clrDragEnter') dragEnterEmitter: EventEmitter<ClrDragEvent<T>> = new EventEmitter();\n  @Output('clrDrop') dropEmitter: EventEmitter<ClrDragEvent<T>> = new EventEmitter();\n\n  private unsubscribeFrom(subscription: Subscription): void {\n    if (subscription) {\n      subscription.unsubscribe();\n    }\n  }\n\n  private checkGroupMatch(draggableGroup: string | string[]): boolean {\n    // Both Draggable and Droppable have clrGroup input.\n    // The clrGroup input can be both a string key or array of string keys in Draggable and Droppable.\n\n    // It's not match if Draggable has no defined value assigned to clrGroup, but Droppable has a defined clrGroup.\n    if (!draggableGroup && this._group) {\n      return false;\n    }\n    // The same is true the other way round.\n    if (!this._group && draggableGroup) {\n      return false;\n    }\n\n    // It's match if both Draggable and Droppable have no assigned value for clrGroup.\n    if (!this._group && !draggableGroup) {\n      return true;\n    }\n\n    // It's match if both Draggable and Droppable have simple string keys that are matching.\n    // It's match if Draggable's simple clrGroup key is matching with one of the clrGroup keys of Droppable. The\n    // same is true the other way round.\n    // it's match if one of the clrGroup keys of Droppable is matching with one of the clrGroup keys of Draggable.\n    if (typeof draggableGroup === 'string') {\n      if (typeof this._group === 'string') {\n        return this._group === draggableGroup;\n      } else {\n        return this._group.indexOf(draggableGroup) > -1;\n      }\n    } else {\n      if (typeof this._group === 'string') {\n        return draggableGroup.indexOf(this._group) > -1;\n      } else {\n        return (this._group as string[]).some(groupKey => draggableGroup.indexOf(groupKey) > -1);\n      }\n    }\n  }\n\n  private isInDropArea(point: { pageX: number; pageY: number }): boolean {\n    if (!point) {\n      return false;\n    }\n\n    if (!this.clientRect) {\n      this.clientRect = this.domAdapter.clientRect(this.droppableEl);\n    }\n\n    if (\n      point.pageX >= this.clientRect.left - this._dropTolerance.left &&\n      point.pageX <= this.clientRect.right + this._dropTolerance.right &&\n      point.pageY >= this.clientRect.top - this._dropTolerance.top &&\n      point.pageY <= this.clientRect.bottom + this._dropTolerance.bottom\n    ) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  private onDragStart(dragStartEvent: DragEventInterface<T>): void {\n    // Check draggable and droppable have a matching group key.\n    this.isDraggableMatch = this.checkGroupMatch(dragStartEvent.group);\n\n    // Subscribe to dragMoved and dragEnded only if draggable and droppable have a matching group key.\n    if (this.isDraggableMatch) {\n      this.dragStartEmitter.emit(new ClrDragEvent(dragStartEvent));\n      this.dragMoveSubscription = this.eventBus.dragMoved.subscribe((dragMoveEvent: DragEventInterface<T>) => {\n        this.onDragMove(dragMoveEvent);\n      });\n      this.dragEndSubscription = this.eventBus.dragEnded.subscribe((dragEndEvent: DragEventInterface<T>) => {\n        this.onDragEnd(dragEndEvent);\n      });\n    }\n  }\n\n  private onDragMove(dragMoveEvent: DragEventInterface<T>): void {\n    const isInDropArea = this.isInDropArea(dragMoveEvent.dropPointPosition);\n    if (!this._isDraggableOver && isInDropArea) {\n      this.isDraggableOver = true;\n      const dragEnterEvent = { ...dragMoveEvent, type: DragEventType.DRAG_ENTER };\n      this.eventBus.broadcast(dragEnterEvent);\n      this.dragEnterEmitter.emit(new ClrDragEvent(dragEnterEvent));\n    } else if (this._isDraggableOver && !isInDropArea) {\n      this.isDraggableOver = false;\n      const dragLeaveEvent = { ...dragMoveEvent, type: DragEventType.DRAG_LEAVE };\n      this.eventBus.broadcast(dragLeaveEvent);\n      this.dragLeaveEmitter.emit(new ClrDragEvent(dragLeaveEvent));\n    }\n\n    this.dragMoveEmitter.emit(new ClrDragEvent(dragMoveEvent));\n  }\n\n  private onDragEnd(dragEndEvent: DragEventInterface<T>): void {\n    if (this._isDraggableOver) {\n      if (dragEndEvent.ghostElement) {\n        // By this point, the draggable ghost component is destroyed,\n        // but the element would be active until its animation completes.\n        // As such, once the ghost is dropped over, we will give it \"dropped\" class.\n\n        // This process cannot be done in the ghost component\n        // because any subscription to the drop event is ineffective or invalid\n        // as the component had been already destroyed.\n        this.renderer.addClass(dragEndEvent.ghostElement, 'dropped');\n      }\n\n      const dropEvent = { ...dragEndEvent, type: DragEventType.DROP };\n      this.eventBus.broadcast(dropEvent);\n      this.dropEmitter.emit(new ClrDragEvent(dropEvent));\n      this.isDraggableOver = false;\n    }\n    this.dragEndEmitter.emit(new ClrDragEvent(dragEndEvent));\n    this.unsubscribeFrom(this.dragMoveSubscription);\n    this.unsubscribeFrom(this.dragEndSubscription);\n    this.isDraggableMatch = false;\n    delete this.clientRect;\n  }\n\n  ngOnInit() {\n    this.dragStartSubscription = this.eventBus.dragStarted.subscribe((dragStartEvent: DragEventInterface<T>) => {\n      this.onDragStart(dragStartEvent);\n    });\n  }\n\n  ngOnDestroy() {\n    this.unsubscribeFrom(this.dragStartSubscription);\n    this.unsubscribeFrom(this.dragMoveSubscription);\n    this.unsubscribeFrom(this.dragEndSubscription);\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Directive, ElementRef, OnDestroy, Optional } from '@angular/core';\nimport { DragHandleRegistrarService } from './providers/drag-handle-registrar.service';\n\n@Directive({ selector: '[clrDragHandle]', host: { '[class.drag-handle]': 'true' } })\nexport class ClrDragHandle<T> implements OnDestroy {\n  constructor(private el: ElementRef, @Optional() private dragHandleRegistrar: DragHandleRegistrarService<T>) {\n    if (!this.dragHandleRegistrar) {\n      // ClrDragHandleRegistrar is provided in ClrDraggable so we expect it to be present here\n      // as clrDragHandle is required to be used only inside of a clrDraggable directive.\n      throw new Error('The clrDragHandle directive can only be used inside of a clrDraggable directive.');\n    }\n    this.dragHandleRegistrar.registerCustomHandle(this.el.nativeElement);\n  }\n\n  ngOnDestroy() {\n    this.dragHandleRegistrar.unregisterCustomHandle();\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { CommonModule } from '@angular/common';\nimport { NgModule, Type } from '@angular/core';\n\nimport { ClrDraggable } from './draggable/draggable';\nimport { ClrDroppable } from './droppable/droppable';\nimport { ClrIfDragged } from './if-dragged';\nimport { ClrDragHandle } from './drag-handle';\nimport { ClrDraggableGhost } from './draggable-ghost';\n\nexport const CLR_DRAG_AND_DROP_DIRECTIVES: Type<any>[] = [\n  ClrDraggable,\n  ClrDroppable,\n  ClrIfDragged,\n  ClrDragHandle,\n  ClrDraggableGhost,\n];\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [CLR_DRAG_AND_DROP_DIRECTIVES],\n  entryComponents: [ClrDraggableGhost],\n  exports: [CLR_DRAG_AND_DROP_DIRECTIVES],\n})\nexport class ClrDragAndDropModule {}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component, ElementRef, HostBinding, HostListener, Input } from '@angular/core';\n\nimport { animate, style, transition, trigger } from '@angular/animations';\nimport { DomAdapter } from '../../dom-adapter/dom-adapter';\n\n@Component({\n  selector: 'clr-expandable-animation',\n  template: `\n    <ng-content></ng-content>\n  `,\n  styles: [\n    `\n    :host {\n      display: block;\n    }\n  `,\n  ],\n  animations: [\n    trigger('expandAnimation', [\n      transition('true <=> false', [\n        style({ height: '{{startHeight}}px', overflow: 'hidden' }),\n        animate('0.2s ease-in-out', style({ height: '*' })),\n      ]),\n    ]),\n  ],\n  providers: [DomAdapter],\n})\nexport class ClrExpandableAnimation {\n  @Input() clrExpandTrigger: any;\n\n  startHeight: number = 0;\n\n  constructor(private element: ElementRef, private domAdapter: DomAdapter) {}\n\n  @HostBinding('@expandAnimation')\n  get expandAnimation() {\n    return { value: this.clrExpandTrigger, params: { startHeight: this.startHeight } };\n  }\n\n  @HostListener('@expandAnimation.done')\n  animationDone() {\n    // A \"safe\" auto-update of the height ensuring basic OOTB user experience .\n    // Prone to small jumps in initial animation height if data was changed in the meantime, window was resized, etc.\n    // For optimal behavior call manually updateStartHeight() from the parent component before initiating the update.\n    this.updateStartHeight();\n  }\n\n  updateStartHeight() {\n    this.startHeight = this.domAdapter.computedHeight(this.element.nativeElement) || 0;\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Type } from '@angular/core';\n\nimport { ClrExpandableAnimation } from './expandable-animation';\n\nexport * from './expandable-animation';\n\nexport const EXPANDABLE_ANIMATION_DIRECTIVES: Type<any>[] = [ClrExpandableAnimation];\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { EXPANDABLE_ANIMATION_DIRECTIVES } from './index';\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [EXPANDABLE_ANIMATION_DIRECTIVES],\n  exports: [EXPANDABLE_ANIMATION_DIRECTIVES],\n})\nexport class ClrExpandableAnimationModule {}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Component, Input, HostBinding, ElementRef, AfterViewInit } from '@angular/core';\nimport { isBooleanAttributeSet } from '../../utils/component/is-boolean-attribute-set';\nimport { ClrAriaLiveService, ClrAriaLivePoliteness } from '../../utils/a11y/aria-live.service';\n\n@Component({\n  selector: 'clr-spinner',\n  providers: [ClrAriaLiveService],\n  template: `\n    <ng-content></ng-content>\n  `,\n  host: {\n    '[attr.aria-busy]': 'true',\n  },\n})\nexport class ClrSpinner implements AfterViewInit {\n  constructor(private el: ElementRef, private ariaLiveService: ClrAriaLiveService) {}\n\n  ngAfterViewInit() {\n    this.ariaLiveService.announce(this.el.nativeElement, this.ariaLive);\n  }\n\n  /**\n   * Default class for all spinners. This class is always true\n   */\n  @HostBinding('class.spinner')\n  get spinnerClass() {\n    return true;\n  }\n\n  // Style\n  private _inline: boolean;\n  @HostBinding('class.spinner-inline')\n  get inlineClass() {\n    return this._inline;\n  }\n\n  @Input('clrInline')\n  set clrInline(value: boolean | string) {\n    this._inline = isBooleanAttributeSet(value);\n  }\n\n  private _inverse: boolean;\n  @HostBinding('class.spinner-inverse')\n  get inverseClass() {\n    return this._inverse;\n  }\n\n  @Input('clrInverse')\n  set clrInverse(value: boolean | string) {\n    this._inverse = isBooleanAttributeSet(value);\n  }\n\n  // Size\n  /**\n   * By default all spinners are Large. (spinner-lg)\n   * To change the size you need to use set clrSmall or clrMedium to TRUE/\n   */\n\n  /**\n   * Small\n   */\n  private _small: boolean;\n  @HostBinding('class.spinner-sm')\n  get smallClass() {\n    return this._small;\n  }\n\n  @Input('clrSmall')\n  set clrSmall(value: boolean | string) {\n    this._small = isBooleanAttributeSet(value);\n  }\n\n  /**\n   * When clrSmall & clrMedium are set both to true.\n   * The CSS with high priority will be small - so medium size will be ignored.\n   *\n   * For this reason if clrSmall is set we won't add clrMedium class.\n   *\n   * NOTE: This is dictated by the CSS rules.\n   * DON'T USE clrSmall & clrMedium to toggle classes. This could change without notice.\n   *\n   * Also there is no logical need to have both of them set to TRUE or FALSE.\n   */\n  private _medium: boolean;\n  @HostBinding('class.spinner-md')\n  get mediumClass() {\n    if (this._small) {\n      return false;\n    }\n    return this._medium;\n  }\n\n  @Input('clrMedium')\n  set clrMedium(value: boolean | string) {\n    this._medium = isBooleanAttributeSet(value);\n  }\n\n  // Aria Live\n\n  /**\n   * By default aria-live will be set to `polite` .\n   * To change is it you need to set clrAssertive or clrOff to TRUE\n   *\n   * There is priority:\n   *   Default: polite\n   *   Asertive\n   *   Off\n   *\n   * In case when for some reason you have clrAssertive=TRUE and clrOff=TRUE,\n   * we gonna set `assertive` as value of aria-live.\n   *\n   */\n  /** @deprecated since 3.0, remove in 4.0 */\n  @Input('clrAssertive') assertive: boolean;\n  /** @deprecated since 3.0, remove in 4.0 */\n  @Input('clrOff') off: boolean;\n  get ariaLive(): ClrAriaLivePoliteness {\n    if (isBooleanAttributeSet(this.assertive)) {\n      return ClrAriaLivePoliteness.assertive;\n    }\n    if (isBooleanAttributeSet(this.off)) {\n      return ClrAriaLivePoliteness.off;\n    }\n    return ClrAriaLivePoliteness.polite;\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { CommonModule } from '@angular/common';\nimport { NgModule, Type } from '@angular/core';\nimport { ClrSpinner } from './spinner';\n\nexport const CLR_SPINNER_DIRECTIVES: Type<any>[] = [ClrSpinner];\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [CLR_SPINNER_DIRECTIVES],\n  exports: [CLR_SPINNER_DIRECTIVES],\n})\nexport class ClrSpinnerModule {}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { InjectionToken } from '@angular/core';\n\nexport const FOCUS_ON_VIEW_INIT = new InjectionToken<boolean>('FOCUS_ON_VIEW_INIT');\n\n// This provider holds the default value for clrFocusOnViewInit directive's isEnabled property.\n// So users can interject this provider and set their own value for this provider.\nexport const FOCUS_ON_VIEW_INIT_PROVIDER = {\n  provide: FOCUS_ON_VIEW_INIT,\n  useValue: true,\n};\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { DOCUMENT, isPlatformBrowser } from '@angular/common';\nimport {\n  AfterViewInit,\n  Directive,\n  ElementRef,\n  HostListener,\n  Inject,\n  Input,\n  PLATFORM_ID,\n  Renderer2,\n} from '@angular/core';\nimport { FOCUS_ON_VIEW_INIT } from './focus-on-view-init.provider';\n\n/*  This directive is for guiding the document focus to the newly added content when its view is initialized \n    so that assistive technologies can read its content. */\n@Directive({\n  selector: '[clrFocusOnViewInit]',\n})\nexport class ClrFocusOnViewInit implements AfterViewInit {\n  constructor(\n    private el: ElementRef,\n    @Inject(PLATFORM_ID) private platformId: Object,\n    @Inject(FOCUS_ON_VIEW_INIT) private focusOnViewInit: boolean,\n    @Inject(DOCUMENT) document: any,\n    private renderer: Renderer2\n  ) {\n    this._isEnabled = this.focusOnViewInit;\n\n    // Angular compiler doesn't understand the type Document\n    // when working out the metadata for injectable parameters,\n    // even though it understands the injection token DOCUMENT\n    // https://github.com/angular/angular/issues/20351\n    this.document = document;\n  }\n\n  private document: Document;\n  private directFocus = true; // true if the element gets focused without need to set tabindex;\n\n  @HostListener('focusout')\n  onFocusout() {\n    if (!this.directFocus) {\n      // manually set attributes and styles should be removed\n      this.renderer.removeAttribute(this.el.nativeElement, 'tabindex');\n      this.renderer.setStyle(this.el.nativeElement, 'outline', null);\n    }\n  }\n\n  private _isEnabled: boolean;\n  @Input('clrFocusOnViewInit')\n  set isEnabled(value: boolean) {\n    if (this.focusOnViewInit && typeof value === 'boolean') {\n      this._isEnabled = value;\n    }\n  }\n\n  ngAfterViewInit() {\n    this.focus();\n  }\n\n  private focus() {\n    if (!isPlatformBrowser(this.platformId)) {\n      return;\n    }\n    if (!this._isEnabled) {\n      return;\n    }\n    if (this.document && this.document.activeElement !== this.el.nativeElement) {\n      this.el.nativeElement.focus();\n      if (this.document.activeElement !== this.el.nativeElement) {\n        // if it's not directly focused now, it means it was a non-interactive element\n        // so we need to give it a tabindex.\n        this.directFocus = false;\n        this.renderer.setAttribute(this.el.nativeElement, 'tabindex', '-1');\n        this.renderer.setStyle(this.el.nativeElement, 'outline', 'none');\n        this.el.nativeElement.focus();\n      }\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { CommonModule } from '@angular/common';\nimport { NgModule, Type } from '@angular/core';\nimport { ClrFocusOnViewInit } from './focus-on-view-init';\nimport { FOCUS_ON_VIEW_INIT_PROVIDER } from './focus-on-view-init.provider';\n\nexport const FOCUS_ON_VIEW_INIT_DIRECTIVES: Type<any>[] = [ClrFocusOnViewInit];\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [FOCUS_ON_VIEW_INIT_DIRECTIVES],\n  providers: [FOCUS_ON_VIEW_INIT_PROVIDER],\n  exports: [FOCUS_ON_VIEW_INIT_DIRECTIVES],\n})\nexport class ClrFocusOnViewInitModule {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nexport abstract class CustomFilter {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { Subject } from 'rxjs';\n\n/*\n * This provider implements some form of synchronous debouncing through a lock pattern\n * to avoid emitting multiple state changes for a single user action.\n */\n@Injectable()\nexport class StateDebouncer {\n  /**\n   * The Observable that lets other classes subscribe to global state changes\n   */\n  private _change = new Subject<void>();\n  // We do not want to expose the Subject itself, but the Observable which is read-only\n  public get change(): Observable<void> {\n    return this._change.asObservable();\n  }\n\n  /*\n     * This is the lock, to only emit once all the changes have finished processing\n     */\n  private nbChanges = 0;\n\n  public changeStart() {\n    this.nbChanges++;\n  }\n\n  public changeDone() {\n    if (--this.nbChanges === 0) {\n      this._change.next();\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { Subject } from 'rxjs';\nimport { StateDebouncer } from './state-debouncer.provider';\n\n@Injectable()\nexport class Page {\n  constructor(private stateDebouncer: StateDebouncer) {}\n\n  private preventEmit = false;\n  public activated = false;\n\n  /**\n   * Page size, a value of 0 means no pagination\n   */\n  private _size = 0;\n  public get size(): number {\n    return this._size;\n  }\n  public set size(size: number) {\n    const oldSize = this._size;\n    if (size !== oldSize) {\n      if (!this.preventEmit) {\n        this.stateDebouncer.changeStart();\n      }\n      this._size = size;\n      if (size === 0) {\n        this._current = 1;\n      } else {\n        // Yeap. That's the formula to keep the first item from the old page still\n        // displayed in the new one.\n        this._current = Math.floor(oldSize / size * (this._current - 1)) + 1;\n      }\n      // We always emit an event even if the current page index didn't change, because\n      // the size changing means the items inside the page are different\n      if (!this.preventEmit) {\n        this._change.next(this._current);\n        this._sizeChange.next(this._size);\n        this.stateDebouncer.changeDone();\n      }\n    }\n    this.preventEmit = false;\n  }\n\n  /**\n   * Total items (needed to guess the last page)\n   */\n  private _totalItems?: number;\n  public get totalItems(): number {\n    return this._totalItems || 0; // remains 0 if not set to avoid breaking change\n  }\n  public set totalItems(total: number) {\n    this._totalItems = total;\n    // If we have less items than before, we might need to change the current page\n    if (this.current > this.last) {\n      this.current = this.last;\n    }\n  }\n\n  /**\n   * Last page\n   */\n  private _last: number;\n  public get last(): number {\n    if (this._last) {\n      return this._last;\n    }\n    // If the last page isn't known, we compute it from the last item's index\n    if (this.size > 0 && this.totalItems) {\n      return Math.ceil(this.totalItems / this.size);\n    }\n    return 1;\n  }\n  public set last(page: number) {\n    this._last = page;\n  }\n\n  /**\n   * The Observable that lets other classes subscribe to page changes\n   */\n  private _change = new Subject<number>();\n  // We do not want to expose the Subject itself, but the Observable which is read-only\n  public get change(): Observable<number> {\n    return this._change.asObservable();\n  }\n\n  private _sizeChange = new Subject<number>();\n\n  public get sizeChange(): Observable<number> {\n    return this._sizeChange.asObservable();\n  }\n\n  /**\n   * Current page\n   */\n  private _current = 1;\n  public get current(): number {\n    return this._current;\n  }\n  public set current(page: number) {\n    if (page !== this._current) {\n      this.stateDebouncer.changeStart();\n      this._current = page;\n      this._change.next(page);\n      this.stateDebouncer.changeDone();\n    }\n  }\n\n  /**\n   * Moves to the previous page if it exists\n   */\n  public previous() {\n    if (this.current > 1) {\n      this.current--;\n    }\n  }\n\n  /**\n   * Moves to the next page if it exists\n   */\n  public next() {\n    if (this.current < this.last) {\n      this.current++;\n    }\n  }\n\n  /**\n   * Index of the first item displayed on the current page, starting at 0, -1 if none displayed\n   */\n  public get firstItem(): number {\n    if (this._totalItems === 0) {\n      return -1;\n    }\n\n    if (this.size === 0) {\n      return 0;\n    }\n    return (this.current - 1) * this.size;\n  }\n\n  /**\n   * Index of the last item displayed on the current page, starting at 0, -1 if none displayed\n   */\n  public get lastItem(): number {\n    if (this._totalItems === 0) {\n      return -1;\n    }\n\n    if (this.size === 0) {\n      return this.totalItems - 1;\n    }\n    let lastInPage = this.current * this.size - 1;\n    if (this.totalItems) {\n      lastInPage = Math.min(lastInPage, this.totalItems - 1);\n    }\n    return lastInPage;\n  }\n\n  /**\n   * Resets the page size to 0\n   */\n  public resetPageSize(preventEmit = false): void {\n    this.preventEmit = preventEmit;\n    this.size = 0;\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { Subject } from 'rxjs';\n\nimport { ClrDatagridFilterInterface } from '../interfaces/filter.interface';\nimport { Page } from './page';\nimport { StateDebouncer } from './state-debouncer.provider';\n\n@Injectable()\nexport class FiltersProvider<T = any> {\n  constructor(private _page: Page, private stateDebouncer: StateDebouncer) {}\n  /**\n   * This subject is the list of filters that changed last, not the whole list.\n   * We emit a list rather than just one filter to allow batch changes to several at once.\n   */\n  private _change = new Subject<ClrDatagridFilterInterface<T>[]>();\n  // We do not want to expose the Subject itself, but the Observable which is read-only\n  public get change(): Observable<ClrDatagridFilterInterface<T>[]> {\n    return this._change.asObservable();\n  }\n\n  /**\n   * List of all filters, whether they're active or not\n   */\n  private _all: RegisteredFilter<T, ClrDatagridFilterInterface<T>>[] = [];\n\n  /**\n   * Tests if at least one filter is currently active\n   */\n  public hasActiveFilters(): boolean {\n    // We do not use getActiveFilters() because this function will be called much more often\n    // and stopping the loop early might be relevant.\n    for (const { filter } of this._all) {\n      if (filter && filter.isActive()) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Returns a list of all currently active filters\n   */\n  public getActiveFilters(): ClrDatagridFilterInterface<T>[] {\n    const ret: ClrDatagridFilterInterface<T>[] = [];\n    for (const { filter } of this._all) {\n      if (filter && filter.isActive()) {\n        ret.push(filter);\n      }\n    }\n    return ret;\n  }\n\n  /**\n   * Registers a filter, and returns a deregistration function\n   */\n  public add<F extends ClrDatagridFilterInterface<T>>(filter: F): RegisteredFilter<T, F> {\n    const subscription = filter.changes.subscribe(() => this.resetPageAndEmitFilterChange([filter]));\n    let hasUnregistered = false;\n    const registered = new RegisteredFilter(filter, () => {\n      if (hasUnregistered) {\n        return;\n      }\n      subscription.unsubscribe();\n      const matchIndex = this._all.findIndex(item => item.filter === filter);\n      if (matchIndex >= 0) {\n        this._all.splice(matchIndex, 1);\n      }\n      if (filter.isActive()) {\n        this.resetPageAndEmitFilterChange([]);\n      }\n      hasUnregistered = true;\n    });\n    this._all.push(registered);\n    if (filter.isActive()) {\n      this.resetPageAndEmitFilterChange([filter]);\n    }\n    return registered;\n  }\n\n  /**\n   * Accepts an item if it is accepted by all currently active filters\n   */\n  public accepts(item: T): boolean {\n    for (const { filter } of this._all) {\n      if (filter && filter.isActive() && !filter.accepts(item)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  private resetPageAndEmitFilterChange(filters: ClrDatagridFilterInterface<T>[]) {\n    this.stateDebouncer.changeStart();\n    // filtering may change the page number such that current page number doesn't exist in the filtered dataset.\n    // So here we always set the current page to 1 so that it'll fetch first page's data with the given filter.\n    this._page.current = 1;\n    this._change.next(filters);\n    this.stateDebouncer.changeDone();\n  }\n}\n\nexport class RegisteredFilter<T, F extends ClrDatagridFilterInterface<T>> {\n  constructor(public filter: F, public unregister: () => void) {}\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { OnDestroy } from '@angular/core';\nimport { ClrDatagridFilterInterface } from '../interfaces/filter.interface';\nimport { FiltersProvider, RegisteredFilter } from '../providers/filters';\n\nexport abstract class DatagridFilterRegistrar<T, F extends ClrDatagridFilterInterface<T>> implements OnDestroy {\n  constructor(private filters: FiltersProvider<T>) {}\n\n  public registered: RegisteredFilter<T, F>;\n\n  public get filter(): F {\n    return this.registered && this.registered.filter;\n  }\n\n  public setFilter(filter: F | RegisteredFilter<T, F>) {\n    // If we previously had another filter, we unregister it\n    this.deleteFilter();\n    if (filter instanceof RegisteredFilter) {\n      this.registered = filter;\n    } else if (filter) {\n      this.registered = this.filters.add(filter);\n    }\n  }\n\n  public deleteFilter() {\n    if (this.registered) {\n      this.registered.unregister();\n      delete this.registered;\n    }\n  }\n\n  public ngOnDestroy(): void {\n    this.deleteFilter();\n  }\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport {\n  Component,\n  EventEmitter,\n  Input,\n  Output,\n  Inject,\n  OnDestroy,\n  PLATFORM_ID,\n  ViewChild,\n  ElementRef,\n} from '@angular/core';\n\nimport { ClrDatagridFilterInterface } from './interfaces/filter.interface';\nimport { CustomFilter } from './providers/custom-filter';\nimport { FiltersProvider, RegisteredFilter } from './providers/filters';\nimport { DatagridFilterRegistrar } from './utils/datagrid-filter-registrar';\nimport { ClrPopoverPosition } from '../../utils/popover/interfaces/popover-position.interface';\nimport { ClrAxis } from '../../utils/popover/enums/axis.enum';\nimport { ClrSide } from '../../utils/popover/enums/side.enum';\nimport { ClrAlignment } from '../../utils/popover/enums/alignment.enum';\nimport { UNIQUE_ID, UNIQUE_ID_PROVIDER } from '../../utils/id-generator/id-generator.service';\nimport { ClrPopoverToggleService } from '../../utils/popover/providers/popover-toggle.service';\nimport { Subscription } from 'rxjs';\nimport { ClrCommonStringsService } from '../../utils/i18n/common-strings.service';\nimport { isPlatformBrowser } from '@angular/common';\n\n/**\n * Custom filter that can be added in any column to override the default object property string filter.\n * The reason this is not just an input on DatagridColumn is because we need the filter's template to be projected,\n * since it can be anything (not just a text input).\n */\n@Component({\n  selector: 'clr-dg-filter',\n  // We register this component as a CustomFilter, for the parent column to detect it.\n  providers: [{ provide: CustomFilter, useExisting: ClrDatagridFilter }, UNIQUE_ID_PROVIDER],\n  template: `\n      <button class=\"datagrid-filter-toggle\"\n              type=\"button\"\n              #anchor\n              [attr.aria-label]=\"commonStrings.keys.datagridFilterAriaLabel\"\n              [attr.aria-expanded]=\"ariaExpanded\"\n              [attr.aria-controls]=\"popoverId\"\n              clrPopoverAnchor\n              clrPopoverOpenCloseButton\n              [class.datagrid-filter-open]=\"open\"\n              [class.datagrid-filtered]=\"active\">\n          <clr-icon [attr.shape]=\"active ? 'filter-grid-circle': 'filter-grid'\" class=\"is-solid\"></clr-icon>\n      </button>\n\n      <div class=\"datagrid-filter\"\n           [id]=\"popoverId\"\n           clrFocusTrap\n           *clrPopoverContent=\"open at smartPosition; outsideClickToClose: true; scrollToClose: true\">\n          <div class=\"datagrid-filter-close-wrapper\">\n              <button type=\"button\" class=\"close\" clrPopoverCloseButton>\n                  <clr-icon shape=\"close\" [attr.title]=\"commonStrings.keys.close\"></clr-icon>\n              </button>\n          </div>\n\n          <ng-content></ng-content>\n      </div>\n  `,\n})\nexport class ClrDatagridFilter<T = any> extends DatagridFilterRegistrar<T, ClrDatagridFilterInterface<T>>\n  implements CustomFilter, OnDestroy {\n  private subs: Subscription[] = [];\n  public ariaExpanded: boolean = false;\n\n  constructor(\n    _filters: FiltersProvider<T>,\n    public commonStrings: ClrCommonStringsService,\n    private smartToggleService: ClrPopoverToggleService,\n    @Inject(PLATFORM_ID) private platformId: Object,\n    @Inject(UNIQUE_ID) public popoverId: string\n  ) {\n    super(_filters);\n    this.subs.push(\n      smartToggleService.openChange.subscribe(change => {\n        this.open = change;\n        this.ariaExpanded = change;\n      })\n    );\n  }\n\n  @ViewChild('anchor', { read: ElementRef })\n  anchor: ElementRef;\n\n  // Smart Popover\n  public smartPosition: ClrPopoverPosition = {\n    axis: ClrAxis.VERTICAL,\n    side: ClrSide.AFTER,\n    anchor: ClrAlignment.END,\n    content: ClrAlignment.END,\n  };\n\n  private _open: boolean = false;\n  public get open() {\n    return this._open;\n  }\n\n  @Input('clrDgFilterOpen')\n  public set open(open: boolean) {\n    open = !!open;\n    if (this.open !== open) {\n      this.smartToggleService.open = open;\n      this.openChange.emit(open);\n      if (!open && isPlatformBrowser(this.platformId)) {\n        this.anchor.nativeElement.focus();\n      }\n      // keep track of the state\n      this._open = open;\n    }\n  }\n\n  @Output('clrDgFilterOpenChange') public openChange = new EventEmitter<boolean>(false);\n\n  @Input('clrDgFilter')\n  public set customFilter(filter: ClrDatagridFilterInterface<T> | RegisteredFilter<T, ClrDatagridFilterInterface<T>>) {\n    this.setFilter(filter);\n  }\n\n  /**\n   * Indicates if the filter is currently active\n   */\n  public get active() {\n    return !!this.filter && this.filter.isActive();\n  }\n\n  ngOnDestroy(): void {\n    super.ngOnDestroy();\n    this.subs.forEach(sub => sub.unsubscribe());\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n/**\n * Generic accessor for deep object properties\n * that can be specified as simple dot-separated strings.\n */\nexport class NestedProperty<T = any> {\n  private splitProp: string[];\n\n  constructor(private prop: string) {\n    if (prop.indexOf('.') >= 0) {\n      this.splitProp = prop.split('.');\n    }\n  }\n\n  // Safe getter for a deep object property, will not throw an error but return\n  // undefined if one of the intermediate properties is null or undefined.\n  public getPropValue(item: T): any {\n    if (this.splitProp) {\n      let value = item;\n      for (const nestedProp of this.splitProp) {\n        if (value == null || typeof value === 'undefined' || typeof value[nestedProp] === 'undefined') {\n          return undefined;\n        }\n        value = value[nestedProp];\n      }\n      return value;\n    } else {\n      return item[this.prop];\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { ClrDatagridStringFilterInterface } from '../../interfaces/string-filter.interface';\nimport { NestedProperty } from '../nested-property';\n\nexport class DatagridPropertyStringFilter<T = any> implements ClrDatagridStringFilterInterface<T> {\n  private nestedProp: NestedProperty<T>;\n\n  constructor(public prop: string, public exact = false) {\n    this.nestedProp = new NestedProperty(prop);\n  }\n\n  accepts(item: T, search: string): boolean {\n    const propValue = this.nestedProp.getPropValue(item);\n    if (typeof propValue === 'undefined') {\n      return false;\n    } else if (this.exact) {\n      return ('' + propValue).toLowerCase() === search;\n    } else {\n      return ('' + propValue).toLowerCase().indexOf(search) >= 0;\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Observable, Subject } from 'rxjs';\nimport { ClrDatagridFilterInterface } from '../../interfaces/filter.interface';\nimport { ClrDatagridStringFilterInterface } from '../../interfaces/string-filter.interface';\nimport { DatagridPropertyStringFilter } from './datagrid-property-string-filter';\n\nexport class DatagridStringFilterImpl<T = any> implements ClrDatagridFilterInterface<T> {\n  constructor(public filterFn: ClrDatagridStringFilterInterface<T>) {}\n\n  /**\n   * The Observable required as part of the Filter interface\n   */\n  private _changes = new Subject<string>();\n  // We do not want to expose the Subject itself, but the Observable which is read-only\n  public get changes(): Observable<string> {\n    return this._changes.asObservable();\n  }\n\n  /**\n   * Raw input value\n   */\n  private _rawValue: string = '';\n  public get value(): string {\n    return this._rawValue;\n  }\n  /**\n   * Input value converted to lowercase\n   */\n  private _lowerCaseValue: string = '';\n  public get lowerCaseValue() {\n    return this._lowerCaseValue;\n  }\n  /**\n   * Common setter for the input value\n   */\n  public set value(value: string) {\n    if (!value) {\n      value = '';\n    }\n    if (value !== this._rawValue) {\n      this._rawValue = value;\n      this._lowerCaseValue = value.toLowerCase().trim();\n      this._changes.next(value);\n    }\n  }\n\n  /**\n   * Indicates if the filter is currently active, meaning the input is not empty\n   */\n  public isActive(): boolean {\n    return !!this.value;\n  }\n\n  /**\n   * Tests if an item matches a search text\n   */\n  public accepts(item: T): boolean {\n    // We always test with the lowercase value of the input, to stay case insensitive\n    return this.filterFn.accepts(item, this.lowerCaseValue);\n  }\n\n  public get state() {\n    if (this.filterFn instanceof DatagridPropertyStringFilter) {\n      return {\n        property: this.filterFn.prop,\n        value: this.value,\n      };\n    }\n    return this;\n  }\n\n  public equals(other: ClrDatagridFilterInterface<T, any>): boolean {\n    if (other instanceof DatagridStringFilterImpl) {\n      if (other.filterFn instanceof DatagridPropertyStringFilter) {\n        return (\n          this.filterFn instanceof DatagridPropertyStringFilter &&\n          other.filterFn.prop === this.filterFn.prop &&\n          other.value === this.value\n        );\n      }\n      return other === this;\n    }\n    return false;\n  }\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { AfterViewInit, Component, ElementRef, EventEmitter, Input, Output, ViewChild, OnDestroy } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { ClrDatagridFilter } from '../../datagrid-filter';\nimport { ClrDatagridStringFilterInterface } from '../../interfaces/string-filter.interface';\nimport { CustomFilter } from '../../providers/custom-filter';\nimport { FiltersProvider, RegisteredFilter } from '../../providers/filters';\nimport { DomAdapter } from '../../../../utils/dom-adapter/dom-adapter';\nimport { DatagridFilterRegistrar } from '../../utils/datagrid-filter-registrar';\n\nimport { DatagridStringFilterImpl } from './datagrid-string-filter-impl';\nimport { ClrPopoverToggleService } from '../../../../utils/popover/providers/popover-toggle.service';\n\n@Component({\n  selector: 'clr-dg-string-filter',\n  providers: [{ provide: CustomFilter, useExisting: DatagridStringFilter }],\n  template: `\n        <clr-dg-filter [clrDgFilter]=\"registered\" [(clrDgFilterOpen)]=\"open\">\n            <input #input type=\"text\" name=\"search\" [(ngModel)]=\"value\" class=\"clr-input\" />\n        </clr-dg-filter>\n    `,\n})\nexport class DatagridStringFilter<T = any> extends DatagridFilterRegistrar<T, DatagridStringFilterImpl<T>>\n  implements CustomFilter, AfterViewInit, OnDestroy {\n  private subs: Subscription[] = [];\n  constructor(\n    filters: FiltersProvider<T>,\n    private domAdapter: DomAdapter,\n    private smartToggleService: ClrPopoverToggleService\n  ) {\n    super(filters);\n  }\n\n  /**\n   * Customizable filter logic based on a search text\n   */\n  @Input('clrDgStringFilter')\n  set customStringFilter(\n    value: ClrDatagridStringFilterInterface<T> | RegisteredFilter<T, DatagridStringFilterImpl<T>>\n  ) {\n    if (value instanceof RegisteredFilter) {\n      this.setFilter(value);\n    } else {\n      this.setFilter(new DatagridStringFilterImpl(value));\n    }\n    if (this.initFilterValue) {\n      this.value = this.initFilterValue;\n      // This initFilterValue should be used only once after the filter registration\n      // So deleting this property value to prevent it from being used again\n      // if this customStringFilter property is set again\n      delete this.initFilterValue;\n    }\n  }\n\n  /**\n   * Indicates if the filter dropdown is open\n   */\n  public open: boolean = false;\n\n  /**\n   * We need the actual input element to automatically focus on it\n   */\n  @ViewChild('input') public input: ElementRef;\n\n  /**\n   * We grab the ClrDatagridFilter we wrap to register this StringFilter to it.\n   */\n  @ViewChild(ClrDatagridFilter) public filterContainer: ClrDatagridFilter<T>;\n  ngAfterViewInit() {\n    this.subs.push(\n      this.smartToggleService.openChange.subscribe(openChange => {\n        this.open = openChange;\n        // The timeout in used because when this executes, the input isn't displayed.\n        setTimeout(() => {\n          this.domAdapter.focus(this.input.nativeElement);\n        });\n      })\n    );\n  }\n\n  ngOnDestroy(): void {\n    super.ngOnDestroy();\n    this.subs.forEach(sub => sub.unsubscribe());\n  }\n\n  private initFilterValue: string;\n\n  /**\n   * Common setter for the input value\n   */\n  public get value() {\n    return this.filter.value;\n  }\n  @Input('clrFilterValue')\n  public set value(value: string) {\n    if (this.filter) {\n      if (!value) {\n        value = '';\n      }\n      if (value !== this.filter.value) {\n        this.filter.value = value;\n        this.filterValueChange.emit(value);\n      }\n    } else {\n      this.initFilterValue = value;\n    }\n  }\n\n  @Output('clrFilterValueChange') filterValueChange = new EventEmitter();\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { ClrDatagridNumericFilterInterface } from '../../interfaces/numeric-filter.interface';\nimport { NestedProperty } from '../nested-property';\n\nexport class DatagridPropertyNumericFilter<T = any> implements ClrDatagridNumericFilterInterface<T> {\n  private nestedProp: NestedProperty<T>;\n\n  constructor(public prop: string, public exact = false) {\n    this.nestedProp = new NestedProperty(prop);\n  }\n\n  accepts(item: T, low: number, high: number): boolean {\n    const propValue = this.nestedProp.getPropValue(item);\n    if (low !== null && propValue < low) {\n      return false;\n    }\n    if (high !== null && propValue > high) {\n      return false;\n    }\n    return true;\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Observable, Subject } from 'rxjs';\nimport { ClrDatagridFilterInterface } from '../../interfaces/filter.interface';\nimport { ClrDatagridNumericFilterInterface } from '../../interfaces/numeric-filter.interface';\nimport { DatagridPropertyNumericFilter } from './datagrid-property-numeric-filter';\n\nexport class DatagridNumericFilterImpl<T = any> implements ClrDatagridFilterInterface<T> {\n  constructor(public filterFn: ClrDatagridNumericFilterInterface<T>) {}\n\n  /**\n   * The Observable required as part of the Filter interface\n   */\n  private _changes = new Subject<[number, number]>();\n  // We do not want to expose the Subject itself, but the Observable which is read-only\n  public get changes(): Observable<[number, number]> {\n    return this._changes.asObservable();\n  }\n\n  /**\n   * Internal values and accessor\n   */\n  private _low: number = null;\n  private _high: number = null;\n\n  /**\n   * Common setters for the input values, including individual limits and\n   * both at the same time.  Value is singular to make the interface similar\n   * to the built-in string filter.\n   */\n\n  public get value(): [number, number] {\n    return [this._low, this._high];\n  }\n\n  public set value(vals: [number, number]) {\n    const low = vals[0];\n    const high = vals[1];\n    if (low !== this._low || high !== this._high) {\n      this._low = low;\n      this._high = high;\n      this._changes.next([this._low, this._high]);\n    }\n  }\n\n  public set low(low: number) {\n    if (low !== this._low) {\n      this._low = low;\n      this._changes.next([this._low, this._high]);\n    }\n  }\n\n  public set high(high: number) {\n    if (high !== this._high) {\n      this._high = high;\n      this._changes.next([this._low, this._high]);\n    }\n  }\n\n  public get low() {\n    return this._low;\n  }\n\n  public get high() {\n    return this._high;\n  }\n\n  /**\n   * Indicates if the filter is currently active, (at least one input is set)\n   */\n  public isActive(): boolean {\n    return this._low !== null || this.high !== null;\n  }\n\n  /**\n   * Tests if an item matches a search text\n   */\n  public accepts(item: T): boolean {\n    // We have a filter function in case someone wants to implement a numeric\n    // filter that always passes nulls or similar\n    return this.filterFn.accepts(item, this._low, this._high);\n  }\n\n  public get state() {\n    if (this.filterFn instanceof DatagridPropertyNumericFilter) {\n      return {\n        property: this.filterFn.prop,\n        low: this._low,\n        high: this._high,\n      };\n    }\n    return this;\n  }\n\n  public equals(other: ClrDatagridFilterInterface<T, any>): boolean {\n    if (other instanceof DatagridNumericFilterImpl) {\n      if (other.filterFn instanceof DatagridPropertyNumericFilter) {\n        return (\n          this.filterFn instanceof DatagridPropertyNumericFilter &&\n          other.filterFn.prop === this.filterFn.prop &&\n          other.low === this._low &&\n          other.high === this._high\n        );\n      }\n      return other === this;\n    }\n    return false;\n  }\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { AfterViewInit, Component, ElementRef, EventEmitter, Input, Output, ViewChild } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { ClrDatagridFilter } from '../../datagrid-filter';\nimport { ClrDatagridNumericFilterInterface } from '../../interfaces/numeric-filter.interface';\nimport { CustomFilter } from '../../providers/custom-filter';\nimport { FiltersProvider, RegisteredFilter } from '../../providers/filters';\nimport { DomAdapter } from '../../../../utils/dom-adapter/dom-adapter';\nimport { DatagridFilterRegistrar } from '../../utils/datagrid-filter-registrar';\nimport { DatagridNumericFilterImpl } from './datagrid-numeric-filter-impl';\nimport { ClrCommonStringsService } from '../../../../utils/i18n/common-strings.service';\nimport { ClrPopoverToggleService } from '../../../../utils/popover/providers/popover-toggle.service';\n\n@Component({\n  selector: 'clr-dg-numeric-filter',\n  providers: [{ provide: CustomFilter, useExisting: DatagridNumericFilter }],\n  template: `\n        <clr-dg-filter [clrDgFilter]=\"registered\" [(clrDgFilterOpen)]=\"open\">\n            <input class=\"datagrid-numeric-filter-input\" #input_low type=\"number\" name=\"low\" [(ngModel)]=\"low\"\n                   [placeholder]=\"commonStrings.keys.minValue\" [attr.aria-label]=\"commonStrings.keys.minValue\" />\n                <span class=\"datagrid-filter-input-spacer\"></span>\n            <input class=\"datagrid-numeric-filter-input\" #input_high type=\"number\" name=\"high\" [(ngModel)]=\"high\"\n                   [placeholder]=\"commonStrings.keys.maxValue\" [attr.aria-label]=\"commonStrings.keys.maxValue\" />\n        </clr-dg-filter>\n    `,\n})\nexport class DatagridNumericFilter<T = any> extends DatagridFilterRegistrar<T, DatagridNumericFilterImpl<T>>\n  implements CustomFilter, AfterViewInit {\n  constructor(\n    filters: FiltersProvider<T>,\n    private domAdapter: DomAdapter,\n    public commonStrings: ClrCommonStringsService,\n    private popoverToggleService: ClrPopoverToggleService\n  ) {\n    super(filters);\n  }\n\n  private subscriptions: Subscription[] = [];\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(sub => {\n      sub.unsubscribe();\n    });\n  }\n\n  /**\n   * Customizable filter logic based on high and low values\n   */\n  @Input('clrDgNumericFilter')\n  set customNumericFilter(\n    value: ClrDatagridNumericFilterInterface<T> | RegisteredFilter<T, DatagridNumericFilterImpl<T>>\n  ) {\n    if (value instanceof RegisteredFilter) {\n      this.setFilter(value);\n    } else {\n      this.setFilter(new DatagridNumericFilterImpl(value));\n    }\n    if (this.initFilterValues) {\n      this.value = this.initFilterValues;\n      // This initFilterValues should be used only once after the filter registration\n      // So deleting this property value to prevent it from being used again\n      // if this customStringFilter property is set again\n      delete this.initFilterValues;\n    }\n  }\n\n  /**\n   * Indicates if the filter dropdown is open\n   */\n  public open: boolean = false;\n\n  /**\n   * We need the actual input element to automatically focus on it\n   */\n  @ViewChild('input_low') public input: ElementRef;\n\n  /**\n   * We grab the ClrDatagridFilter we wrap to register this StringFilter to it.\n   */\n  @ViewChild(ClrDatagridFilter) public filterContainer: ClrDatagridFilter<T>;\n  ngAfterViewInit() {\n    this.subscriptions.push(\n      this.popoverToggleService.openChange.subscribe(openChange => {\n        this.open = openChange;\n        // The timeout in used because when this executes, the input isn't displayed.\n        setTimeout(() => {\n          this.domAdapter.focus(this.input.nativeElement);\n        });\n      })\n    );\n  }\n\n  private initFilterValues: [number, number];\n  /**\n   * Common setter for the input values\n   */\n  public get value() {\n    return [this.filter.low, this.filter.high];\n  }\n\n  @Input('clrFilterValue')\n  public set value(values: [number, number]) {\n    if (this.filter) {\n      if (values && (values[0] !== this.filter.low || values[1] !== this.filter.high)) {\n        if (typeof values[0] === 'number') {\n          this.filter.low = values[0];\n        } else {\n          this.filter.low = null;\n        }\n        if (typeof values[1] === 'number') {\n          this.filter.high = values[1];\n        } else {\n          this.filter.high = null;\n        }\n        this.filterValueChange.emit(values);\n      }\n    } else {\n      this.initFilterValues = values;\n    }\n  }\n\n  public get low() {\n    if (typeof this.filter.low === 'number' && isFinite(this.filter.low)) {\n      return this.filter.low;\n    } else {\n      // There's not a low limit\n      return null;\n    }\n  }\n\n  public get high() {\n    if (typeof this.filter.high === 'number' && isFinite(this.filter.high)) {\n      return this.filter.high;\n    } else {\n      // There's not a high limit\n      return null;\n    }\n  }\n\n  public set low(low: number | string) {\n    if (typeof low === 'number' && low !== this.filter.low) {\n      this.filter.low = low;\n      this.filterValueChange.emit([this.filter.low, this.filter.high]);\n    } else if (typeof low !== 'number') {\n      this.filter.low = null;\n      this.filterValueChange.emit([this.filter.low, this.filter.high]);\n    }\n  }\n\n  public set high(high: number | string) {\n    if (typeof high === 'number' && high !== this.filter.high) {\n      this.filter.high = high;\n      this.filterValueChange.emit([this.filter.low, this.filter.high]);\n    } else if (typeof high !== 'number') {\n      this.filter.high = null;\n      this.filterValueChange.emit([this.filter.low, this.filter.high]);\n    }\n  }\n\n  @Output('clrFilterValueChange') filterValueChange = new EventEmitter();\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { AfterContentChecked, ChangeDetectorRef, OnDestroy } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { WillyWonka } from './willy-wonka';\n\nexport abstract class OompaLoompa implements AfterContentChecked, OnDestroy {\n  // FIXME: Request Injector once we move to Angular 4.2+, it'll allow easier refactors\n  constructor(cdr: ChangeDetectorRef, willyWonka: WillyWonka) {\n    this.subscription = willyWonka.chocolate.subscribe(() => {\n      if (this.latestFlavor !== this.flavor) {\n        willyWonka.disableChocolateCheck = true;\n        cdr.detectChanges();\n        willyWonka.disableChocolateCheck = false;\n      }\n    });\n  }\n\n  private subscription: Subscription;\n\n  private latestFlavor: any;\n\n  abstract get flavor(): any;\n\n  ngAfterContentChecked() {\n    this.latestFlavor = this.flavor;\n  }\n\n  ngOnDestroy() {\n    this.subscription.unsubscribe();\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable } from '@angular/core';\n\n@Injectable()\nexport class RowActionService {\n  private actionableCount = 0;\n\n  public register() {\n    this.actionableCount++;\n  }\n\n  public unregister() {\n    this.actionableCount--;\n  }\n\n  /**\n   * false means no rows with action\n   */\n  public get hasActionableRow(): boolean {\n    return this.actionableCount > 0;\n  }\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { AfterViewChecked } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { Subject } from 'rxjs';\n\n/*\n * After a conversation with the Angular core team, it turns out we don't have much of a choice for our\n * declarative API, we need to fight against change detection and its one-way flow. This is\n * currently the least dirty solution to do what we want.\n *\n * Do not modify or even use this class unless you know exactly what you're doing.\n * It has the potential to trigger change detection loops or kill app performances.\n */\nexport class WillyWonka implements AfterViewChecked {\n  private _chocolate = new Subject<string>();\n\n  public get chocolate(): Observable<string> {\n    return this._chocolate.asObservable();\n  }\n\n  disableChocolateCheck = false;\n\n  ngAfterViewChecked() {\n    if (!this.disableChocolateCheck) {\n      this._chocolate.next();\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Directive } from '@angular/core';\nimport { WillyWonka } from '../../../utils/chocolate/willy-wonka';\n\n@Directive({ selector: 'clr-datagrid' })\nexport class DatagridWillyWonka extends WillyWonka {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { ChangeDetectorRef, Directive, Optional } from '@angular/core';\nimport { OompaLoompa } from '../../../utils/chocolate/oompa-loompa';\nimport { RowActionService } from '../providers/row-action-service';\nimport { DatagridWillyWonka } from './datagrid-willy-wonka';\n\n@Directive({ selector: 'clr-datagrid, clr-dg-row' })\nexport class ActionableOompaLoompa extends OompaLoompa {\n  private rowActions: RowActionService;\n\n  constructor(cdr: ChangeDetectorRef, @Optional() willyWonka: DatagridWillyWonka, rowActions: RowActionService) {\n    if (!willyWonka) {\n      throw new Error('clr-dg-row should only be used inside of a clr-datagrid');\n    }\n    super(cdr, willyWonka);\n    this.rowActions = rowActions;\n  }\n\n  get flavor() {\n    return this.rowActions.hasActionableRow;\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable } from '@angular/core';\nimport { BehaviorSubject, Observable } from 'rxjs';\n\n@Injectable()\nexport class DetailService {\n  private toggleState = false;\n  private _state: BehaviorSubject<boolean | null> = new BehaviorSubject<boolean>(this.toggleState);\n  private cache: any;\n  private _enabled = false;\n  private button: HTMLButtonElement;\n  public id: string;\n\n  get enabled(): boolean {\n    return this._enabled;\n  }\n\n  set enabled(state: boolean) {\n    this._enabled = state;\n  }\n\n  public get stateChange(): Observable<boolean | null> {\n    return this._state.asObservable();\n  }\n\n  close() {\n    this.toggleState = false;\n    this._state.next(this.toggleState);\n    if (this.button) {\n      this.button.focus();\n      this.button = null;\n    }\n  }\n\n  open(item: any, button?: HTMLButtonElement) {\n    this.cache = item;\n    this.button = button;\n    this.toggleState = true;\n    this._state.next(this.toggleState);\n  }\n\n  toggle(item: any, button?: HTMLButtonElement) {\n    if (this.isRowOpen(item) || !item) {\n      this.close();\n    } else {\n      this.open(item, button);\n    }\n  }\n\n  get state() {\n    return this.cache;\n  }\n\n  isRowOpen(item: any) {\n    return !!(this.toggleState && this.cache === item);\n  }\n\n  get isOpen() {\n    return this.toggleState === true;\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Injectable } from '@angular/core';\nimport { DetailService } from './detail.service';\n\n@Injectable()\nexport class ExpandableRowsCount {\n  constructor(private detailService: DetailService) {}\n\n  private expandableCount = 0;\n\n  public register() {\n    this.expandableCount++;\n  }\n\n  public unregister() {\n    this.expandableCount--;\n  }\n\n  /**\n   * false means no rows with action\n   * check if details are on, and disable rows entirely\n   */\n  public get hasExpandableRow(): boolean {\n    return !this.detailService.enabled && this.expandableCount > 0;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { ChangeDetectorRef, Directive, Optional } from '@angular/core';\nimport { OompaLoompa } from '../../../utils/chocolate/oompa-loompa';\nimport { ExpandableRowsCount } from '../providers/global-expandable-rows';\nimport { DatagridWillyWonka } from './datagrid-willy-wonka';\n\n@Directive({ selector: 'clr-datagrid, clr-dg-row' })\nexport class ExpandableOompaLoompa extends OompaLoompa {\n  private expandableCount: ExpandableRowsCount;\n\n  constructor(\n    cdr: ChangeDetectorRef,\n    @Optional() willyWonka: DatagridWillyWonka,\n    expandableCount: ExpandableRowsCount\n  ) {\n    if (!willyWonka) {\n      throw new Error('clr-dg-row should only be used inside of a clr-datagrid');\n    }\n    super(cdr, willyWonka);\n    this.expandableCount = expandableCount;\n  }\n\n  get flavor() {\n    return this.expandableCount.hasExpandableRow;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { ClrDatagridComparatorInterface } from '../../interfaces/comparator.interface';\nimport { NestedProperty } from '../nested-property';\n\nexport class DatagridPropertyComparator<T = any> implements ClrDatagridComparatorInterface<T> {\n  private nestedProp: NestedProperty<T>;\n\n  constructor(public prop: string) {\n    this.nestedProp = new NestedProperty(prop);\n  }\n\n  public compare(a: T, b: T): number {\n    let propA = this.nestedProp.getPropValue(a);\n    let propB = this.nestedProp.getPropValue(b);\n\n    if (typeof propA === 'string') {\n      propA = propA.toLowerCase();\n    }\n\n    if (typeof propB === 'string') {\n      propB = propB.toLowerCase();\n    }\n\n    if (typeof propA === 'undefined' || propA === null) {\n      if (typeof propB === 'undefined' || propB === null) {\n        return 0;\n      } else {\n        return 1;\n      }\n    } else {\n      if (typeof propB === 'undefined' || propB === null) {\n        return -1;\n      } else if (propA < propB) {\n        return -1;\n      } else if (propA > propB) {\n        return 1;\n      } else {\n        return 0;\n      }\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\n/**\n * Enumeration representing the sorting order of a datagrid column. It is a constant Enum,\n * i.e. each value needs to be treated as a `number`, starting at index 0.\n *\n * @export\n * @enum {number}\n */\nexport enum ClrDatagridSortOrder {\n  UNSORTED = 0,\n  ASC = 1,\n  DESC = -1,\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { Subject } from 'rxjs';\n\nimport { ClrDatagridComparatorInterface } from '../interfaces/comparator.interface';\nimport { StateDebouncer } from './state-debouncer.provider';\n\n@Injectable()\nexport class Sort<T = any> {\n  constructor(private stateDebouncer: StateDebouncer) {}\n\n  /**\n   * Currently active comparator\n   */\n  private _comparator: ClrDatagridComparatorInterface<T>;\n  public get comparator(): ClrDatagridComparatorInterface<T> {\n    return this._comparator;\n  }\n  public set comparator(value: ClrDatagridComparatorInterface<T>) {\n    this.stateDebouncer.changeStart();\n    this._comparator = value;\n    this.emitChange();\n    this.stateDebouncer.changeDone();\n  }\n\n  /**\n   * Ascending order if false, descending if true\n   */\n  private _reverse: boolean = false;\n  public get reverse(): boolean {\n    return this._reverse;\n  }\n  public set reverse(value: boolean) {\n    this.stateDebouncer.changeStart();\n    this._reverse = value;\n    this.emitChange();\n    this.stateDebouncer.changeDone();\n  }\n\n  /**\n   * The Observable that lets other classes subscribe to sort changes\n   */\n  private _change = new Subject<Sort<T>>();\n  private emitChange() {\n    this._change.next(this);\n  }\n  // We do not want to expose the Subject itself, but the Observable which is read-only\n  public get change(): Observable<Sort<T>> {\n    return this._change.asObservable();\n  }\n\n  /**\n   * Sets a comparator as the current one, or toggles reverse if the comparator is already used. The\n   * optional forceReverse input parameter allows to override that toggling behavior by sorting in\n   * reverse order if `true`.\n   *\n   * @memberof Sort\n   */\n  public toggle(sortBy: ClrDatagridComparatorInterface<T>, forceReverse?: boolean) {\n    this.stateDebouncer.changeStart();\n    // We modify private properties directly, to batch the change event\n    if (this.comparator === sortBy) {\n      this._reverse = typeof forceReverse !== 'undefined' ? forceReverse || !this._reverse : !this._reverse;\n    } else {\n      this._comparator = sortBy;\n      this._reverse = typeof forceReverse !== 'undefined' ? forceReverse : false;\n    }\n    this.emitChange();\n    this.stateDebouncer.changeDone();\n  }\n\n  /**\n   * Clears the current sorting order\n   */\n  public clear() {\n    this.comparator = null;\n  }\n\n  /**\n   * Compares two objects according to the current comparator\n   */\n  public compare(a: T, b: T): number {\n    return (this.reverse ? -1 : 1) * this.comparator.compare(a, b);\n  }\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { AfterViewInit, Component, EmbeddedViewRef, OnDestroy, TemplateRef, ViewChild } from '@angular/core';\n\nimport { DynamicWrapper } from '../../utils/host-wrapping/dynamic-wrapper';\n\n@Component({\n  selector: 'dg-wrapped-column',\n  template: `\n        <ng-template #columnPortal>\n            <ng-content></ng-content>\n        </ng-template>\n    `,\n})\nexport class WrappedColumn implements DynamicWrapper, AfterViewInit, OnDestroy {\n  _dynamic = false;\n\n  @ViewChild('columnPortal') templateRef: TemplateRef<void>;\n  columnView: EmbeddedViewRef<void>; // the columns projected view (in memory)\n\n  ngAfterViewInit() {\n    // Create the cells view in memory, not the DOM.\n    this.columnView = this.templateRef.createEmbeddedView(null);\n  }\n\n  ngOnDestroy() {\n    this.columnView.destroy();\n  }\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport {\n  Component,\n  ContentChild,\n  EventEmitter,\n  Injector,\n  Input,\n  OnDestroy,\n  OnInit,\n  Output,\n  ViewContainerRef,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  SimpleChanges,\n  OnChanges,\n} from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { HostWrapper } from '../../utils/host-wrapping/host-wrapper';\nimport { DatagridPropertyComparator } from './built-in/comparators/datagrid-property-comparator';\nimport { DatagridPropertyStringFilter } from './built-in/filters/datagrid-property-string-filter';\nimport { DatagridPropertyNumericFilter } from './built-in/filters/datagrid-property-numeric-filter';\nimport { DatagridStringFilterImpl } from './built-in/filters/datagrid-string-filter-impl';\nimport { DatagridNumericFilterImpl } from './built-in/filters/datagrid-numeric-filter-impl';\nimport { ClrDatagridSortOrder } from './enums/sort-order.enum';\nimport { ClrDatagridComparatorInterface } from './interfaces/comparator.interface';\nimport { CustomFilter } from './providers/custom-filter';\nimport { FiltersProvider } from './providers/filters';\nimport { Sort } from './providers/sort';\nimport { DatagridFilterRegistrar } from './utils/datagrid-filter-registrar';\nimport { ClrDatagridFilterInterface } from './interfaces/filter.interface';\nimport { WrappedColumn } from './wrapped-column';\nimport { ClrCommonStringsService } from '../../utils/i18n/common-strings.service';\nimport { ClrPopoverPositionService } from '../../utils/popover/providers/popover-position.service';\nimport { ClrPopoverEventsService } from '../../utils/popover/providers/popover-events.service';\nimport { ClrPopoverToggleService } from '../../utils/popover/providers/popover-toggle.service';\nimport { DetailService } from './providers/detail.service';\n\n@Component({\n  selector: 'clr-dg-column',\n  template: `\n      <div class=\"datagrid-column-flex\">\n          <button\n            class=\"datagrid-column-title\"\n            *ngIf=\"sortable\"\n            (click)=\"sort()\"\n            type=\"button\">\n              <ng-container  *ngTemplateOutlet=\"columnTitle\"></ng-container>\n              <clr-icon\n                      *ngIf=\"sortIcon\"\n                      [attr.shape]=\"sortIcon\"\n                      class=\"sort-icon\"></clr-icon>\n          </button>\n          <!-- I'm really not happy with that select since it's not very scalable -->\n          <ng-content select=\"clr-dg-filter, clr-dg-string-filter, clr-dg-numeric-filter\"></ng-content>\n\n          <clr-dg-string-filter\n                  *ngIf=\"field && !customFilter && (colType=='string')\"\n                  [clrDgStringFilter]=\"registered\"\n                  [(clrFilterValue)]=\"filterValue\"></clr-dg-string-filter>\n\n          <clr-dg-numeric-filter\n                  *ngIf=\"field && !customFilter && (colType=='number')\"\n                  [clrDgNumericFilter]=\"registered\"\n                  [(clrFilterValue)]=\"filterValue\"></clr-dg-numeric-filter>\n\n          <ng-template #columnTitle>\n              <ng-content></ng-content>\n          </ng-template>\n\n\n          <span class=\"datagrid-column-title\" *ngIf=\"!sortable\">\n              <ng-container *ngTemplateOutlet=\"columnTitle\"></ng-container>\n          </span>\n\n          <clr-dg-column-separator *ngIf=\"showSeparator\"></clr-dg-column-separator>\n      </div>\n    `,\n  providers: [ClrPopoverPositionService, ClrPopoverEventsService, ClrPopoverToggleService],\n  host: {\n    '[class.datagrid-column]': 'true',\n    '[attr.aria-sort]': 'ariaSort',\n    role: 'columnheader',\n  },\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class ClrDatagridColumn<T = any> extends DatagridFilterRegistrar<T, ClrDatagridFilterInterface<T>>\n  implements OnDestroy, OnInit, OnChanges {\n  constructor(\n    private _sort: Sort<T>,\n    filters: FiltersProvider<T>,\n    private vcr: ViewContainerRef,\n    private detailService: DetailService,\n    private changeDetectorRef: ChangeDetectorRef,\n    public commonStrings: ClrCommonStringsService\n  ) {\n    super(filters);\n    this.subscriptions.push(this.listenForSortingChanges());\n    this.subscriptions.push(this.listenForDetailPaneChanges());\n  }\n\n  public showSeparator = true;\n\n  /**\n   * Subscription to the sort service changes\n   */\n  private subscriptions: Subscription[] = [];\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(s => s.unsubscribe());\n  }\n\n  private listenForDetailPaneChanges() {\n    return this.detailService.stateChange.subscribe(state => {\n      if (this.showSeparator !== !state) {\n        this.showSeparator = !state;\n        // Have to manually change because of OnPush\n        this.changeDetectorRef.markForCheck();\n      }\n    });\n  }\n\n  private listenForSortingChanges() {\n    return this._sort.change.subscribe(sort => {\n      // Need to manually mark the component to be checked\n      // for both activating and deactivating sorting\n      this.changeDetectorRef.markForCheck();\n      // We're only listening to make sure we emit an event when the column goes from sorted to unsorted\n      if (this.sortOrder !== ClrDatagridSortOrder.UNSORTED && sort.comparator !== this._sortBy) {\n        this._sortOrder = ClrDatagridSortOrder.UNSORTED;\n        this.sortOrderChange.emit(this._sortOrder);\n        // removes the sortIcon when column becomes unsorted\n        this.sortIcon = null;\n      }\n      // deprecated: to be removed - START\n      if (this.sorted && sort.comparator !== this._sortBy) {\n        this._sorted = false;\n        this.sortedChange.emit(false);\n      }\n      // deprecated: to be removed - END\n    });\n  }\n\n  /*\n     * Simple object property shortcut, activates both sorting and filtering\n     * based on native comparison of the specified property on the items.\n     */\n  private _field: string;\n  public get field() {\n    return this._field;\n  }\n\n  /*\n  * What type is this column?  This defaults to STRING, but can also be\n  * set to NUMBER.  Unsupported types default to STRING. Users can set it\n  * via the [clrDgColType] input by setting it to 'string' or 'number'.\n  */\n\n  private _colType: 'string' | 'number' = 'string';\n\n  get colType() {\n    return this._colType;\n  }\n\n  // TODO: We might want to make this an enum in the future\n  @Input('clrDgColType')\n  set colType(value: 'string' | 'number') {\n    this._colType = value;\n  }\n\n  @Input('clrDgField')\n  public set field(field: string) {\n    if (typeof field === 'string') {\n      this._field = field;\n\n      if (!this.sortBy) {\n        this._sortBy = new DatagridPropertyComparator(field);\n      }\n    }\n  }\n\n  private setupDefaultFilter(field: string, colType: 'string' | 'number') {\n    if (colType === 'number') {\n      this.setFilter(new DatagridNumericFilterImpl(new DatagridPropertyNumericFilter(field)));\n    } else if (colType === 'string') {\n      this.setFilter(new DatagridStringFilterImpl(new DatagridPropertyStringFilter(field)));\n    }\n    if (this.filter && this.initFilterValue) {\n      this.updateFilterValue = this.initFilterValue;\n      // This initFilterValue should be used only once after the filter registration\n      // So deleting this property value to prevent it from being used again\n      // if this field property is set again\n      delete this.initFilterValue;\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (\n      changes.colType &&\n      changes.colType.currentValue &&\n      changes.colType.currentValue !== changes.colType.previousValue\n    ) {\n      if (!this.customFilter && !this.filter && this.colType && this.field) {\n        this.setupDefaultFilter(this.field, this.colType);\n      }\n    }\n    if (changes.field && changes.field.currentValue && changes.field.currentValue !== changes.field.previousValue) {\n      if (!this.customFilter && this.colType) {\n        this.setupDefaultFilter(this.field, this.colType);\n      }\n    }\n  }\n\n  /**\n   * ClrDatagridComparatorInterface to use when sorting the column\n   */\n\n  private _sortBy: ClrDatagridComparatorInterface<T>;\n\n  public get sortBy() {\n    return this._sortBy;\n  }\n\n  @Input('clrDgSortBy')\n  public set sortBy(comparator: ClrDatagridComparatorInterface<T> | string) {\n    if (typeof comparator === 'string') {\n      this._sortBy = new DatagridPropertyComparator(comparator);\n    } else {\n      if (comparator) {\n        this._sortBy = comparator;\n      } else {\n        if (this.field) {\n          this._sortBy = new DatagridPropertyComparator(this.field);\n        } else {\n          delete this._sortBy;\n        }\n      }\n    }\n  }\n\n  /**\n   * Indicates if the column is sortable\n   */\n  public get sortable(): boolean {\n    return !!this._sortBy;\n  }\n\n  // deprecated: to be removed - START\n  /**\n   * Indicates if the column is currently sorted\n   *\n   * @deprecated This will be removed soon, in favor of the sortOrder mechanism\n   */\n  private _sorted = false;\n  public get sorted() {\n    return this._sorted;\n  }\n\n  /**\n   * @deprecated This will be removed soon, in favor of the sortOrder mechanism\n   */\n  @Input('clrDgSorted')\n  public set sorted(value: boolean) {\n    if (!value && this.sorted) {\n      this._sorted = false;\n      this._sort.clear();\n    } else if (value && !this.sorted) {\n      this.sort();\n    }\n  }\n\n  /**\n   * @deprecated This will be removed soon, in favor of the sortOrder mechanism\n   */\n  @Output('clrDgSortedChange') public sortedChange = new EventEmitter<boolean>();\n\n  // deprecated: to be removed - END\n\n  /**\n   * Indicates how the column is currently sorted\n   */\n  private _sortOrder: ClrDatagridSortOrder = ClrDatagridSortOrder.UNSORTED;\n  public get sortOrder() {\n    return this._sortOrder;\n  }\n\n  @Input('clrDgSortOrder')\n  public set sortOrder(value: ClrDatagridSortOrder) {\n    if (typeof value === 'undefined') {\n      return;\n    }\n\n    // only if the incoming order is different from the current one\n    if (this._sortOrder === value) {\n      return;\n    }\n\n    switch (value) {\n      // the Unsorted case happens when the current state is either Asc or Desc\n      default:\n      case ClrDatagridSortOrder.UNSORTED:\n        this._sort.clear();\n        break;\n      case ClrDatagridSortOrder.ASC:\n        this.sort(false);\n        break;\n      case ClrDatagridSortOrder.DESC:\n        this.sort(true);\n        break;\n    }\n  }\n\n  public get ariaSort() {\n    switch (this._sortOrder) {\n      default:\n      case ClrDatagridSortOrder.UNSORTED:\n        return 'none';\n      case ClrDatagridSortOrder.ASC:\n        return 'ascending';\n      case ClrDatagridSortOrder.DESC:\n        return 'descending';\n    }\n  }\n\n  @Output('clrDgSortOrderChange') public sortOrderChange = new EventEmitter<ClrDatagridSortOrder>();\n\n  public sortIcon: string;\n  /**\n   * Sorts the datagrid based on this column\n   */\n  public sort(reverse?: boolean) {\n    if (!this.sortable) {\n      return;\n    }\n\n    this._sort.toggle(this._sortBy, reverse);\n\n    // setting the private variable to not retrigger the setter logic\n    this._sortOrder = this._sort.reverse ? ClrDatagridSortOrder.DESC : ClrDatagridSortOrder.ASC;\n    // Sets the correct icon for current sort order\n    this.sortIcon = this._sortOrder === ClrDatagridSortOrder.DESC ? 'arrow down' : 'arrow';\n    this.sortOrderChange.emit(this._sortOrder);\n\n    // deprecated: to be removed - START\n    this._sorted = true;\n    this.sortedChange.emit(true);\n    // deprecated: to be removed - END\n  }\n\n  /**\n   * A custom filter for this column that can be provided in the projected content\n   */\n  public customFilter = false;\n\n  @ContentChild(CustomFilter)\n  public set projectedFilter(custom: any) {\n    if (custom) {\n      this.deleteFilter();\n      this.customFilter = true;\n    }\n  }\n\n  // This property holds filter value temporarily while this.filter property is not yet registered\n  // When this.filter is registered, this property value would be used update this.filter.value\n  private initFilterValue: string | [number, number];\n\n  public get filterValue() {\n    if (this.filter instanceof DatagridStringFilterImpl || this.filter instanceof DatagridNumericFilterImpl) {\n      return this.filter.value;\n    }\n  }\n\n  @Input('clrFilterValue')\n  public set updateFilterValue(newValue: string | [number, number]) {\n    if (this.filter) {\n      if (this.filter instanceof DatagridStringFilterImpl) {\n        if (!newValue || typeof newValue !== 'string') {\n          newValue = '';\n        }\n        if (newValue !== this.filter.value) {\n          this.filter.value = newValue;\n        }\n      } else if (this.filter instanceof DatagridNumericFilterImpl) {\n        if (!newValue || !(newValue instanceof Array)) {\n          newValue = [null, null];\n        }\n        if (newValue.length === 2 && (newValue[0] !== this.filter.value[0] || newValue[1] !== this.filter.value[1])) {\n          this.filter.value = newValue;\n        }\n      }\n    } else {\n      this.initFilterValue = newValue;\n    }\n  }\n\n  public set filterValue(newValue: string | [number, number]) {\n    if (this.filter instanceof DatagridStringFilterImpl || this.filter instanceof DatagridNumericFilterImpl) {\n      this.updateFilterValue = newValue;\n      this.filterValueChange.emit(this.filter.value);\n    }\n  }\n\n  @Output('clrFilterValueChange') filterValueChange = new EventEmitter();\n\n  private wrappedInjector: Injector;\n\n  ngOnInit() {\n    this.wrappedInjector = new HostWrapper(WrappedColumn, this.vcr);\n  }\n\n  public get _view() {\n    return this.wrappedInjector.get(WrappedColumn, this.vcr).columnView;\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Injectable, TrackByFunction } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { Subject } from 'rxjs';\nimport { Subscription } from 'rxjs';\n\nimport { FiltersProvider } from './filters';\nimport { Page } from './page';\nimport { Sort } from './sort';\n\n@Injectable()\nexport class Items<T = any> {\n  constructor(private _filters: FiltersProvider<T>, private _sort: Sort<T>, private _page: Page) {}\n\n  /**\n   * Indicates if the data is currently loading\n   */\n  public loading = false;\n\n  // TODO: Verify that trackBy is registered for the *ngFor case too\n  /**\n   * Tracking function to identify objects. Default is reference equality.\n   */\n  public trackBy: TrackByFunction<T> = (index: number, item: T) => item;\n\n  /**\n   * Subscriptions to the other providers changes.\n   */\n  private _filtersSub: Subscription;\n  private _sortSub: Subscription;\n  private _pageSub: Subscription;\n  /**\n   * Cleans up our subscriptions to other providers\n   */\n  public destroy() {\n    if (this._filtersSub) {\n      this._filtersSub.unsubscribe();\n    }\n    if (this._sortSub) {\n      this._sortSub.unsubscribe();\n    }\n    if (this._pageSub) {\n      this._pageSub.unsubscribe();\n    }\n  }\n\n  /**\n   * Whether we should use smart items for this datagrid or let the user handle\n   * everything.\n   */\n  private _smart = false;\n  public get smart(): boolean {\n    return this._smart;\n  }\n  public smartenUp() {\n    this._smart = true;\n    /*\n         * These observers trigger a chain of function: filter -> sort -> paginate\n         * An observer up the chain re-triggers all the operations that follow it.\n         */\n    this._filtersSub = this._filters.change.subscribe(() => this._filterItems());\n    this._sortSub = this._sort.change.subscribe(() => {\n      // Special case, if the datagrid went from sorted to unsorted, we have to re-filter\n      // to get the original order back\n      if (!this._sort.comparator) {\n        this._filterItems();\n      } else {\n        this._sortItems();\n      }\n    });\n    this._pageSub = this._page.change.subscribe(() => this._changePage());\n  }\n\n  /**\n   * List of all items in the datagrid\n   */\n  private _all: T[];\n  public get all() {\n    return this._all;\n  }\n  public set all(items: T[]) {\n    this._all = items;\n    this.emitAllChanges(items);\n    if (this.smart) {\n      this._filterItems();\n    } else {\n      this._displayed = items;\n      this.emitChange();\n    }\n  }\n\n  /**\n   * Manually recompute the list of displayed items\n   */\n  public refresh() {\n    if (this.smart) {\n      this._filterItems();\n    }\n  }\n\n  /**\n   * Internal temporary step, which we preserve to avoid re-filtering or re-sorting if not necessary\n   */\n  private _filtered: T[];\n\n  /**\n   * List of items currently displayed\n   */\n  private _displayed: T[] = [];\n  public get displayed(): T[] {\n    // Ideally we could return an immutable array, but we don't have it in Clarity yet.\n    return this._displayed;\n  }\n\n  /**\n   * The Observable that lets other classes subscribe to items changes\n   */\n  private _change = new Subject<T[]>();\n  private emitChange() {\n    this._change.next(this.displayed);\n  }\n  // We do not want to expose the Subject itself, but the Observable which is read-only\n  public get change(): Observable<T[]> {\n    return this._change.asObservable();\n  }\n\n  private _allChanges = new Subject<T[]>();\n  private emitAllChanges(items: T[]): void {\n    this._allChanges.next(items);\n  }\n\n  public get allChanges(): Observable<T[]> {\n    return this._allChanges.asObservable();\n  }\n\n  /**\n   * Checks if we don't have data to process yet, to abort early operations\n   */\n  private get uninitialized() {\n    return !this._all;\n  }\n\n  /**\n   * FiltersProvider items from the raw list\n   */\n  private _filterItems() {\n    if (this.uninitialized) {\n      return;\n    }\n    if (this._filters.hasActiveFilters()) {\n      this._filtered = this._all.filter(item => this._filters.accepts(item));\n    } else {\n      // Work on a shallow copy of the array, to not modify the user's model\n      this._filtered = this._all.slice();\n    }\n    this._page.totalItems = this._filtered.length;\n    this._sortItems();\n  }\n\n  /**\n   * Sorts items in the filtered list\n   */\n  private _sortItems() {\n    if (this.uninitialized) {\n      return;\n    }\n    if (this._sort.comparator) {\n      this._filtered.sort((a, b) => this._sort.compare(a, b));\n    }\n    this._changePage();\n  }\n\n  /**\n   * Extracts the current page from the sorted list\n   */\n  private _changePage() {\n    // If we know we have pagination but the page size hasn't been set yet, we wait for it.\n    if (this.uninitialized || (this._page.activated && this._page.size === 0)) {\n      return;\n    }\n    if (this._page.size > 0) {\n      this._displayed = this._filtered.slice(this._page.firstItem, this._page.lastItem + 1);\n    } else {\n      this._displayed = this._filtered;\n    }\n    this.emitChange();\n  }\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { NgForOf, NgForOfContext } from '@angular/common';\nimport {\n  Directive,\n  DoCheck,\n  Input,\n  IterableDiffer,\n  IterableDiffers,\n  TemplateRef,\n  TrackByFunction,\n  ViewContainerRef,\n  OnDestroy,\n} from '@angular/core';\n\nimport { Items } from './providers/items';\nimport { Subscription } from 'rxjs';\n\n@Directive({\n  selector: '[clrDgItems][clrDgItemsOf]',\n})\nexport class ClrDatagridItems<T> implements DoCheck, OnDestroy {\n  private iterableProxy: NgForOf<T>;\n  private _rawItems: T[];\n  private differ: IterableDiffer<T> | null = null;\n  private subscriptions: Subscription[] = [];\n\n  @Input('clrDgItemsOf')\n  public set rawItems(items: T[]) {\n    this._rawItems = items ? items : []; // local copy for ngOnChange diffing\n  }\n\n  @Input('clrDgItemsTrackBy')\n  set trackBy(value: TrackByFunction<T>) {\n    this.items.trackBy = value;\n    this.iterableProxy.ngForTrackBy = value;\n  }\n\n  constructor(\n    public template: TemplateRef<NgForOfContext<T>>,\n    private differs: IterableDiffers,\n    private items: Items,\n    private vcr: ViewContainerRef\n  ) {\n    items.smartenUp();\n    this.iterableProxy = new NgForOf<T>(this.vcr, this.template, this.differs);\n    this.subscriptions.push(\n      items.change.subscribe(newItems => {\n        this.iterableProxy.ngForOf = newItems;\n        this.iterableProxy.ngDoCheck();\n      })\n    );\n  }\n\n  ngDoCheck() {\n    if (!this.differ) {\n      this.differ = this.differs.find(this._rawItems).create(this.iterableProxy.ngForTrackBy);\n    }\n    if (this.differ) {\n      const changes = this.differ.diff(this._rawItems);\n      if (changes) {\n        // TODO: not very efficient right now,\n        // but premature optimization is the root of all evil.\n        this.items.all = this._rawItems;\n      }\n    }\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Component } from '@angular/core';\nimport { Items } from './providers/items';\n\n@Component({\n  selector: 'clr-dg-placeholder',\n  template: `\n        <div\n            class=\"datagrid-placeholder\"\n            [class.datagrid-empty]=\"emptyDatagrid\">\n                <div class=\"datagrid-placeholder-image\" *ngIf=\"emptyDatagrid\"></div>\n                <ng-content *ngIf=\"emptyDatagrid\"></ng-content>\n        </div>\n    `,\n  host: { '[class.datagrid-placeholder-container]': 'true' },\n})\nexport class ClrDatagridPlaceholder<T = any> {\n  constructor(private items: Items<T>) {}\n\n  /**\n   * Tests if the datagrid is empty, meaning it doesn't contain any items\n   */\n  public get emptyDatagrid() {\n    return !this.items.loading && (!this.items.displayed || this.items.displayed.length === 0);\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { ElementRef, InjectionToken } from '@angular/core';\n\nexport const POPOVER_HOST_ANCHOR = new InjectionToken<ElementRef>('POPOVER_HOST_ANCHOR');\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable } from '@angular/core';\n\n@Injectable()\nexport class SignpostFocusManager {\n  private _triggerEl: HTMLElement;\n\n  set triggerEl(value: HTMLElement) {\n    this._triggerEl = value;\n  }\n\n  focusTrigger() {\n    if (this._triggerEl) {\n      this._triggerEl.focus();\n    }\n  }\n}\n","/*\n *  Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n *\n */\n\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { Subject } from 'rxjs';\n\n@Injectable()\nexport class SignpostIdService {\n  private _id: Subject<string> = new Subject<string>();\n\n  setId(id: string) {\n    this._id.next(id);\n  }\n\n  get id(): Observable<string> {\n    return this._id.asObservable();\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { DOCUMENT, isPlatformBrowser } from '@angular/common';\nimport { Directive, ElementRef, HostListener, Inject, OnDestroy, PLATFORM_ID } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { ClrPopoverToggleService } from '../../utils/popover/providers/popover-toggle.service';\nimport { ClrCommonStringsService } from '../../utils/i18n/common-strings.service';\nimport { SignpostFocusManager } from './providers/signpost-focus-manager.service';\nimport { SignpostIdService } from './providers/signpost-id.service';\n\n@Directive({\n  selector: '[clrSignpostTrigger]',\n  host: {\n    class: 'signpost-trigger',\n    '[attr.aria-label]': 'commonStrings.keys.signpostToggle',\n    '[attr.aria-expanded]': 'ariaExpanded',\n    '[attr.aria-controls]': 'ariaControl',\n    '[class.active]': 'isOpen',\n  },\n})\n\n/*********\n *\n * @description\n * A Directive added to the ClrSignpost Trigger button that will call the ClrSignpost.toggle() function to hide/show the\n * ClrSignpostContent.\n *\n */\nexport class ClrSignpostTrigger implements OnDestroy {\n  private subscriptions: Subscription[] = [];\n\n  public ariaExpanded: boolean;\n  public ariaControl: string;\n  public isOpen: boolean;\n\n  private document: Document;\n\n  constructor(\n    private toggleService: ClrPopoverToggleService,\n    private el: ElementRef,\n    public commonStrings: ClrCommonStringsService,\n    private signpostIdService: SignpostIdService,\n    private signpostFocusManager: SignpostFocusManager,\n    @Inject(DOCUMENT) document: any,\n    @Inject(PLATFORM_ID) private platformId: Object\n  ) {\n    this.document = document;\n  }\n\n  ngOnInit() {\n    this.signpostFocusManager.triggerEl = this.el.nativeElement;\n    this.subscriptions.push(\n      this.toggleService.openChange.subscribe((isOpen: boolean) => {\n        this.ariaExpanded = isOpen;\n\n        const prevIsOpen = this.isOpen;\n        this.isOpen = isOpen;\n\n        // openChange fires false on initialization because signpost starts as closed by default\n        // but we shouldn't focus on that initial false value\n        // we should focus back only if it's closed after being opened\n        if (!this.isOpen && prevIsOpen) {\n          this.focusOnClose();\n        }\n      }),\n      this.signpostIdService.id.subscribe(idChange => (this.ariaControl = idChange))\n    );\n  }\n\n  private focusOnClose() {\n    if (!isPlatformBrowser(this.platformId)) {\n      return;\n    }\n    // we have to set the focus back on the trigger only if the focus is reset back to the body element\n    // if the focus is on another element, we are not allowed to move that focus back to this trigger again.\n    if (!this.isOpen && this.document.activeElement === this.document.body) {\n      this.signpostFocusManager.focusTrigger();\n    }\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach((sub: Subscription) => sub.unsubscribe());\n  }\n\n  /**********\n   *\n   * @description\n   * click handler for the ClrSignpost trigger button used to hide/show ClrSignpostContent.\n   */\n  @HostListener('click', ['$event'])\n  onSignpostTriggerClick(event: Event): void {\n    this.toggleService.toggleWithEvent(event);\n  }\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Component, ContentChild, ElementRef } from '@angular/core';\n\nimport { ClrPopoverToggleService } from '../../utils/popover/providers/popover-toggle.service';\nimport { POPOVER_HOST_ANCHOR } from '../common/popover-host-anchor.token';\n\nimport { ClrSignpostTrigger } from './signpost-trigger';\nimport { ClrCommonStringsService } from '../../utils/i18n/common-strings.service';\nimport { SignpostIdService } from './providers/signpost-id.service';\nimport { SignpostFocusManager } from './providers/signpost-focus-manager.service';\n\n@Component({\n  selector: 'clr-signpost',\n  template: `\n        <ng-container *ngIf=\"!useCustomTrigger\">\n            <button\n                type=\"button\"\n                class=\"signpost-action btn btn-small btn-link\"\n                clrSignpostTrigger>\n                <clr-icon shape=\"info\" [attr.title]=\"commonStrings.keys.info\"></clr-icon>\n            </button>\n        </ng-container>\n\n        <ng-content></ng-content>\n    `,\n  host: { '[class.signpost]': 'true' },\n  providers: [\n    ClrPopoverToggleService,\n    SignpostFocusManager,\n    { provide: POPOVER_HOST_ANCHOR, useExisting: ElementRef },\n    SignpostIdService,\n  ],\n})\n\n/*********\n *\n * @class ClrSignpost\n *\n * @description\n * Class used to configure and control the state of a ClrSignpost and its associated ClrSignpostContent.\n * It supports the clrPosition with a 'right-middle' default.\n *\n */\nexport class ClrSignpost {\n  constructor(public commonStrings: ClrCommonStringsService) {}\n\n  /**********\n   * @property useCustomTrigger\n   *\n   * @description\n   * Flag used to determine if we need to use the default trigger or a user supplied trigger element.\n   *\n   */\n  public useCustomTrigger: boolean = false;\n\n  /**********\n   * @property signPostTrigger\n   *\n   * @description\n   * Uses ContentChild to check for a user supplied element with the ClrSignpostTrigger on it.\n   *\n   */\n  @ContentChild(ClrSignpostTrigger)\n  set customTrigger(trigger: ClrSignpostTrigger) {\n    this.useCustomTrigger = !!trigger;\n  }\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { AfterViewInit, Component, EmbeddedViewRef, OnDestroy, TemplateRef, ViewChild } from '@angular/core';\n\nimport { DynamicWrapper } from '../../utils/host-wrapping/dynamic-wrapper';\n\n@Component({\n  selector: 'dg-wrapped-cell',\n  template: `\n        <ng-template #cellPortal>\n            <ng-content></ng-content>\n        </ng-template>\n    `,\n})\nexport class WrappedCell implements DynamicWrapper, AfterViewInit, OnDestroy {\n  _dynamic = false;\n  @ViewChild('cellPortal') templateRef: TemplateRef<void>;\n  cellView: EmbeddedViewRef<void>; // the cells projected view\n\n  ngAfterViewInit() {\n    this.cellView = this.templateRef.createEmbeddedView(null);\n  }\n\n  ngOnDestroy() {\n    this.cellView.destroy();\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Component, ContentChildren, Injector, OnInit, QueryList, ViewContainerRef } from '@angular/core';\n\nimport { ClrSignpost } from '../../popover/signpost/signpost';\nimport { HostWrapper } from '../../utils/host-wrapping/host-wrapper';\nimport { WrappedCell } from './wrapped-cell';\n\n@Component({\n  selector: 'clr-dg-cell',\n  template: `\n        <ng-content></ng-content>\n    `,\n  host: {\n    '[class.datagrid-cell]': 'true',\n    '[class.datagrid-signpost-trigger]': 'signpost.length > 0',\n    role: 'gridcell',\n  },\n})\nexport class ClrDatagridCell implements OnInit {\n  /*********\n   * @property signpost\n   *\n   * @description\n   * @ContentChild is used to detect the presence of a Signpost in the projected content.\n   * On the host, we set the .datagrid-signpost-trigger class on the cell when signpost.length is greater than 0.\n   *\n   */\n  @ContentChildren(ClrSignpost) signpost: QueryList<ClrSignpost>;\n\n  constructor(private vcr: ViewContainerRef) {}\n\n  private wrappedInjector: Injector;\n\n  ngOnInit() {\n    this.wrappedInjector = new HostWrapper(WrappedCell, this.vcr);\n  }\n\n  public get _view() {\n    return this.wrappedInjector.get(WrappedCell, this.vcr).cellView;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nexport enum DatagridDisplayMode {\n  DISPLAY,\n  CALCULATE,\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nexport enum DatagridRenderStep {\n  ALIGN_COLUMNS,\n  CALCULATE_MODE_ON,\n  CALCULATE_MODE_OFF,\n  CLEAR_WIDTHS, // Note this is listened to by both cells and columns\n  COMPUTE_COLUMN_WIDTHS,\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable } from '@angular/core';\nimport { Observable, Subject } from 'rxjs';\nimport { filter } from 'rxjs/operators';\n\nimport { DatagridRenderStep } from '../enums/render-step.enum';\n\n@Injectable()\nexport class DatagridRenderOrganizer {\n  protected _renderStep: Subject<DatagridRenderStep> = new Subject<DatagridRenderStep>();\n  public get renderStep(): Observable<DatagridRenderStep> {\n    return this._renderStep.asObservable();\n  }\n\n  public filterRenderSteps(step: DatagridRenderStep) {\n    return this.renderStep.pipe(filter(testStep => step === testStep));\n  }\n\n  private alreadySized = false;\n\n  public resize() {\n    this._renderStep.next(DatagridRenderStep.CALCULATE_MODE_ON);\n    if (this.alreadySized) {\n      this._renderStep.next(DatagridRenderStep.CLEAR_WIDTHS);\n    }\n    this._renderStep.next(DatagridRenderStep.COMPUTE_COLUMN_WIDTHS);\n    this._renderStep.next(DatagridRenderStep.ALIGN_COLUMNS);\n    this.alreadySized = true;\n    this._renderStep.next(DatagridRenderStep.CALCULATE_MODE_OFF);\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable, OnDestroy } from '@angular/core';\nimport { Observable, BehaviorSubject, Subscription } from 'rxjs';\n\nimport { DatagridDisplayMode } from '../enums/display-mode.enum';\nimport { DatagridRenderStep } from '../enums/render-step.enum';\nimport { DatagridRenderOrganizer } from '../render/render-organizer';\n\n@Injectable()\nexport class DisplayModeService implements OnDestroy {\n  private subscriptions: Subscription[] = [];\n  protected _view: BehaviorSubject<DatagridDisplayMode> = new BehaviorSubject<DatagridDisplayMode>(\n    DatagridDisplayMode.DISPLAY\n  );\n\n  constructor(renderOrganizer: DatagridRenderOrganizer) {\n    this.subscriptions.push(\n      renderOrganizer\n        .filterRenderSteps(DatagridRenderStep.CALCULATE_MODE_ON)\n        .subscribe(() => this._view.next(DatagridDisplayMode.CALCULATE))\n    );\n\n    this.subscriptions.push(\n      renderOrganizer\n        .filterRenderSteps(DatagridRenderStep.CALCULATE_MODE_OFF)\n        .subscribe(() => this._view.next(DatagridDisplayMode.DISPLAY))\n    );\n  }\n\n  public get view(): Observable<DatagridDisplayMode> {\n    return this._view.asObservable();\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nexport enum SelectionType {\n  None,\n  Single,\n  Multi,\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Injectable, TrackByFunction, NgZone } from '@angular/core';\nimport { Observable, Subject, Subscription } from 'rxjs';\n\nimport { FiltersProvider } from './filters';\nimport { Items } from './items';\nimport { SelectionType } from '../enums/selection-type';\nimport { debounceTime } from 'rxjs/operators';\n\nlet nbSelection: number = 0;\n\n@Injectable()\nexport class Selection<T = any> {\n  public id: string;\n  public preserveSelection: boolean = false;\n  private prevSelectionRefs: T[] = []; // Refs of selected items\n  private prevSingleSelectionRef: T; // Ref of single selected item\n  private lockedRefs: T[] = []; // Ref of locked items\n\n  constructor(private _items: Items<T>, private _filters: FiltersProvider<T>, private _zone: NgZone) {\n    this.id = 'clr-dg-selection' + nbSelection++;\n\n    this.subscriptions.push(\n      this._filters.change.subscribe(() => {\n        if (!this._selectable || this.preserveSelection) {\n          return;\n        }\n        this.clearSelection();\n      })\n    );\n\n    this.subscriptions.push(\n      this._items.allChanges.subscribe(updatedItems => {\n        // Reset the lockedRefs;\n        const updateLockedRef: T[] = [];\n\n        switch (this.selectionType) {\n          case SelectionType.None: {\n            break;\n          }\n\n          case SelectionType.Single: {\n            let newSingle: any;\n            const trackBy: TrackByFunction<T> = this._items.trackBy;\n            let selectionUpdated: boolean = false;\n\n            // if the currentSingle has been set before data was loaded, we look up and save the ref from current data set\n            if (this.currentSingle && !this.prevSingleSelectionRef) {\n              if (this._items.all && this._items.trackBy) {\n                const lookup = this._items.all.findIndex(maybe => maybe === this.currentSingle);\n                this.prevSingleSelectionRef = this._items.trackBy(lookup, this.currentSingle);\n              }\n            }\n\n            updatedItems.forEach((item, index) => {\n              const ref = trackBy(index, item);\n              // If one of the updated items is the previously selectedSingle, set it as the new one\n              if (this.prevSingleSelectionRef === ref) {\n                newSingle = item;\n                selectionUpdated = true;\n              }\n              if (this.lockedRefs.indexOf(ref) > -1) {\n                updateLockedRef.push(ref);\n              }\n            });\n\n            // If we're using smart datagrids, we expect all items to be present in the updatedItems array.\n            // Therefore, we should delete the currentSingle if it used to be defined but doesn't exist anymore.\n            // No explicit \"delete\" is required, since newSingle would be undefined at this point.\n            // Marking it as selectionUpdated here will set currentSingle to undefined below in the setTimeout.\n            if (this._items.smart && !newSingle) {\n              selectionUpdated = true;\n            }\n\n            // TODO: Discussed this with Eudes and this is fine for now.\n            // But we need to figure out a different pattern for the\n            // child triggering the parent change detection problem.\n            // Using setTimeout for now to fix this.\n            setTimeout(() => {\n              if (selectionUpdated) {\n                this.currentSingle = newSingle;\n              }\n            }, 0);\n            break;\n          }\n\n          case SelectionType.Multi: {\n            let leftOver: any[] = this.current.slice();\n            const trackBy: TrackByFunction<any> = this._items.trackBy;\n            let selectionUpdated: boolean = false;\n\n            // if the current has been set before data was loaded, we look up and save the ref from current data set\n            if (this.current.length > 0 && this.prevSelectionRefs.length !== this.current.length) {\n              if (this._items.all && this._items.trackBy) {\n                this.prevSelectionRefs = [];\n                this.current.forEach(item => {\n                  const lookup = this._items.all.findIndex(maybe => maybe === item);\n                  this.prevSelectionRefs.push(this._items.trackBy(lookup, item));\n                });\n              }\n            }\n\n            // Duplicate loop, when the issue is issue#2342 is revisited keep in mind that\n            // we need to go over every updated item and check to see if there are valid to be\n            // locked or not and update it. When only add items that are found in the lockedRefs back.\n            //\n            // The both loops below that goes over updatedItems could be combined into one.\n            updatedItems.forEach((item, index) => {\n              const ref = trackBy(index, item);\n              if (this.lockedRefs.indexOf(ref) > -1) {\n                updateLockedRef.push(ref);\n              }\n            });\n\n            // TODO: revisit this when we work on https://github.com/vmware/clarity/issues/2342\n            // currently, the selection is cleared when filter is applied, so the logic inside\n            // the if statement below results in broken behavior.\n            if (leftOver.length > 0) {\n              updatedItems.forEach((item, index) => {\n                const ref = trackBy(index, item);\n                // Look in current selected refs array if item is selected, and update actual value\n                const selectedIndex = this.prevSelectionRefs.indexOf(ref);\n                if (selectedIndex > -1) {\n                  leftOver[selectedIndex] = item;\n                  selectionUpdated = true;\n                }\n              });\n\n              // Filter out any unmatched items if we're using smart datagrids where we expect all items to be\n              // present\n              if (this._items.smart) {\n                leftOver = leftOver.filter(selected => updatedItems.indexOf(selected) > -1);\n                if (this.current.length !== leftOver.length) {\n                  selectionUpdated = true;\n                }\n              }\n\n              // TODO: Discussed this with Eudes and this is fine for now.\n              // But we need to figure out a different pattern for the\n              // child triggering the parent change detection problem.\n              // Using setTimeout for now to fix this.\n              setTimeout(() => {\n                if (selectionUpdated) {\n                  this.current = leftOver;\n                }\n              }, 0);\n            }\n            break;\n          }\n\n          default: {\n            break;\n          }\n        }\n        // Sync locked items\n        this.lockedRefs = updateLockedRef;\n      })\n    );\n\n    this.subscriptions.push(this._valueCollector.pipe(debounceTime(0)).subscribe(() => this.emitChange()));\n  }\n\n  public clearSelection(): void {\n    this._current = [];\n    this.prevSelectionRefs = [];\n    this._currentSingle = null;\n    this.prevSingleSelectionRef = null;\n    this.emitChange();\n  }\n\n  private _selectionType: SelectionType = SelectionType.None;\n  public get selectionType(): SelectionType {\n    return this._selectionType;\n  }\n  public set selectionType(value: SelectionType) {\n    if (value === this.selectionType) {\n      return;\n    }\n    this._selectionType = value;\n    if (value === SelectionType.None) {\n      delete this.current;\n    } else {\n      this.updateCurrent([], false);\n    }\n  }\n\n  /** @deprecated since 2.0, remove in 3.0 */\n  public rowSelectionMode: boolean = false;\n\n  private get _selectable(): boolean {\n    return this._selectionType === SelectionType.Multi || this._selectionType === SelectionType.Single;\n  }\n  /**\n   * Ignore items changes in the same change detection cycle.\n   */\n  // tslint:disable-next-line\n  private debounce: boolean = false;\n\n  /**\n   * Subscriptions to the other providers changes.\n   */\n  private subscriptions: Subscription[] = [];\n\n  /**\n   * Cleans up our subscriptions to other providers\n   */\n  public destroy() {\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n  }\n\n  /**\n   * The current selection in single selection type\n   */\n  private _currentSingle: T;\n  public get currentSingle(): T {\n    return this._currentSingle;\n  }\n  public set currentSingle(value: T) {\n    if (value === this._currentSingle) {\n      return;\n    }\n\n    this._currentSingle = value;\n    if (this._items.all && this._items.trackBy && value) {\n      const lookup = this._items.all.findIndex(maybe => maybe === value);\n      this.prevSingleSelectionRef = this._items.trackBy(lookup, value);\n    }\n    this.emitChange();\n    // This setTimeout makes sure that the change is\n    // not emitted multiple times in the same change\n    // detection cycle.\n    this._zone.runOutsideAngular(() => {\n      if (!this.debounce) {\n        this.debounce = true;\n        setTimeout(() => (this.debounce = false));\n      }\n    });\n  }\n\n  /**\n   * The current selection\n   */\n  private _current: T[];\n  public get current(): T[] {\n    return this._current;\n  }\n  public set current(value: T[]) {\n    this.updateCurrent(value, true);\n  }\n\n  private _valueCollector: Subject<T[]> = new Subject<T[]>();\n  public updateCurrent(value: T[], emit: boolean) {\n    this._current = value;\n    if (emit) {\n      this._valueCollector.next(value);\n    }\n  }\n\n  /**\n   * The Observable that lets other classes subscribe to selection changes\n   */\n  private _change = new Subject<T[] | T>();\n  private emitChange() {\n    if (this._selectionType === SelectionType.Single) {\n      this._change.next(this.currentSingle);\n    } else if (this._selectionType === SelectionType.Multi) {\n      this._change.next(this.current);\n    }\n  }\n  // We do not want to expose the Subject itself, but the Observable which is read-only\n  public get change(): Observable<T[] | T> {\n    return this._change.asObservable();\n  }\n\n  /**\n   * Checks if an item is currently selected\n   */\n  public isSelected(item: T): boolean {\n    if (this._selectionType === SelectionType.Single) {\n      return this.currentSingle === item;\n    } else if (this._selectionType === SelectionType.Multi) {\n      return this.current.indexOf(item) >= 0;\n    }\n    return false;\n  }\n\n  /**\n   * Selects an item\n   */\n  private selectItem(item: T): void {\n    this.current = this.current.concat(item);\n    if (this._items.trackBy && this._items.all) {\n      // Push selected ref onto array\n      const lookup = this._items.all.findIndex(maybe => maybe === item);\n      this.prevSelectionRefs.push(this._items.trackBy(lookup, item));\n    }\n  }\n\n  /**\n   * Deselects an item\n   */\n  private deselectItem(indexOfItem: number): void {\n    this.current = this.current.slice(0, indexOfItem).concat(this.current.slice(indexOfItem + 1));\n    if (this._items.trackBy && indexOfItem < this.prevSelectionRefs.length) {\n      // Keep selected refs array in sync\n      const removedItems = this.prevSelectionRefs.splice(indexOfItem, 1);\n      // locked reference is no longer needed (if any)\n      this.lockedRefs = this.lockedRefs.filter(locked => locked !== removedItems[0]);\n    }\n  }\n\n  /**\n   * Selects or deselects an item\n   */\n  public setSelected(item: T, selected: boolean) {\n    switch (this._selectionType) {\n      case SelectionType.None:\n        break;\n      case SelectionType.Single:\n        // in single selection, set currentSingle method should be used\n        break;\n      case SelectionType.Multi:\n        const index = this.current.indexOf(item);\n        if (index >= 0 && !selected) {\n          this.deselectItem(index);\n        } else if (index < 0 && selected) {\n          this.selectItem(item);\n        }\n        break;\n      default:\n        break;\n    }\n  }\n\n  /**\n   * Checks if all currently displayed items are selected\n   */\n  public isAllSelected(): boolean {\n    if (this._selectionType !== SelectionType.Multi || !this._items.displayed) {\n      return false;\n    }\n    // make sure to exclude the locked items from the list when counting\n    const displayedItems: T[] = this._items.displayed.filter(item => {\n      return this.isLocked(item) === false;\n    });\n\n    const nbDisplayed = displayedItems.length;\n    if (nbDisplayed < 1) {\n      return false;\n    }\n    const temp: T[] = displayedItems.filter(item => this.current.indexOf(item) > -1);\n    return temp.length === displayedItems.length;\n  }\n\n  /**\n   * Make sure that it could be locked\n   *\n   * @remark\n   * Check also is items.all an array, if not there is no nothing to lock or compare to\n   *\n   */\n  private canItBeLocked(): boolean {\n    // We depend on the trackBy and all so there are part of the requirment of is item could be locked\n    return this._selectionType !== SelectionType.None && Array.isArray(this._items.all);\n  }\n\n  /**\n   * Lock and unlock item\n   */\n  public lockItem(item: T, lock: boolean) {\n    if (this.canItBeLocked()) {\n      const ref = this._items.trackBy(this._items.all.findIndex(maybe => maybe === item), item);\n      if (lock === true) {\n        // Add to lockedRef\n        this.lockedRefs.push(ref);\n      } else {\n        // Remove from lockedRef\n        this.lockedRefs = this.lockedRefs.filter(lockedItem => ref !== lockedItem);\n      }\n    }\n  }\n\n  /**\n   * Check is item locked or not by searcing into lockedRefs for entry\n   */\n  public isLocked(item: T): boolean {\n    /**\n     * The check for selectionType will boost the performence by NOT searching\n     * into the array when there is no need for that.\n     */\n    if (this.canItBeLocked()) {\n      const ref = this._items.trackBy(this._items.all.findIndex(maybe => maybe === item), item);\n      return this.lockedRefs.indexOf(ref) > -1;\n    }\n\n    return false;\n  }\n\n  /**\n   * Selects or deselects all currently displayed items\n   */\n  public toggleAll() {\n    if (this._selectionType === SelectionType.None || this._selectionType === SelectionType.Single) {\n      return;\n    }\n    /**\n     * If every currently displayed item is already selected, we clear them.\n     * If at least one item isn't selected, we select every currently displayed item.\n     */\n    if (this.isAllSelected()) {\n      this._items.displayed.forEach(item => {\n        const currentIndex = this.current.indexOf(item);\n        if (currentIndex > -1 && this.isLocked(item) === false) {\n          this.deselectItem(currentIndex);\n        }\n      });\n    } else {\n      this._items.displayed.forEach(item => {\n        if (this.current.indexOf(item) < 0 && this.isLocked(item) === false) {\n          this.selectItem(item);\n        }\n      });\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { AfterViewInit, Component, EmbeddedViewRef, OnDestroy, TemplateRef, ViewChild } from '@angular/core';\n\nimport { DynamicWrapper } from '../../utils/host-wrapping/dynamic-wrapper';\n\n@Component({\n  selector: 'dg-wrapped-row',\n  template: `\n        <ng-template #rowPortal>\n            <ng-content></ng-content>\n        </ng-template>\n    `,\n})\nexport class WrappedRow implements DynamicWrapper, AfterViewInit, OnDestroy {\n  _dynamic = false;\n\n  @ViewChild('rowPortal') templateRef: TemplateRef<void>;\n  rowView: EmbeddedViewRef<void>; // the rows projected view (in memory)\n\n  ngAfterViewInit() {\n    // Create the cells view in memory, not the DOM.\n    this.rowView = this.templateRef.createEmbeddedView(null);\n  }\n\n  ngOnDestroy() {\n    this.rowView.destroy();\n  }\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable } from '@angular/core';\nimport { BehaviorSubject, Observable, Subject } from 'rxjs';\n\nimport { IfExpandService } from '../../utils/conditional/if-expanded.service';\nimport { ClrLoadingState } from '../../utils/loading/loading';\n\nlet nbRow = 0;\n\n@Injectable()\nexport class DatagridIfExpandService extends IfExpandService {\n  expandableId = '';\n\n  constructor() {\n    super();\n    nbRow++;\n    this.expandableId = 'clr-dg-expandable-row-' + nbRow;\n  }\n\n  // due to the es5 spec if the set is overridden on base class the getter must also be overridden\n  get expanded(): boolean {\n    return this._expanded;\n  }\n\n  set expanded(value: boolean) {\n    value = !!value;\n    if (value !== this._expanded) {\n      this._expanded = value;\n      this._animate.next();\n      this._expandChange.next(value);\n    }\n  }\n\n  loadingStateChange(state: ClrLoadingState) {\n    super.loadingStateChange(state);\n    if (state !== ClrLoadingState.LOADING) {\n      this._animate.next();\n    }\n  }\n\n  private _replace: BehaviorSubject<boolean> = new BehaviorSubject(false);\n  get replace(): Observable<boolean> {\n    return this._replace.asObservable();\n  }\n\n  setReplace(replaceValue: boolean) {\n    this._replace.next(replaceValue);\n  }\n\n  private _animate: Subject<boolean> = new Subject<boolean>();\n  get animate(): Observable<boolean> {\n    return this._animate.asObservable();\n  }\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport {\n  AfterContentInit,\n  AfterViewInit,\n  Component,\n  ContentChildren,\n  ElementRef,\n  EventEmitter,\n  Injector,\n  Input,\n  Output,\n  QueryList,\n  Renderer2,\n  ViewChild,\n  ViewContainerRef,\n} from '@angular/core';\nimport { combineLatest, Subscription } from 'rxjs';\n\nimport { IfExpandService } from '../../utils/conditional/if-expanded.service';\nimport { HostWrapper } from '../../utils/host-wrapping/host-wrapper';\nimport { LoadingListener } from '../../utils/loading/loading-listener';\n\nimport { ClrDatagridCell } from './datagrid-cell';\nimport { DatagridDisplayMode } from './enums/display-mode.enum';\nimport { DisplayModeService } from './providers/display-mode.service';\nimport { ExpandableRowsCount } from './providers/global-expandable-rows';\nimport { RowActionService } from './providers/row-action-service';\nimport { Selection } from './providers/selection';\nimport { WrappedRow } from './wrapped-row';\nimport { ClrCommonStringsService } from '../../utils/i18n/common-strings.service';\nimport { SelectionType } from './enums/selection-type';\nimport { DatagridIfExpandService } from './datagrid-if-expanded.service';\nimport { ClrExpandableAnimation } from '../../utils/animations/expandable-animation/expandable-animation';\nimport { DetailService } from './providers/detail.service';\n\nlet nbRow: number = 0;\n\n@Component({\n  selector: 'clr-dg-row',\n  templateUrl: './datagrid-row.html',\n  host: {\n    '[class.datagrid-row]': 'true',\n    '[class.datagrid-selected]': 'selected',\n    '[attr.aria-owns]': 'id',\n    role: 'rowgroup',\n  },\n  providers: [\n    DatagridIfExpandService,\n    { provide: IfExpandService, useExisting: DatagridIfExpandService },\n    { provide: LoadingListener, useExisting: DatagridIfExpandService },\n  ],\n})\nexport class ClrDatagridRow<T = any> implements AfterContentInit, AfterViewInit {\n  public id: string;\n  public radioId: string;\n  public checkboxId: string;\n  public expandableId: string;\n\n  /* reference to the enum so that template can access */\n  public SELECTION_TYPE = SelectionType;\n\n  @ViewChild(ClrExpandableAnimation) expandAnimation: ClrExpandableAnimation;\n\n  /**\n   * Model of the row, to use for selection\n   */\n  @Input('clrDgItem') item: T;\n\n  public replaced;\n\n  public expandAnimationTrigger: boolean = false;\n\n  constructor(\n    public selection: Selection<T>,\n    public rowActionService: RowActionService,\n    public globalExpandable: ExpandableRowsCount,\n    public expand: DatagridIfExpandService,\n    public detailService: DetailService,\n    private displayMode: DisplayModeService,\n    private vcr: ViewContainerRef,\n    private renderer: Renderer2,\n    private el: ElementRef,\n    public commonStrings: ClrCommonStringsService\n  ) {\n    nbRow++;\n    this.id = 'clr-dg-row' + nbRow;\n    this.radioId = 'clr-dg-row-rd' + nbRow;\n    this.checkboxId = 'clr-dg-row-cb' + nbRow;\n    this.expandableId = expand.expandableId;\n\n    this.subscriptions.push(\n      combineLatest(this.expand.replace, this.expand.expandChange).subscribe(\n        ([expandReplaceValue, expandChangeValue]) => {\n          if (expandReplaceValue && expandChangeValue) {\n            // replaced and expanding\n            this.replaced = true;\n            this.renderer.addClass(this.el.nativeElement, 'datagrid-row-replaced');\n          } else {\n            this.replaced = false;\n            // Handles these cases: not replaced and collapsing & replaced and\n            // collapsing and not replaced and expanding.\n            this.renderer.removeClass(this.el.nativeElement, 'datagrid-row-replaced');\n          }\n        }\n      )\n    );\n  }\n\n  private _selected = false;\n  /**\n   * Indicates if the row is selected\n   */\n  public get selected() {\n    if (this.selection.selectionType === SelectionType.None) {\n      return this._selected;\n    } else {\n      return this.selection.isSelected(this.item);\n    }\n  }\n\n  @Input('clrDgSelected')\n  public set selected(value: boolean) {\n    if (this.selection.selectionType === SelectionType.None) {\n      this._selected = value;\n    } else {\n      this.selection.setSelected(this.item, value);\n    }\n  }\n\n  // By default every item is selectable\n  @Input('clrDgSelectable')\n  public set clrDgSelectable(value: boolean) {\n    this.selection.lockItem(this.item, value === false);\n  }\n\n  public get clrDgSelectable() {\n    return !this.selection.isLocked(this.item);\n  }\n\n  @Output('clrDgSelectedChange') selectedChanged = new EventEmitter<boolean>(false);\n\n  public toggle(selected = !this.selected) {\n    if (selected !== this.selected) {\n      this.selected = selected;\n      this.selectedChanged.emit(selected);\n    }\n  }\n\n  public get expanded() {\n    return this.expand.expanded;\n  }\n\n  @Input('clrDgExpanded')\n  public set expanded(value: boolean) {\n    this.expand.expanded = value;\n  }\n\n  @Output('clrDgExpandedChange') expandedChange = new EventEmitter<boolean>(false);\n\n  public toggleExpand() {\n    if (this.expand.expandable) {\n      this.expandAnimation.updateStartHeight();\n      this.expanded = !this.expanded;\n      this.expandedChange.emit(this.expanded);\n    }\n  }\n\n  @ViewChild('detailButton') detailButton;\n\n  private _detailOpenLabel = '';\n  @Input()\n  set clrDgDetailOpenLabel(label: string) {\n    this._detailOpenLabel = label;\n  }\n  get clrDgDetailOpenLabel(): string {\n    return this._detailOpenLabel ? this._detailOpenLabel : this.commonStrings.keys.open;\n  }\n  private _detailCloseLabel = '';\n  @Input()\n  set clrDgDetailCloseLabel(label: string) {\n    this._detailCloseLabel = label;\n  }\n  get clrDgDetailCloseLabel(): string {\n    return this._detailCloseLabel ? this._detailCloseLabel : this.commonStrings.keys.close;\n  }\n\n  /*****\n   * property dgCells\n   *\n   * @description\n   * A Query List of the ClrDatagrid cells in this row.\n   *\n   */\n  @ContentChildren(ClrDatagridCell) dgCells: QueryList<ClrDatagridCell>;\n\n  ngAfterContentInit() {\n    this.dgCells.changes.subscribe(() => {\n      this.dgCells.forEach(cell => {\n        if (!cell._view.destroyed) {\n          this._scrollableCells.insert(cell._view);\n        }\n      });\n    });\n  }\n\n  ngAfterViewInit() {\n    this.subscriptions.push(\n      this.displayMode.view.subscribe(viewChange => {\n        // Listen for view changes and move cells around depending on the current displayType\n        // remove cell views from display view\n        for (let i = this._scrollableCells.length; i > 0; i--) {\n          this._scrollableCells.detach();\n        }\n        // remove cell views from calculated view\n        for (let i = this._calculatedCells.length; i > 0; i--) {\n          this._calculatedCells.detach();\n        }\n        if (viewChange === DatagridDisplayMode.CALCULATE) {\n          this.displayCells = false;\n          this.dgCells.forEach(cell => {\n            if (!cell._view.destroyed) {\n              this._calculatedCells.insert(cell._view);\n            }\n          });\n        } else {\n          this.displayCells = true;\n          this.dgCells.forEach(cell => {\n            if (!cell._view.destroyed) {\n              this._scrollableCells.insert(cell._view);\n            }\n          });\n        }\n      }),\n      this.expand.animate.subscribe(() => {\n        this.expandAnimationTrigger = !this.expandAnimationTrigger;\n      })\n    );\n  }\n\n  private subscriptions: Subscription[] = [];\n\n  ngOnDestroy() {\n    this.subscriptions.forEach((sub: Subscription) => sub.unsubscribe());\n  }\n\n  public displayCells = false;\n\n  @ViewChild('stickyCells', { read: ViewContainerRef })\n  _stickyCells: ViewContainerRef;\n  @ViewChild('scrollableCells', { read: ViewContainerRef })\n  _scrollableCells: ViewContainerRef;\n  @ViewChild('calculatedCells', { read: ViewContainerRef })\n  _calculatedCells: ViewContainerRef;\n\n  private wrappedInjector: Injector;\n\n  ngOnInit() {\n    this.wrappedInjector = new HostWrapper(WrappedRow, this.vcr);\n  }\n\n  public get _view() {\n    return this.wrappedInjector.get(WrappedRow, this.vcr).rowView;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nimport { DatagridPropertyComparator } from '../built-in/comparators/datagrid-property-comparator';\nimport { ClrDatagridStateInterface } from '../interfaces/state.interface';\n\nimport { FiltersProvider } from './filters';\nimport { Page } from './page';\nimport { Sort } from './sort';\nimport { StateDebouncer } from './state-debouncer.provider';\n\n/**\n * This provider aggregates state changes from the various providers of the Datagrid\n */\n@Injectable()\nexport class StateProvider<T> {\n  constructor(\n    private filters: FiltersProvider<T>,\n    private sort: Sort<T>,\n    private page: Page,\n    private debouncer: StateDebouncer\n  ) {}\n\n  /**\n   * The Observable that lets other classes subscribe to global state changes\n   */\n  change: Observable<ClrDatagridStateInterface<T>> = this.debouncer.change.pipe(map(() => this.state));\n\n  /*\n     * By making this a getter, we open the possibility for a setter in the future.\n     * It's been requested a couple times.\n     */\n  get state(): ClrDatagridStateInterface<T> {\n    const state: ClrDatagridStateInterface<T> = {};\n    if (this.page.size > 0) {\n      state.page = {\n        from: this.page.firstItem,\n        to: this.page.lastItem,\n        size: this.page.size,\n        current: this.page.current,\n      };\n    }\n    if (this.sort.comparator) {\n      if (this.sort.comparator instanceof DatagridPropertyComparator) {\n        /*\n                 * Special case for the default object property comparator,\n                 * we give the property name instead of the actual comparator.\n                 */\n        state.sort = { by: (<DatagridPropertyComparator<T>>this.sort.comparator).prop, reverse: this.sort.reverse };\n      } else {\n        state.sort = { by: this.sort.comparator, reverse: this.sort.reverse };\n      }\n    }\n\n    const activeFilters = this.filters.getActiveFilters();\n    if (activeFilters.length > 0) {\n      state.filters = [];\n      for (const filter of activeFilters) {\n        if (filter.state) {\n          state.filters.push(filter.state);\n        } else {\n          state.filters.push(filter);\n        }\n      }\n    }\n    return state;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { isPlatformBrowser } from '@angular/common';\nimport { ElementRef, Inject, Injectable, PLATFORM_ID } from '@angular/core';\n\n/**\n * @description\n * Internal datagrid service that holds a reference to the clr-dg-table element and exposes a method to get height.\n */\n@Injectable()\nexport class TableSizeService {\n  private _tableRef: HTMLElement;\n\n  public get tableRef(): HTMLElement {\n    return this._tableRef;\n  }\n\n  public set tableRef(element: HTMLElement) {\n    this._tableRef = element;\n  }\n\n  constructor(@Inject(PLATFORM_ID) private platformId: Object) {}\n  public set table(table: ElementRef) {\n    if (isPlatformBrowser(this.platformId) && table.nativeElement) {\n      this.tableRef = table.nativeElement.querySelector('.datagrid-table');\n    }\n  }\n\n  // Used when resizing columns to show the column border being dragged.\n  getColumnDragHeight(): string {\n    if (!this.tableRef) {\n      return;\n    }\n    return `${this.tableRef.clientHeight}px`;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nexport enum DatagridColumnChanges {\n  WIDTH,\n  HIDDEN,\n}\n\nexport const ALL_COLUMN_CHANGES: DatagridColumnChanges[] = Object.keys(DatagridColumnChanges)\n  .map(key => DatagridColumnChanges[key])\n  .filter(key => key === parseInt(key, 10)); // extracts only integer keys\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { ColumnStateDiff, ColumnState } from '../interfaces/column-state.interface';\nimport { ALL_COLUMN_CHANGES } from '../enums/column-changes.enum';\n\n@Injectable()\nexport class ColumnsService {\n  columns: BehaviorSubject<ColumnState>[] = [];\n  private _cache: ColumnState[] = [];\n\n  cache() {\n    this._cache = this.columns.map(subject => {\n      const value = { ...subject.value };\n      delete value.changes;\n      return value;\n    });\n  }\n\n  hasCache() {\n    return !!this._cache.length;\n  }\n\n  resetToLastCache() {\n    this._cache.forEach((state, index) => {\n      // Just emit the exact value from the cache\n      this.columns[index].next({ ...state, changes: ALL_COLUMN_CHANGES });\n    });\n    this._cache = [];\n  }\n\n  get columnStates(): ColumnState[] {\n    return this.columns.map(column => column.value);\n  }\n\n  get hasHideableColumns(): boolean {\n    return this.columnStates.filter(state => state.hideable).length > 0;\n  }\n\n  // Helper method to emit a change to a column only when there is an actual diff to process for that column\n  emitStateChangeAt(columnIndex: number, diff: ColumnStateDiff) {\n    if (!this.columns[columnIndex]) {\n      return;\n    }\n    this.emitStateChange(this.columns[columnIndex], diff);\n  }\n\n  emitStateChange(column: BehaviorSubject<ColumnState>, diff: ColumnStateDiff) {\n    column.next({ ...column.value, ...diff });\n  }\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport {\n  AfterContentInit,\n  AfterViewInit,\n  Component,\n  ContentChild,\n  ContentChildren,\n  ElementRef,\n  EventEmitter,\n  Inject,\n  Input,\n  OnDestroy,\n  Output,\n  QueryList,\n  Renderer2,\n  ViewChild,\n  ViewContainerRef,\n} from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { ClrDatagridColumn } from './datagrid-column';\nimport { ClrDatagridItems } from './datagrid-items';\nimport { ClrDatagridPlaceholder } from './datagrid-placeholder';\nimport { ClrDatagridRow } from './datagrid-row';\nimport { DatagridDisplayMode } from './enums/display-mode.enum';\nimport { ClrDatagridStateInterface } from './interfaces/state.interface';\nimport { DisplayModeService } from './providers/display-mode.service';\nimport { FiltersProvider } from './providers/filters';\nimport { ExpandableRowsCount } from './providers/global-expandable-rows';\nimport { Items } from './providers/items';\nimport { Page } from './providers/page';\nimport { RowActionService } from './providers/row-action-service';\nimport { Selection } from './providers/selection';\nimport { Sort } from './providers/sort';\nimport { StateDebouncer } from './providers/state-debouncer.provider';\nimport { StateProvider } from './providers/state.provider';\nimport { TableSizeService } from './providers/table-size.service';\nimport { DatagridRenderOrganizer } from './render/render-organizer';\nimport { ClrCommonStringsService } from '../../utils/i18n/common-strings.service';\nimport { SelectionType } from './enums/selection-type';\nimport { ColumnsService } from './providers/columns.service';\nimport { DetailService } from './providers/detail.service';\nimport { UNIQUE_ID, UNIQUE_ID_PROVIDER } from '../../utils/id-generator/id-generator.service';\n\n@Component({\n  selector: 'clr-datagrid',\n  templateUrl: './datagrid.html',\n  providers: [\n    Selection,\n    Sort,\n    FiltersProvider,\n    Page,\n    Items,\n    DatagridRenderOrganizer,\n    RowActionService,\n    ExpandableRowsCount,\n    StateDebouncer,\n    DetailService,\n    UNIQUE_ID_PROVIDER,\n    StateProvider,\n    TableSizeService,\n    ColumnsService,\n    DisplayModeService,\n  ],\n  host: {\n    '[class.datagrid-host]': 'true',\n    '[class.datagrid-detail-open]': 'detailService.isOpen',\n  },\n})\nexport class ClrDatagrid<T = any> implements AfterContentInit, AfterViewInit, OnDestroy {\n  constructor(\n    private organizer: DatagridRenderOrganizer,\n    public items: Items<T>,\n    public expandableRows: ExpandableRowsCount,\n    public selection: Selection<T>,\n    public rowActionService: RowActionService,\n    private stateProvider: StateProvider<T>,\n    private displayMode: DisplayModeService,\n    private renderer: Renderer2,\n    public detailService: DetailService,\n    @Inject(UNIQUE_ID) datagridId: string,\n    private el: ElementRef,\n    private page: Page,\n    public commonStrings: ClrCommonStringsService\n  ) {\n    this.detailService.id = datagridId;\n  }\n\n  /* reference to the enum so that template can access */\n  public SELECTION_TYPE = SelectionType;\n\n  /**\n   * Freezes the datagrid while data is loading\n   */\n  public get loading(): boolean {\n    return this.items.loading;\n  }\n\n  @Input('clrDgLoading')\n  public set loading(value: boolean) {\n    this.items.loading = value;\n  }\n\n  /**\n   * Output emitted whenever the data needs to be refreshed, based on user action or external ones\n   */\n  @Output('clrDgRefresh') public refresh = new EventEmitter<ClrDatagridStateInterface<T>>(false);\n\n  /**\n   * Public method to re-trigger the computation of displayed items manually\n   */\n  public dataChanged() {\n    this.items.refresh();\n  }\n\n  /**\n   * We grab the smart iterator from projected content\n   */\n  @ContentChild(ClrDatagridItems) public iterator: ClrDatagridItems<T>;\n\n  /**\n   * Array of all selected items\n   */\n  @Input('clrDgSelected')\n  set selected(value: T[]) {\n    if (value) {\n      this.selection.selectionType = SelectionType.Multi;\n    } else {\n      this.selection.selectionType = SelectionType.None;\n    }\n    this.selection.updateCurrent(value, false);\n  }\n\n  @Output('clrDgSelectedChange') selectedChanged = new EventEmitter<T[]>(false);\n\n  /**\n   * Selected item in single-select mode\n   */\n  @Input('clrDgSingleSelected')\n  set singleSelected(value: T) {\n    this.selection.selectionType = SelectionType.Single;\n    // the clrDgSingleSelected is updated in one of two cases:\n    // 1. an explicit value is passed\n    // 2. is being set to null or undefined, where previously it had a value\n    if (value) {\n      this.selection.currentSingle = value;\n    } else if (this.selection.currentSingle) {\n      this.selection.currentSingle = null;\n    }\n  }\n\n  @Output('clrDgSingleSelectedChange') singleSelectedChanged = new EventEmitter<T>(false);\n\n  @Input() clrDgSingleSelectionAriaLabel: string = this.commonStrings.keys.singleSelectionAriaLabel;\n  @Input() clrDgSingleActionableAriaLabel: string = this.commonStrings.keys.singleActionableAriaLabel;\n  @Input() clrDetailExpandableAriaLabel: string = this.commonStrings.keys.detailExpandableAriaLabel;\n  // Allows disabling of the auto focus on page/state changes (excludes focus management inside of popups)\n  @Input() clrDgDisablePageFocus = false;\n\n  @Input()\n  set clrDgPreserveSelection(state: boolean) {\n    this.selection.preserveSelection = state;\n  }\n  /**\n   * @deprecated since 2.0, remove in 3.0\n   *\n   * Selection/Deselection on row click mode\n   */\n  @Input('clrDgRowSelection')\n  set rowSelectionMode(value: boolean) {\n    this.selection.rowSelectionMode = value;\n  }\n\n  /**\n   * Indicates if all currently displayed items are selected\n   */\n  public get allSelected() {\n    return this.selection.isAllSelected();\n  }\n\n  /**\n   * Selects/deselects all currently displayed items\n   * @param value\n   */\n  public set allSelected(value: boolean) {\n    /**\n     * This is a setter but we ignore the value.\n     * It's strange, but it lets us have an indeterminate state where only\n     * some of the items are selected.\n     */\n    this.selection.toggleAll();\n  }\n\n  /**\n   * Custom placeholder detection\n   */\n  @ContentChild(ClrDatagridPlaceholder) public placeholder: ClrDatagridPlaceholder<T>;\n\n  /**\n   * Hideable Column data source / detection.\n   */\n  @ContentChildren(ClrDatagridColumn) public columns: QueryList<ClrDatagridColumn<T>>;\n\n  /**\n   * When the datagrid is user-managed without the smart iterator, we get the items displayed\n   * by querying the projected content. This is needed to keep track of the models currently\n   * displayed, typically for selection.\n   */\n\n  @ContentChildren(ClrDatagridRow) rows: QueryList<ClrDatagridRow<T>>;\n  @ViewChild('scrollableColumns', { read: ViewContainerRef })\n  scrollableColumns: ViewContainerRef;\n\n  @ViewChild('datagridTable', { read: ElementRef })\n  datagridTable: ElementRef;\n\n  ngAfterContentInit() {\n    if (!this.items.smart) {\n      this.items.all = this.rows.map((row: ClrDatagridRow<T>) => row.item);\n    }\n\n    this._subscriptions.push(\n      this.rows.changes.subscribe(() => {\n        if (!this.items.smart) {\n          this.items.all = this.rows.map((row: ClrDatagridRow<T>) => row.item);\n        }\n        // Remove any projected rows from the displayedRows container\n        // Necessary with Ivy off. See https://github.com/vmware/clarity/issues/4692\n        for (let i = this._displayedRows.length - 1; i >= 0; i--) {\n          if (this._displayedRows.get(i).destroyed) {\n            this._displayedRows.remove(i);\n          }\n        }\n        this.rows.forEach(row => {\n          this._displayedRows.insert(row._view);\n        });\n\n        // Try to update only when there is something cached and its open.\n        if (this.detailService.state && this.detailService.isOpen) {\n          const foundRow = this.rows.find((row, index) => {\n            return this.items.trackBy(index, row.item) === this.items.trackBy(index, this.detailService.state);\n          });\n\n          /**\n           * Reopen updated row or close it\n           */\n          foundRow ? this.detailService.open(foundRow.item, foundRow.detailButton) : this.detailService.close();\n        }\n      })\n    );\n  }\n\n  /**\n   * Our setup happens in the view of some of our components, so we wait for it to be done before starting\n   */\n  ngAfterViewInit() {\n    // TODO: determine if we can get rid of provider wiring in view init so that subscriptions can be done earlier\n    this.refresh.emit(this.stateProvider.state);\n    this._subscriptions.push(\n      this.stateProvider.change.subscribe(state => this.refresh.emit(state)),\n      this.selection.change.subscribe(s => {\n        if (this.selection.selectionType === SelectionType.Single) {\n          this.singleSelectedChanged.emit(<T>s);\n        } else if (this.selection.selectionType === SelectionType.Multi) {\n          this.selectedChanged.emit(<T[]>s);\n        }\n      }),\n      this.page.change.subscribe(() => {\n        if (!this.clrDgDisablePageFocus) {\n          this.datagridTable.nativeElement.focus();\n        }\n      }),\n      // A subscription that listens for displayMode changes on the datagrid\n      this.displayMode.view.subscribe(viewChange => {\n        // Remove any projected columns from the projectedDisplayColumns container\n        for (let i = this._projectedDisplayColumns.length; i > 0; i--) {\n          this._projectedDisplayColumns.detach();\n        }\n        // Remove any projected columns from the projectedCalculationColumns container\n        for (let i = this._projectedCalculationColumns.length; i > 0; i--) {\n          this._projectedCalculationColumns.detach();\n        }\n        // Remove any projected rows from the calculationRows container\n        for (let i = this._calculationRows.length; i > 0; i--) {\n          this._calculationRows.detach();\n        }\n        // Remove any projected rows from the displayedRows container\n        for (let i = this._displayedRows.length; i > 0; i--) {\n          this._displayedRows.detach();\n        }\n        if (viewChange === DatagridDisplayMode.DISPLAY) {\n          // Set state, style for the datagrid to DISPLAY and insert row & columns into containers\n          this.renderer.removeClass(this.el.nativeElement, 'datagrid-calculate-mode');\n          this.columns.forEach(column => {\n            this._projectedDisplayColumns.insert(column._view);\n          });\n          this.rows.forEach(row => {\n            this._displayedRows.insert(row._view);\n          });\n        } else {\n          // Set state, style for the datagrid to CALCULATE and insert row & columns into containers\n          this.renderer.addClass(this.el.nativeElement, 'datagrid-calculate-mode');\n          this.columns.forEach(column => {\n            this._projectedCalculationColumns.insert(column._view);\n          });\n          this.rows.forEach(row => {\n            this._calculationRows.insert(row._view);\n          });\n        }\n      })\n    );\n  }\n\n  /**\n   * Subscriptions to all the services and queries changes\n   */\n  private _subscriptions: Subscription[] = [];\n\n  ngOnDestroy() {\n    this._subscriptions.forEach((sub: Subscription) => sub.unsubscribe());\n  }\n\n  resize(): void {\n    this.organizer.resize();\n  }\n\n  @ViewChild('projectedDisplayColumns', { read: ViewContainerRef })\n  _projectedDisplayColumns: ViewContainerRef;\n  @ViewChild('projectedCalculationColumns', { read: ViewContainerRef })\n  _projectedCalculationColumns: ViewContainerRef;\n  @ViewChild('displayedRows', { read: ViewContainerRef })\n  _displayedRows: ViewContainerRef;\n  @ViewChild('calculationRows', { read: ViewContainerRef })\n  _calculationRows: ViewContainerRef;\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Component } from '@angular/core';\n\n@Component({\n  selector: 'clr-dg-action-bar',\n  template: `\n        <ng-content></ng-content>\n    `,\n  host: { '[class.datagrid-action-bar]': 'true' },\n})\nexport class ClrDatagridActionBar {}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Component, EventEmitter, Inject, Input, OnDestroy, Output, NgZone, PLATFORM_ID } from '@angular/core';\n\nimport { RowActionService } from './providers/row-action-service';\nimport { ClrCommonStringsService } from '../../utils/i18n/common-strings.service';\nimport { isPlatformBrowser } from '@angular/common';\nimport { UNIQUE_ID, UNIQUE_ID_PROVIDER } from '../../utils/id-generator/id-generator.service';\nimport { ClrPopoverPosition } from '../../utils/popover/interfaces/popover-position.interface';\nimport { ClrAlignment } from '../../utils/popover/enums/alignment.enum';\nimport { ClrSide } from '../../utils/popover/enums/side.enum';\nimport { ClrAxis } from '../../utils/popover/enums/axis.enum';\nimport { ClrPopoverToggleService } from '../../utils/popover/providers/popover-toggle.service';\nimport { ClrPopoverEventsService } from '../../utils/popover/providers/popover-events.service';\nimport { ClrPopoverPositionService } from '../../utils/popover/providers/popover-position.service';\nimport { Subscription } from 'rxjs';\n\nlet clrDgActionId = 0;\n\n@Component({\n  selector: 'clr-dg-action-overflow',\n  providers: [UNIQUE_ID_PROVIDER, ClrPopoverToggleService, ClrPopoverEventsService, ClrPopoverPositionService],\n  template: `\n      <button class=\"datagrid-action-toggle\"\n              type=\"button\"\n              role=\"button\"\n              aria-haspopup=\"true\"\n              #anchor\n              [attr.aria-controls]=\"popoverId\"\n              [attr.aria-expanded]=\"open\"\n              [attr.aria-label]=\"commonStrings.keys.rowActions\"\n              clrPopoverAnchor\n              clrPopoverOpenCloseButton>\n          <clr-icon shape=\"ellipsis-vertical\" [attr.title]=\"commonStrings.keys.rowActions\"></clr-icon>\n      </button>\n\n      <div class=\"datagrid-action-overflow\"\n           role=\"menu\"\n           [id]=\"popoverId\"\n           [attr.aria-hidden]=\"!open\"\n           [attr.id]=\"popoverId\"\n           clrFocusTrap\n           (click)=\"closeOverflowContent($event)\"\n           *clrPopoverContent=\"open at smartPosition; outsideClickToClose: true; scrollToClose: true\">\n          <ng-content></ng-content>\n      </div>\n  `,\n})\nexport class ClrDatagridActionOverflow implements OnDestroy {\n  private subscriptions: Subscription[] = [];\n  public smartPosition: ClrPopoverPosition = {\n    axis: ClrAxis.HORIZONTAL,\n    side: ClrSide.AFTER,\n    anchor: ClrAlignment.CENTER,\n    content: ClrAlignment.CENTER,\n  };\n\n  constructor(\n    private rowActionService: RowActionService,\n    public commonStrings: ClrCommonStringsService,\n    @Inject(PLATFORM_ID) private platformId: Object,\n    private zone: NgZone,\n    private smartToggleService: ClrPopoverToggleService,\n    @Inject(UNIQUE_ID) public popoverId: string\n  ) {\n    this.rowActionService.register();\n    this.subscriptions.push(\n      this.smartToggleService.openChange.subscribe(openState => {\n        this.open = openState;\n        if (openState) {\n          this.focusFirstButton();\n        }\n      })\n    );\n    this.popoverId = 'clr-action-menu' + clrDgActionId++;\n  }\n\n  ngOnDestroy() {\n    this.rowActionService.unregister();\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n  }\n\n  closeOverflowContent(event): void {\n    this.smartToggleService.toggleWithEvent(event);\n  }\n\n  private _open: boolean = false;\n  public get open() {\n    return this._open;\n  }\n\n  private focusFirstButton(): void {\n    if (isPlatformBrowser(this.platformId)) {\n      this.zone.runOutsideAngular(() => {\n        setTimeout(() => {\n          const firstButton: HTMLButtonElement = document.querySelector('button.action-item');\n          if (firstButton) {\n            firstButton.focus();\n          }\n        });\n      });\n    }\n  }\n\n  @Input('clrDgActionOverflowOpen')\n  public set open(open: boolean) {\n    const openState = !!open;\n    if (!!openState !== this.open) {\n      // prevents chocolate mess\n      this.smartToggleService.open = openState;\n      this.openChange.emit(openState);\n      this._open = openState;\n    }\n  }\n\n  @Output('clrDgActionOverflowOpenChange') public openChange = new EventEmitter<boolean>(false);\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { ElementRef, Injectable } from '@angular/core';\n\nimport { DomAdapter } from '../../../utils/dom-adapter/dom-adapter';\nimport { ClrDragEvent } from '../../../utils/drag-and-drop/drag-event';\nimport { DatagridRenderOrganizer } from '../render/render-organizer';\n\nconst MIN_COLUMN_WIDTH = 96;\n\n// This service allows DatagridHeaderRenderer and ClrDatagridColumnSeparator\n// to share column resize data with each other.\n\n@Injectable()\nexport class ColumnResizerService {\n  constructor(private el: ElementRef, private domAdapter: DomAdapter, private organizer: DatagridRenderOrganizer) {}\n\n  private widthBeforeResize: number;\n\n  private _resizedBy: number = 0;\n\n  public get resizedBy() {\n    return this._resizedBy;\n  }\n\n  // is it within the maximum resize range to the left\n  public isWithinMaxResizeRange: boolean;\n\n  public get minColumnWidth() {\n    return this.domAdapter.minWidth(this.el.nativeElement) || MIN_COLUMN_WIDTH;\n  }\n\n  public get maxResizeRange() {\n    return this.widthBeforeResize - this.minColumnWidth;\n  }\n\n  public startResize(): void {\n    this._resizedBy = 0;\n    this.isWithinMaxResizeRange = true;\n    this.widthBeforeResize = this.domAdapter.clientRect(this.el.nativeElement).width;\n  }\n\n  public endResize(): void {\n    this.organizer.resize();\n  }\n\n  public get widthAfterResize(): number {\n    return this.widthBeforeResize + this._resizedBy;\n  }\n\n  public calculateResize(event: ClrDragEvent<any>): void {\n    const moveX = event.dragPosition.moveX;\n    // returns the resize amount within the allowed range\n    if (moveX < -this.maxResizeRange) {\n      this._resizedBy = -this.maxResizeRange;\n      this.isWithinMaxResizeRange = false;\n    } else {\n      this._resizedBy = moveX;\n      this.isWithinMaxResizeRange = true;\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { DOCUMENT } from '@angular/common';\nimport { Component, Inject, Renderer2 } from '@angular/core';\n\nimport { ClrDragEvent } from '../../utils/drag-and-drop/drag-event';\nimport { ColumnResizerService } from './providers/column-resizer.service';\nimport { TableSizeService } from './providers/table-size.service';\nimport { UNIQUE_ID_PROVIDER, UNIQUE_ID } from '../../utils/id-generator/id-generator.service';\n\n@Component({\n  selector: 'clr-dg-column-separator',\n  template: `\n    <div class=\"datagrid-column-handle\" aria-hidden=\"true\"\n      clrDraggable \n      [clrGroup]=\"columnSeparatorId\" \n      (clrDragStart)=\"showTracker(resizeTrackerEl)\" \n      (clrDragMove)=\"moveTracker($event, resizeTrackerEl)\" \n      (clrDragEnd)=\"hideTracker(resizeTrackerEl)\"></div>\n    <div class=\"datagrid-column-resize-tracker\" #resizeTrackerEl></div>\n    `,\n  host: {\n    '[class.datagrid-column-separator]': 'true',\n  },\n  providers: [UNIQUE_ID_PROVIDER],\n})\nexport class ClrDatagridColumnSeparator {\n  // Every column draggable separator should have its own unique ID\n  // in order to not conflict with other draggables/droppables.\n  constructor(\n    private columnResizerService: ColumnResizerService,\n    private renderer: Renderer2,\n    private tableSizeService: TableSizeService,\n    @Inject(DOCUMENT) private document: any,\n    @Inject(UNIQUE_ID) public columnSeparatorId: string\n  ) {}\n\n  public showTracker(resizeTrackerEl: HTMLElement) {\n    this.columnResizerService.startResize();\n    const tableHeight = this.tableSizeService.getColumnDragHeight();\n    this.renderer.setStyle(resizeTrackerEl, 'height', tableHeight);\n    this.renderer.setStyle(resizeTrackerEl, 'display', 'block');\n  }\n\n  public moveTracker(event: ClrDragEvent<any>, resizeTrackerEl: HTMLElement) {\n    this.columnResizerService.calculateResize(event);\n    this.renderer.setStyle(resizeTrackerEl, 'transform', `translateX(${this.columnResizerService.resizedBy}px)`);\n    this.renderer.setStyle(this.document.body, 'cursor', 'col-resize');\n    this.redFlagTracker(resizeTrackerEl);\n  }\n\n  public hideTracker(resizeTrackerEl: HTMLElement) {\n    this.columnResizerService.endResize();\n    this.renderer.setStyle(resizeTrackerEl, 'display', 'none');\n    this.renderer.setStyle(resizeTrackerEl, 'transform', `translateX(0px)`);\n    this.renderer.setStyle(this.document.body, 'cursor', 'auto');\n  }\n\n  private redFlagTracker(resizeTrackerEl: HTMLElement) {\n    let isWithinMaxResizeRange: boolean;\n    // @TODO(JEREMY) Review this, it will always be true because above is always null\n    if (isWithinMaxResizeRange !== this.columnResizerService.isWithinMaxResizeRange) {\n      isWithinMaxResizeRange = this.columnResizerService.isWithinMaxResizeRange;\n      if (!isWithinMaxResizeRange) {\n        this.renderer.addClass(resizeTrackerEl, 'exceeded-max');\n      } else {\n        this.renderer.removeClass(resizeTrackerEl, 'exceeded-max');\n      }\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Component } from '@angular/core';\n\n@Component({\n  selector: 'clr-dg-column-toggle-title',\n  template: `<ng-content></ng-content>`,\n})\n/** @deprecated since 2.0, remove in 3.0 */\nexport class ClrDatagridColumnToggleTitle {}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Component, EventEmitter, Output } from '@angular/core';\nimport { ColumnsService } from './providers/columns.service';\nimport { ColumnState } from './interfaces/column-state.interface';\nimport { BehaviorSubject, Observable, Subject } from 'rxjs';\nimport { DatagridColumnChanges } from './enums/column-changes.enum';\n\n@Component({\n  selector: 'clr-dg-column-toggle-button',\n  template: `\n    <button class=\"btn btn-sm btn-link switch-button\"\n            (click)=\"selectAll()\"\n            [disabled]=\"allHideablesVisible\"\n            type=\"button\">\n      <ng-content></ng-content>\n    </button>\n  `,\n})\n/** @deprecated since 2.0, remove in 3.0 */\nexport class ClrDatagridColumnToggleButton {\n  constructor(private columnsService: ColumnsService) {}\n\n  private allSelected: Subject<boolean> = new EventEmitter();\n\n  @Output('clrAllSelected')\n  get clrAllSelected(): Observable<boolean> {\n    return this.allSelected.asObservable();\n  }\n\n  private hideableColumns(): BehaviorSubject<ColumnState>[] {\n    return this.columnsService.columns.filter(column => column.value.hideable);\n  }\n\n  get allHideablesVisible() {\n    return this.hideableColumns().filter(column => column.value.hidden).length === 0;\n  }\n\n  selectAll() {\n    this.hideableColumns().forEach(hideableColumn =>\n      this.columnsService.emitStateChange(hideableColumn, {\n        hidden: false,\n        changes: [DatagridColumnChanges.HIDDEN],\n      })\n    );\n    this.allSelected.next(true);\n  }\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Component, Inject, ContentChild, ElementRef, NgZone, PLATFORM_ID, ViewChild } from '@angular/core';\n\nimport { UNIQUE_ID, UNIQUE_ID_PROVIDER } from '../../utils/id-generator/id-generator.service';\nimport { ClrPopoverPosition } from '../../utils/popover/interfaces/popover-position.interface';\nimport { ClrAxis } from '../../utils/popover/enums/axis.enum';\nimport { ClrAlignment } from '../../utils/popover/enums/alignment.enum';\nimport { ClrSide } from '../../utils/popover/enums/side.enum';\nimport { ClrPopoverEventsService } from '../../utils/popover/providers/popover-events.service';\nimport { ClrPopoverPositionService } from '../../utils/popover/providers/popover-position.service';\nimport { ClrPopoverToggleService } from '../../utils/popover/providers/popover-toggle.service';\nimport { ClrCommonStringsService } from '../../utils/i18n/common-strings.service';\nimport { ColumnsService } from './providers/columns.service';\nimport { ColumnState } from './interfaces/column-state.interface';\nimport { DatagridColumnChanges } from './enums/column-changes.enum';\nimport { isPlatformBrowser } from '@angular/common';\nimport { ClrDatagridColumnToggleTitle } from './datagrid-column-toggle-title';\nimport { ClrDatagridColumnToggleButton } from './datagrid-column-toggle-button';\n\n@Component({\n  selector: 'clr-dg-column-toggle',\n  template: `    \n      <button\n              role=\"button\"\n              type=\"button\"\n              class=\"btn btn-sm btn-link column-toggle--action\"\n              clrPopoverAnchor\n              clrPopoverOpenCloseButton\n              [attr.aria-controls]=\"popoverId\"\n              [attr.aria-owns]=\"popoverId\">\n          <clr-icon shape=\"view-columns\" [attr.title]=\"commonStrings.keys.pickColumns\"></clr-icon>\n      </button>\n      <div class=\"column-switch\"\n           role=\"dialog\"\n           [id]=\"popoverId\"\n           clrFocusTrap\n           *clrPopoverContent=\"openState at smartPosition; outsideClickToClose: true; scrollToClose: true\">\n          <div class=\"switch-header\">\n              <div class=\"clr-sr-only\" tabindex=\"-1\" #menuDescription>{{commonStrings.keys.showColumnsMenuDescription}}</div>\n              <div class=\"clr-sr-only\" tabindex=\"-1\" #allSelected>{{commonStrings.keys.allColumnsSelected}}</div>\n              <ng-container *ngIf=\"!customToggleTitle\">{{commonStrings.keys.showColumns}}</ng-container>\n              <ng-content select=\"clr-dg-column-toggle-title\"></ng-content>\n              <button class=\"btn btn-sm btn-link toggle-switch-close-button\"\n                      clrPopoverCloseButton\n                      type=\"button\"\n                      [attr.aria-label]=\"commonStrings.keys.close\">\n                  <clr-icon shape=\"close\" \n                            [attr.title]=\"commonStrings.keys.close\"></clr-icon>\n              </button>\n          </div>\n          <ul class=\"switch-content list-unstyled\">\n              <li *ngFor=\"let columnState of hideableColumnStates;trackBy: trackByFn\">\n                  <clr-checkbox-wrapper>\n                      <input clrCheckbox type=\"checkbox\"\n                             [disabled]=\"hasOnlyOneVisibleColumn && !columnState.hidden\"\n                             [ngModel]=\"!columnState.hidden\"\n                             (ngModelChange)=\"toggleColumnState(columnState, !$event)\">\n                      <label>\n                          <ng-template [ngTemplateOutlet]=\"columnState.titleTemplateRef\"></ng-template>\n                      </label>\n                  </clr-checkbox-wrapper>\n              </li>\n          </ul>\n          <div class=\"switch-footer\">\n              <ng-content select=\"clr-dg-column-toggle-button\"></ng-content>\n              <clr-dg-column-toggle-button *ngIf=\"!customToggleButton\" (clrAllSelected)=\"allColumnsSelected()\">\n                  {{commonStrings.keys.selectAll}}\n              </clr-dg-column-toggle-button>\n          </div>\n      </div>\n  `,\n  host: { '[class.column-switch-wrapper]': 'true', '[class.active]': 'openState' },\n  providers: [UNIQUE_ID_PROVIDER, ClrPopoverEventsService, ClrPopoverPositionService, ClrPopoverToggleService],\n})\n/** @deprecated since 2.0, remove in 3.0 */\nexport class ClrDatagridColumnToggle {\n  private _allColumnsVisible: boolean;\n\n  // Smart Popover\n  public smartPosition: ClrPopoverPosition = {\n    axis: ClrAxis.VERTICAL,\n    side: ClrSide.BEFORE,\n    anchor: ClrAlignment.START,\n    content: ClrAlignment.START,\n  };\n  public openState;\n\n  @ContentChild(ClrDatagridColumnToggleTitle) customToggleTitle: ClrDatagridColumnToggleTitle;\n  @ContentChild(ClrDatagridColumnToggleButton) customToggleButton: ClrDatagridColumnToggleButton;\n  @ViewChild('menuDescription', { read: ElementRef })\n  private menuDescriptionElement: ElementRef<HTMLElement>;\n  @ViewChild('allSelected', { read: ElementRef })\n  private allSelectedElement: ElementRef<HTMLElement>;\n\n  public get allColumnsVisible(): boolean {\n    return this._allColumnsVisible;\n  }\n\n  public set allColumnsVisible(value: boolean) {\n    this._allColumnsVisible = value;\n  }\n\n  constructor(\n    public commonStrings: ClrCommonStringsService,\n    private columnsService: ColumnsService,\n    @Inject(UNIQUE_ID) public columnSwitchId: string,\n    @Inject(PLATFORM_ID) private platformId: Object,\n    private zone: NgZone,\n    @Inject(UNIQUE_ID) public popoverId: string\n  ) {}\n\n  get hideableColumnStates(): ColumnState[] {\n    const hideables = this.columnsService.columns.filter(column => column.value.hideable);\n    return hideables.map(column => column.value);\n  }\n\n  get hasOnlyOneVisibleColumn(): boolean {\n    const nbNonHideableColumns = this.columnsService.columns.length - this.hideableColumnStates.length;\n    // this should only return true when there is no non-hideable columns.\n    return (\n      nbNonHideableColumns === 0 && this.hideableColumnStates.filter(columnState => !columnState.hidden).length === 1\n    );\n  }\n\n  toggleColumnState(columnState: ColumnState, event: boolean) {\n    const columnToToggle = this.columnsService.columns.filter(column => column.value === columnState)[0];\n    this.columnsService.emitStateChange(columnToToggle, {\n      hidden: event,\n      changes: [DatagridColumnChanges.HIDDEN],\n    });\n  }\n\n  toggleSwitchPanel() {\n    this.openState = !this.openState;\n    if (this.openState && isPlatformBrowser(this.platformId) && this.menuDescriptionElement) {\n      this.zone.runOutsideAngular(() => {\n        setTimeout(() => {\n          this.menuDescriptionElement.nativeElement.focus();\n        });\n      });\n    }\n  }\n\n  allColumnsSelected() {\n    this.allSelectedElement.nativeElement.focus();\n  }\n\n  // Without tracking the checkboxes get rerendered on model update, which leads\n  // to loss of focus after checkbox toggle.\n  trackByFn(index) {\n    return index;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Directive, Optional } from '@angular/core';\nimport { ExpandableRowsCount } from './providers/global-expandable-rows';\n\n/*\n * I don't think this deserves to be in IfExpanded itself,\n * so I'm adding a second directive on the same selector for now just for the datagrid\n */\n@Directive({ selector: '[clrIfExpanded]' })\nexport class DatagridDetailRegisterer {\n  constructor(@Optional() private expandableRowsCount: ExpandableRowsCount) {\n    if (this.expandableRowsCount) {\n      this.expandableRowsCount.register();\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.expandableRowsCount) {\n      this.expandableRowsCount.unregister();\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Component } from '@angular/core';\nimport { DetailService } from './providers/detail.service';\nimport { ClrCommonStringsService } from '../../utils/i18n/common-strings.service';\n\n@Component({\n  selector: 'clr-dg-detail-header',\n  host: {\n    '[class.datagrid-detail-header]': 'true',\n  },\n  template: `\n    <div class=\"datagrid-detail-header-title\" clrFocusOnViewInit [id]=\"titleId\">\n      <ng-content></ng-content>\n    </div>\n    <div class=\"datagrid-detail-pane-close\">\n      <button type=\"button\" \n              class=\"btn btn-link\" \n              (click)=\"detailService.close()\" \n              [attr.aria-label]=\"commonStrings.keys.close\">\n        <clr-icon size=\"24\" shape=\"times\"></clr-icon>\n      </button>\n    </div>\n  `,\n})\nexport class ClrDatagridDetailHeader {\n  get titleId() {\n    return `${this.detailService.id}-title`;\n  }\n\n  constructor(public detailService: DetailService, public commonStrings: ClrCommonStringsService) {}\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Component, ContentChild, HostListener } from '@angular/core';\nimport { DetailService } from './providers/detail.service';\nimport { ClrCommonStringsService } from '../../utils/i18n/common-strings.service';\nimport { ClrDatagridDetailHeader } from './datagrid-detail-header';\n\n@Component({\n  selector: 'clr-dg-detail',\n  host: {\n    '[class.datagrid-detail-pane]': 'true',\n  },\n  // We put the *ngIf on the clrFocusTrap so it doesn't always exist on the page\n  // have to test for presence of header for aria-describedby because it was causing unit tests to crash\n  template: `\n    <div [clrFocusTrap]=\"{strict: false}\" class=\"datagrid-detail-pane-content\" *ngIf=\"detailService.isOpen\" role=\"dialog\"\n         [id]=\"detailService.id\" aria-modal=\"true\" [attr.aria-describedby]=\"header ? header.titleId : ''\">\n    <div class=\"clr-sr-only\">{{commonStrings.keys.detailPaneStart}}</div>\n      <ng-content></ng-content>\n      <div class=\"clr-sr-only\">{{commonStrings.keys.detailPaneEnd}}</div>\n    </div>\n    `,\n})\nexport class ClrDatagridDetail {\n  @ContentChild(ClrDatagridDetailHeader) public header: ClrDatagridDetailHeader;\n\n  constructor(public detailService: DetailService, public commonStrings: ClrCommonStringsService) {}\n\n  @HostListener('document:keyup.esc')\n  closeCheck(): void {\n    this.detailService.close();\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport {\n  Directive,\n  EventEmitter,\n  Input,\n  OnDestroy,\n  OnInit,\n  Output,\n  TemplateRef,\n  ViewContainerRef,\n} from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { DetailService } from './providers/detail.service';\n\n@Directive({\n  selector: '[clrIfDetail]',\n})\nexport class ClrIfDetail implements OnInit, OnDestroy {\n  private subscriptions: Subscription[] = [];\n  private skip = false; // This keeps us from resetting the input and calling the toggle twice\n\n  @Input('clrIfDetail')\n  set state(model) {\n    if (!this.skip) {\n      this.detailService.toggle(model);\n    }\n    this.skip = false;\n  }\n\n  @Output('clrIfDetailChange') public stateChange = new EventEmitter<any>(null);\n\n  constructor(\n    private templateRef: TemplateRef<any>,\n    private viewContainer: ViewContainerRef,\n    private detailService: DetailService\n  ) {\n    this.detailService.enabled = true;\n  }\n\n  ngOnInit() {\n    this.subscriptions.push(\n      this.detailService.stateChange.subscribe(state => {\n        if (state === true) {\n          this.togglePanel(true);\n        } else {\n          this.togglePanel(false);\n        }\n      })\n    );\n  }\n\n  private togglePanel(showPanel: boolean) {\n    let stateChangeParams = null;\n    this.viewContainer.clear();\n    if (showPanel === true) {\n      this.viewContainer.createEmbeddedView(this.templateRef, { $implicit: this.detailService.state });\n      this.skip = true;\n      stateChangeParams = this.detailService.state;\n    }\n\n    this.stateChange.emit(stateChangeParams);\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Component } from '@angular/core';\n\n@Component({\n  selector: 'clr-dg-detail-body',\n  template: `\n    <div class=\"clr-dg-detail-body-wrapper\">\n      <ng-content></ng-content>\n    </div>\n  `,\n  host: {\n    '[class.datagrid-detail-body]': 'true',\n  },\n})\nexport class ClrDatagridDetailBody {}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Component, ContentChild } from '@angular/core';\n\nimport { ClrDatagridColumnToggle } from './datagrid-column-toggle';\nimport { Selection } from './providers/selection';\nimport { SelectionType } from './enums/selection-type';\nimport { ColumnsService } from './providers/columns.service';\nimport { DetailService } from './providers/detail.service';\n\n@Component({\n  selector: 'clr-dg-footer',\n  template: `\n        <ng-container\n            *ngIf=\"(selection.selectionType === SELECTION_TYPE.Multi) && (selection.current.length > 0)\">\n          <div class=\"clr-form-control-disabled\">\n              <clr-checkbox-wrapper class=\"datagrid-footer-select\">\n                <input clrCheckbox type=\"checkbox\" checked=\"checked\" disabled>\n                <label>{{selection.current.length}}</label>\n            </clr-checkbox-wrapper>\n          </div>\n        </ng-container>\n        <ng-container *ngIf=\"!detailService.isOpen\">\n          <ng-content select=\"clr-dg-column-toggle\"></ng-content>\n          <clr-dg-column-toggle *ngIf=\"hasHideableColumns && !toggle\"></clr-dg-column-toggle>\n          <div class=\"datagrid-footer-description\">\n              <ng-content></ng-content>\n          </div>\n        </ng-container>\n        <ng-content select=\"clr-dg-pagination\"></ng-content>\n    `,\n  host: {\n    '[class.datagrid-footer]': 'true',\n  },\n})\nexport class ClrDatagridFooter<T = any> {\n  constructor(\n    public selection: Selection<T>,\n    public detailService: DetailService,\n    private columnsService: ColumnsService\n  ) {}\n\n  /* reference to the enum so that template can access */\n  public SELECTION_TYPE = SelectionType;\n\n  @ContentChild(ClrDatagridColumnToggle) toggle: ClrDatagridColumnToggle;\n\n  get hasHideableColumns(): boolean {\n    return this.columnsService.hasHideableColumns;\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { InjectionToken } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { ColumnState } from '../interfaces/column-state.interface';\n\nexport const COLUMN_STATE = new InjectionToken<ColumnState>('COLUMN_STATE');\n\nexport function columnStateFactory() {\n  return new BehaviorSubject<ColumnState>({\n    changes: [],\n  });\n}\n\nexport const COLUMN_STATE_PROVIDER = {\n  provide: COLUMN_STATE,\n  useFactory: columnStateFactory,\n};\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport {\n  Directive,\n  EventEmitter,\n  Inject,\n  Input,\n  OnDestroy,\n  Optional,\n  Output,\n  TemplateRef,\n  ViewContainerRef,\n} from '@angular/core';\n\nimport { BehaviorSubject, Subscription } from 'rxjs';\nimport { ColumnsService } from './providers/columns.service';\nimport { ColumnState } from './interfaces/column-state.interface';\nimport { DatagridColumnChanges } from './enums/column-changes.enum';\nimport { COLUMN_STATE } from './providers/column-state.provider';\n\n@Directive({ selector: '[clrDgHideableColumn]' })\n\n/**\n *\n * @description\n * A structural directive meant to be used inside a clr-dg-column component.\n *\n * <clr-dg-column>\n *       <ng-container *clrDgHideableColumn=\"{ hidden: true }\">\n *           User ID\n *       </ng-container>\n *   </clr-dg-column>\n *\n * It sets up state and properties so that columns can be manges for hide/show by a service and an internal\n * datagrid toggle component.\n *\n */\nexport class ClrDatagridHideableColumn implements OnDestroy {\n  /**\n   *\n   * @description\n   * Used to initialize the column with either hidden or visible state.\n   *\n   */\n  private _hidden: boolean;\n\n  /**\n   *\n   * @description\n   * Setter fn for the @Input with the same name as this structural directive.\n   * It allows the user to pre-configure the column's hide/show state. { hidden: true }\n   * It's more verbose but has more Clarity.\n   *\n   *\n   * @example\n   * *clrDgHideableColumn\n   * *clrDgHideableColumn={hidden: false}\n   * *clrDgHideableColumn={hidden: true}\n   *\n   */\n  @Input('clrDgHideableColumn')\n  set clrDgHideableColumn(value: { hidden: boolean }) {\n    this.clrDgHidden = value && value.hidden ? value.hidden : false;\n  }\n\n  @Input('clrDgHidden')\n  set clrDgHidden(hidden: boolean) {\n    this._hidden = hidden ? hidden : false;\n    this.columnsService.emitStateChange(this.columnState, {\n      hidden: this._hidden,\n      changes: [DatagridColumnChanges.HIDDEN],\n    });\n  }\n\n  @Output('clrDgHiddenChange') public hiddenChange = new EventEmitter<boolean>();\n\n  constructor(\n    private titleTemplateRef: TemplateRef<any>,\n    private viewContainerRef: ViewContainerRef,\n    private columnsService: ColumnsService,\n    @Optional()\n    @Inject(COLUMN_STATE)\n    private columnState: BehaviorSubject<ColumnState>\n  ) {\n    this.viewContainerRef.createEmbeddedView(this.titleTemplateRef);\n\n    if (!this.columnState) {\n      throw new Error('The *clrDgHideableColumn directive can only be used inside of a clr-dg-column component.');\n    }\n  }\n\n  private subscriptions: Subscription[] = [];\n\n  ngOnInit() {\n    this.columnsService.emitStateChange(this.columnState, {\n      hideable: true,\n      titleTemplateRef: this.titleTemplateRef,\n      hidden: this._hidden,\n      changes: [DatagridColumnChanges.HIDDEN],\n    });\n\n    this.subscriptions.push(\n      this.columnState.subscribe((state: ColumnState) => {\n        if (state.changes && state.changes.indexOf(DatagridColumnChanges.HIDDEN) > -1) {\n          this.hiddenChange.emit(state.hidden); // Can emit through @Output when desugared syntax is used\n        }\n      })\n    );\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Directive, Input, Optional, TrackByFunction } from '@angular/core';\n\nimport { Items } from './providers/items';\n\n@Directive({\n  selector: '[ngForTrackBy]',\n})\nexport class ClrDatagridItemsTrackBy<T = any> {\n  constructor(@Optional() private _items: Items<T>) {}\n\n  @Input('ngForTrackBy')\n  set trackBy(value: TrackByFunction<T>) {\n    if (this._items) {\n      this._items.trackBy = value;\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Component, Input } from '@angular/core';\nimport { Page } from './providers/page';\n\n@Component({\n  selector: 'clr-dg-page-size',\n  template: `\n    <ng-content></ng-content>\n    <div class=\"clr-select-wrapper\">\n      <select [class.clr-page-size-select]=\"true\" [(ngModel)]=\"page.size\">\n        <option *ngFor=\"let option of pageSizeOptions\" [ngValue]=\"option\">{{option}}</option>\n      </select>\n    </div>\n  `,\n})\nexport class ClrDatagridPageSize {\n  @Input('clrPageSizeOptions') pageSizeOptions: number[];\n\n  constructor(public page: Page) {}\n\n  ngOnInit() {\n    if (!this.pageSizeOptions || this.pageSizeOptions.length === 0) {\n      this.pageSizeOptions = [this.page.size];\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport {\n  Component,\n  ContentChild,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnDestroy,\n  OnInit,\n  Output,\n  ViewChild,\n} from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { Page } from './providers/page';\nimport { ClrDatagridPageSize } from './datagrid-page-size';\nimport { ClrCommonStringsService } from '../../utils/i18n/common-strings.service';\nimport { DetailService } from './providers/detail.service';\n\n@Component({\n  selector: 'clr-dg-pagination',\n  template: `\n  <ng-container *ngIf=\"!detailService.isOpen\">\n    <div class=\"pagination-size\" *ngIf=\"_pageSizeComponent\">\n      <ng-content select=\"clr-dg-page-size\"></ng-content>\n    </div>\n    <div class=\"pagination-description\">\n      <ng-content></ng-content>\n    </div>\n    <div class=\"pagination-list\" *ngIf=\"page.last > 1\">\n      <button\n        type=\"button\" \n        class=\"pagination-first\" \n        [disabled]=\"page.current <= 1\" \n        (click)=\"page.current = 1\"\n        [attr.aria-label]=\"commonStrings.keys.firstPage\"\n        >\n        <clr-icon shape=\"step-forward-2 down\"></clr-icon>\n      </button>\n      <button \n        type=\"button\"\n        class=\"pagination-previous\" \n        [disabled]=\"page.current <= 1\" \n        (click)=\"page.current = page.current - 1\"\n        [attr.aria-label]=\"commonStrings.keys.previousPage\"\n        >\n        <clr-icon shape=\"angle left\"></clr-icon>\n      </button>\n        <input\n          *ngIf=\"!disableCurrentPageInput; else readOnly\"\n          #currentPageInput \n          type=\"text\" \n          class=\"pagination-current clr-input\" \n          [size]=\"page.last.toString().length\" \n          [value]=\"page.current\"\n          (keydown.enter)=\"updateCurrentPage($event)\" \n          (blur)=\"updateCurrentPage($event)\"\n          [attr.aria-label]=\"commonStrings.keys.currentPage\"\n          />\n          <ng-template #readOnly>\n            <span>{{ page.current }}</span>\n          </ng-template>\n\n          &nbsp;/&nbsp;<span [attr.aria-label]=\"commonStrings.keys.totalPages\">{{page.last}}</span>\n      <button \n        type=\"button\"\n        class=\"pagination-next\" \n        [disabled]=\"page.current >= page.last\" \n        (click)=\"page.current = page.current + 1\"\n        [attr.aria-label]=\"commonStrings.keys.nextPage\"\n        >\n        <clr-icon shape=\"angle right\"></clr-icon>\n      </button>\n      <button \n        type=\"button\" \n        class=\"pagination-last\" \n        [disabled]=\"page.current >= page.last\" \n        (click)=\"page.current = page.last\"\n        [attr.aria-label]=\"commonStrings.keys.lastPage\"\n        >\n        <clr-icon shape=\"step-forward-2 up\"></clr-icon>\n      </button>\n    </div>\n  </ng-container>\n  <ng-container *ngIf=\"detailService.isOpen\">\n      <div class=\"pagination-description-compact\">\n          {{page.firstItem + 1}}-{{page.lastItem + 1}} / {{page.totalItems}}\n      </div>\n      <div class=\"pagination-list\">\n          <button\n                  type=\"button\"\n                  class=\"pagination-previous\"\n                  [disabled]=\"page.current <= 1\"\n                  (click)=\"page.current = page.current - 1\"\n                  [attr.aria-label]=\"commonStrings.keys.previousPage\"\n          >\n              <clr-icon shape=\"angle left\"></clr-icon>\n          </button>\n          <span>{{page.current}}</span>\n          <button\n                  type=\"button\"\n                  class=\"pagination-next\"\n                  [disabled]=\"page.current >= page.last\"\n                  (click)=\"page.current = page.current + 1\"\n                  [attr.aria-label]=\"commonStrings.keys.nextPage\"\n          >\n              <clr-icon shape=\"angle right\"></clr-icon>\n          </button>\n      </div>\n  </ng-container>\n\n  `,\n  host: { '[class.pagination]': 'true' },\n})\nexport class ClrDatagridPagination implements OnDestroy, OnInit {\n  @ContentChild(ClrDatagridPageSize) _pageSizeComponent: ClrDatagridPageSize;\n  @ViewChild('currentPageInput') currentPageInputRef: ElementRef;\n\n  constructor(public page: Page, public commonStrings: ClrCommonStringsService, public detailService: DetailService) {\n    this.page.activated = true;\n  }\n\n  /**********\n   * Subscription to the Page service for page changes.\n   * Note: this only emits after the datagrid is initialized/stabalized and the page changes.\n   */\n  ngOnInit() {\n    /*\n     * Default page size is 10.\n     * The reason we set it here and not in the provider itself is because\n     * we don't want pagination if this component isn't present in the datagrid.\n     */\n    if (!this.page.size) {\n      this.page.size = 10;\n    }\n    this._pageSubscription = this.page.change.subscribe(current => this.currentChanged.emit(current));\n  }\n\n  /**\n   * Subscription to the page service changes\n   */\n  private _pageSubscription: Subscription;\n\n  ngOnDestroy() {\n    this.page.resetPageSize(true);\n    if (this._pageSubscription) {\n      this._pageSubscription.unsubscribe();\n    }\n  }\n\n  /**\n   * Page size\n   */\n  public get pageSize(): number {\n    return this.page.size;\n  }\n\n  @Input('clrDgPageInputDisabled') public disableCurrentPageInput: boolean;\n\n  @Input('clrDgPageSize')\n  public set pageSize(size: number) {\n    if (typeof size === 'number') {\n      this.page.size = size;\n    }\n  }\n\n  /**\n   * Total items (needed to guess the last page)\n   */\n  public get totalItems(): number {\n    return this.page.totalItems;\n  }\n\n  @Input('clrDgTotalItems')\n  public set totalItems(total: number) {\n    if (typeof total === 'number') {\n      this.page.totalItems = total;\n    }\n  }\n\n  /**\n   * Last page\n   */\n  public get lastPage(): number {\n    return this.page.last;\n  }\n\n  @Input('clrDgLastPage')\n  public set lastPage(last: number) {\n    if (typeof last === 'number') {\n      this.page.last = last;\n    }\n  }\n\n  /**\n   * Current page\n   */\n  public get currentPage(): number {\n    return this.page.current;\n  }\n\n  @Input('clrDgPage')\n  public set currentPage(page: number) {\n    if (typeof page === 'number') {\n      this.page.current = page;\n    }\n  }\n\n  @Output('clrDgPageChange') currentChanged = new EventEmitter<number>(false);\n\n  /**\n   * Moves to the previous page if it exists\n   */\n  public previous() {\n    this.page.previous();\n  }\n\n  /**\n   * Moves to the next page if it exists\n   */\n  public next() {\n    this.page.next();\n  }\n\n  /**\n   * Index of the first item displayed on the current page, starting at 0, -1 if none displayed\n   */\n  public get firstItem(): number {\n    return this.page.firstItem;\n  }\n\n  /**\n   * Index of the last item displayed on the current page, starting at 0, -1 if none displayed\n   */\n  public get lastItem(): number {\n    return this.page.lastItem;\n  }\n\n  /**\n   * Conditionally adds page numbers before and after the current page\n   */\n  public get middlePages(): number[] {\n    const middlePages: number[] = [];\n    if (this.page.current > 1) {\n      middlePages.push(this.page.current - 1);\n    }\n    middlePages.push(this.page.current);\n    if (this.page.current < this.page.last) {\n      middlePages.push(this.page.current + 1);\n    }\n    return middlePages;\n  }\n\n  /**\n   * We only update the pagination's current page on blur of the input field, or\n   * when they press enter.\n   */\n  public updateCurrentPage(event: any): void {\n    const parsed = parseInt(event.target.value, 10);\n\n    // if the input value, is not a number, we don't update the page\n    if (!isNaN(parsed)) {\n      if (parsed < 1) {\n        this.page.current = 1;\n      } else if (parsed > this.page.last) {\n        this.page.current = this.page.last;\n      } else {\n        this.page.current = parsed;\n      }\n    }\n\n    /**\n     * Set the input's value to the new current page. This is needed because the code\n     * above may have changed the value from what the user entered in.\n     */\n    this.currentPageInputRef.nativeElement.value = this.page.current;\n  }\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { AfterContentInit, Component, ContentChildren, Input, OnDestroy, QueryList } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { ClrDatagridCell } from './datagrid-cell';\nimport { ExpandableRowsCount } from './providers/global-expandable-rows';\nimport { RowActionService } from './providers/row-action-service';\nimport { Selection } from './providers/selection';\nimport { SelectionType } from './enums/selection-type';\nimport { DatagridIfExpandService } from './datagrid-if-expanded.service';\nimport { ClrCommonStringsService } from '../../utils/i18n/common-strings.service';\n\n/**\n * Generic bland container serving various purposes for Datagrid.\n * For instance, it can help span a text over multiple rows in detail view.\n */\n@Component({\n  selector: 'clr-dg-row-detail',\n  template: `\n    <div class=\"clr-sr-only\">\n      {{ beginningOfExpandableContentAriaText }} {{ commonStrings.keys.dategridExpandableRowsHelperText }}\n    </div>\n    <ng-content></ng-content>\n    <div class=\"clr-sr-only\">{{ endOfExpandableContentAriaText }}</div>\n  `,\n  host: {\n    '[class.datagrid-row-flex]': 'true',\n    '[class.datagrid-row-detail]': 'true',\n    '[class.datagrid-container]': 'cells.length === 0',\n    '[attr.id]': 'expand.expandableId',\n  },\n})\nexport class ClrDatagridRowDetail<T = any> implements AfterContentInit, OnDestroy {\n  /* reference to the enum so that template can access it */\n  public SELECTION_TYPE = SelectionType;\n\n  constructor(\n    public selection: Selection,\n    public rowActionService: RowActionService,\n    public expand: DatagridIfExpandService,\n    public expandableRows: ExpandableRowsCount,\n    public commonStrings: ClrCommonStringsService\n  ) {}\n\n  @ContentChildren(ClrDatagridCell) cells: QueryList<ClrDatagridCell>;\n\n  @Input('clrDgReplace')\n  set replace(value: boolean) {\n    this.expand.setReplace(!!value);\n  }\n  private subscriptions: Subscription[] = [];\n  public replacedRow = false;\n\n  ngAfterContentInit() {\n    this.subscriptions.push(\n      this.expand.replace.subscribe(replaceChange => {\n        this.replacedRow = replaceChange;\n      })\n    );\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n  }\n\n  @Input('clrRowDetailBeginningAriaText') private _beginningOfExpandableContentAriaText: string;\n  public get beginningOfExpandableContentAriaText() {\n    return (\n      this._beginningOfExpandableContentAriaText ||\n      `${this.commonStrings.keys.dategridExpandableBeginningOf} ${this.commonStrings.keys.dategridExpandableRowContent}`\n    );\n  }\n\n  @Input('clrRowDetailEndAriaText') private _endOfExpandableContentAriaText: string;\n  public get endOfExpandableContentAriaText() {\n    return (\n      this._endOfExpandableContentAriaText ||\n      `${this.commonStrings.keys.dategridExpandableEndOf} ${this.commonStrings.keys.dategridExpandableRowContent}`\n    );\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\n// @TODO The top two are not used now, which is probably a performance drag that was broken along the way.\n// There was a previous pattern to hide everything to do computation then display, for Firefox, needs revisiting.\nexport const NO_LAYOUT_CLASS = 'datagrid-no-layout';\nexport const COMPUTE_WIDTH_CLASS = 'datagrid-computing-columns-width';\nexport const STRICT_WIDTH_CLASS = 'datagrid-fixed-width';\nexport const HIDDEN_COLUMN_CLASS = 'datagrid-hidden-column';\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Directive, ElementRef, OnDestroy, Renderer2 } from '@angular/core';\nimport { BehaviorSubject, Subscription } from 'rxjs';\n\nimport { DatagridRenderStep } from '../enums/render-step.enum';\n\nimport { HIDDEN_COLUMN_CLASS, STRICT_WIDTH_CLASS } from './constants';\nimport { DatagridRenderOrganizer } from './render-organizer';\nimport { ColumnState } from '../interfaces/column-state.interface';\nimport { ALL_COLUMN_CHANGES, DatagridColumnChanges } from '../enums/column-changes.enum';\n\n@Directive({ selector: 'clr-dg-cell' })\nexport class DatagridCellRenderer implements OnDestroy {\n  private stateSubscription: Subscription;\n\n  private runAllChanges: DatagridColumnChanges[];\n\n  // @TODO(JEREMY) Work out how to dedupe some of this code between header and cell renderers\n  set columnState(columnState: BehaviorSubject<ColumnState>) {\n    if (this.stateSubscription) {\n      this.stateSubscription.unsubscribe();\n    }\n\n    this.runAllChanges = ALL_COLUMN_CHANGES;\n    this.stateSubscription = columnState.subscribe(state => this.stateChanges(state));\n  }\n\n  constructor(private el: ElementRef, private renderer: Renderer2, organizer: DatagridRenderOrganizer) {\n    this.subscriptions.push(\n      organizer.filterRenderSteps(DatagridRenderStep.CLEAR_WIDTHS).subscribe(() => this.clearWidth())\n    );\n  }\n\n  private subscriptions: Subscription[] = [];\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n    if (this.stateSubscription) {\n      this.stateSubscription.unsubscribe();\n    }\n  }\n\n  private stateChanges(state: ColumnState) {\n    if (this.runAllChanges) {\n      state.changes = this.runAllChanges;\n      delete this.runAllChanges;\n    }\n    if (state.changes && state.changes.length) {\n      state.changes.forEach(change => {\n        switch (change) {\n          case DatagridColumnChanges.WIDTH:\n            this.setWidth(state);\n            break;\n          case DatagridColumnChanges.HIDDEN:\n            this.setHidden(state);\n            break;\n          default:\n            break;\n        }\n      });\n    }\n  }\n\n  private clearWidth() {\n    this.renderer.removeClass(this.el.nativeElement, STRICT_WIDTH_CLASS);\n    this.renderer.setStyle(this.el.nativeElement, 'width', null);\n  }\n\n  private setWidth(state: ColumnState) {\n    if (state.strictWidth) {\n      this.renderer.addClass(this.el.nativeElement, STRICT_WIDTH_CLASS);\n    } else {\n      this.renderer.removeClass(this.el.nativeElement, STRICT_WIDTH_CLASS);\n    }\n    this.renderer.setStyle(this.el.nativeElement, 'width', state.width + 'px');\n  }\n\n  private setHidden(state: ColumnState) {\n    if (state.hidden) {\n      this.renderer.addClass(this.el.nativeElement, HIDDEN_COLUMN_CLASS);\n    } else {\n      this.renderer.removeClass(this.el.nativeElement, HIDDEN_COLUMN_CLASS);\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Directive, ElementRef, EventEmitter, Inject, OnDestroy, Output, Renderer2 } from '@angular/core';\nimport { BehaviorSubject, Subscription } from 'rxjs';\n\nimport { DomAdapter } from '../../../utils/dom-adapter/dom-adapter';\nimport { DatagridRenderStep } from '../enums/render-step.enum';\nimport { ColumnResizerService } from '../providers/column-resizer.service';\nimport { HIDDEN_COLUMN_CLASS, STRICT_WIDTH_CLASS } from './constants';\nimport { DatagridRenderOrganizer } from './render-organizer';\nimport { ColumnState } from '../interfaces/column-state.interface';\nimport { DatagridColumnChanges } from '../enums/column-changes.enum';\nimport { COLUMN_STATE, COLUMN_STATE_PROVIDER } from '../providers/column-state.provider';\nimport { ColumnsService } from '../providers/columns.service';\n\n@Directive({ selector: 'clr-dg-column', providers: [ColumnResizerService, COLUMN_STATE_PROVIDER] })\nexport class DatagridHeaderRenderer implements OnDestroy {\n  constructor(\n    private el: ElementRef,\n    private renderer: Renderer2,\n    private organizer: DatagridRenderOrganizer,\n    private domAdapter: DomAdapter,\n    private columnResizerService: ColumnResizerService,\n    private columnsService: ColumnsService,\n    @Inject(COLUMN_STATE) private columnState: BehaviorSubject<ColumnState>\n  ) {\n    this.subscriptions.push(\n      this.organizer.filterRenderSteps(DatagridRenderStep.CLEAR_WIDTHS).subscribe(() => this.clearWidth())\n    );\n\n    this.subscriptions.push(columnState.subscribe(state => this.stateChanges(state)));\n  }\n\n  @Output('clrDgColumnResize') resizeEmitter: EventEmitter<number> = new EventEmitter();\n\n  /**\n   * Indicates if the column has a strict width, so it doesn't shrink or expand based on the content.\n   */\n  private widthSet: boolean = false;\n  private autoSet: boolean = false;\n\n  private subscriptions: Subscription[] = [];\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n  }\n\n  private stateChanges(state: ColumnState) {\n    if (state.changes && state.changes.length) {\n      state.changes.forEach(change => {\n        switch (change) {\n          case DatagridColumnChanges.WIDTH:\n            this.setWidth(state);\n            break;\n          case DatagridColumnChanges.HIDDEN:\n            this.setHidden(state);\n            break;\n          default:\n            break;\n        }\n      });\n    }\n  }\n\n  private clearWidth() {\n    // remove the width only if we set it, and it is not changed by dragging.\n    if (this.widthSet && !this.columnResizerService.resizedBy) {\n      this.renderer.setStyle(this.el.nativeElement, 'width', null);\n    }\n    if (this.autoSet) {\n      this.renderer.removeClass(this.el.nativeElement, STRICT_WIDTH_CLASS);\n    }\n  }\n\n  private detectStrictWidth(): number {\n    if (this.columnResizerService.resizedBy) {\n      return this.columnResizerService.widthAfterResize;\n    } else if (this.autoSet) {\n      return 0;\n    } else {\n      return this.domAdapter.userDefinedWidth(this.el.nativeElement);\n    }\n  }\n\n  private computeWidth(strictWidth: number): number {\n    let width: number = strictWidth;\n    if (!width) {\n      width = this.domAdapter.scrollWidth(this.el.nativeElement);\n    }\n    return width;\n  }\n\n  public getColumnWidthState(): Partial<ColumnState> {\n    const strictWidth = this.detectStrictWidth();\n    return {\n      width: this.computeWidth(strictWidth),\n      strictWidth: strictWidth,\n    };\n  }\n\n  public setColumnState(index: number) {\n    this.columnsService.columns[index] = this.columnState;\n  }\n\n  private setWidth(state: ColumnState) {\n    if (state.strictWidth) {\n      if (this.columnResizerService.resizedBy) {\n        this.resizeEmitter.emit(state.width);\n        this.renderer.setStyle(this.el.nativeElement, 'width', state.width + 'px');\n        this.widthSet = false;\n      }\n      // Don't set width if there is a user-defined one. Just add the strict width class.\n      this.renderer.addClass(this.el.nativeElement, STRICT_WIDTH_CLASS);\n      this.autoSet = false;\n    } else {\n      this.renderer.removeClass(this.el.nativeElement, STRICT_WIDTH_CLASS);\n      this.renderer.setStyle(this.el.nativeElement, 'width', state.width + 'px');\n      this.widthSet = true;\n      this.autoSet = true;\n    }\n  }\n\n  private setHidden(state: ColumnState) {\n    if (state.hidden) {\n      this.renderer.addClass(this.el.nativeElement, HIDDEN_COLUMN_CLASS);\n    } else {\n      this.renderer.removeClass(this.el.nativeElement, HIDDEN_COLUMN_CLASS);\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\n/*\n * This version of the DomAdapter is for use on non-browser platforms, where there are no\n * nativeElements to use for calculations.\n */\n\nimport { Injectable } from '@angular/core';\nimport { DomAdapter } from '../../../utils/dom-adapter/dom-adapter';\n\n@Injectable()\nexport class NoopDomAdapter implements DomAdapter {\n  userDefinedWidth(element: any): number {\n    return 0;\n  }\n\n  scrollBarWidth(element: any) {\n    return 0;\n  }\n\n  scrollWidth(element: any) {\n    return 0;\n  }\n\n  computedHeight(element: any): number {\n    return 0;\n  }\n\n  clientRect(element: any): ClientRect {\n    return {\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 0,\n      width: 0,\n      height: 0,\n    };\n  }\n\n  minWidth(element: any): number {\n    return 0;\n  }\n\n  focus(element: any): void {}\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { AfterContentInit, ContentChildren, Directive, OnDestroy, QueryList } from '@angular/core';\n\nimport { DatagridCellRenderer } from './cell-renderer';\nimport { ColumnsService } from '../providers/columns.service';\nimport { Subscription } from 'rxjs';\n\n@Directive({ selector: 'clr-dg-row, clr-dg-row-detail' })\nexport class DatagridRowRenderer implements AfterContentInit, OnDestroy {\n  @ContentChildren(DatagridCellRenderer) private cells: QueryList<DatagridCellRenderer>;\n\n  constructor(private columnsService: ColumnsService) {}\n\n  ngAfterContentInit() {\n    this.setColumnState(); // case #3 and #4\n    this.subscriptions.push(\n      this.cells.changes.subscribe(() => {\n        this.setColumnState(); // case #2\n        // Note on case #2: In the case of dynamic columns, when one column (header/cell together) gets deleted,\n        // this.cells.changes emits before this.columnsService.columns gets updated in MainRenderer\n        // when this.headers.changes emits as well. So that means there will be n+1 column state providers\n        // when this.cells.changes emits. Hence, we should quit earlier there. But this method will be called\n        // right after again when this.headers.changes emits. By then, there will be the same number of column state\n        // providers as column headers.\n      })\n    );\n  }\n\n  private subscriptions: Subscription[] = [];\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n  }\n\n  public setColumnState() {\n    // This method runs in four cases:\n    // 1. When the initial rows appear on the first page.\n    //    In this case, the method will be called in DatagridMainRenderer.\n    // 2. When columns (corresponding header/cells) get added and deleted.\n    //    In this case, the method will be called in DatagridMainRenderer. (Read the note on this case above).\n    // 3. When rows load asynchronously.\n    //    In this case, the method will be called in this class.\n    // 4. When rows load after switching pages.\n    //    In this case, the method will be called in this class (Basically, same as the case 3).\n    if (this.cells.length === this.columnsService.columns.length) {\n      this.cells.forEach((cell, index) => {\n        if (this.columnsService.columns[index]) {\n          cell.columnState = this.columnsService.columns[index];\n        }\n      });\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { isPlatformBrowser } from '@angular/common';\nimport {\n  AfterContentInit,\n  AfterViewChecked,\n  AfterViewInit,\n  ContentChildren,\n  Directive,\n  ElementRef,\n  OnDestroy,\n  PLATFORM_ID,\n  QueryList,\n  Renderer2,\n} from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { DatagridRenderStep } from '../enums/render-step.enum';\nimport { Items } from '../providers/items';\nimport { Page } from '../providers/page';\nimport { TableSizeService } from '../providers/table-size.service';\n\nimport { DomAdapter } from '../../../utils/dom-adapter/dom-adapter';\nimport { DatagridHeaderRenderer } from './header-renderer';\nimport { NoopDomAdapter } from './noop-dom-adapter';\nimport { DatagridRenderOrganizer } from './render-organizer';\nimport { ColumnsService } from '../providers/columns.service';\nimport { DatagridColumnChanges } from '../enums/column-changes.enum';\nimport { DatagridRowRenderer } from './row-renderer';\nimport { ColumnStateDiff } from '../interfaces/column-state.interface';\nimport { DetailService } from '../providers/detail.service';\n\n// Fixes build error\n// @dynamic (https://github.com/angular/angular/issues/19698#issuecomment-338340211)\nexport const domAdapterFactory = (platformId: Object) => {\n  if (isPlatformBrowser(platformId)) {\n    return new DomAdapter();\n  } else {\n    return new NoopDomAdapter();\n  }\n};\n\n// Fixes build error\n// @dynamic (https://github.com/angular/angular/issues/19698#issuecomment-338340211)\n@Directive({\n  selector: 'clr-datagrid',\n  providers: [{ provide: DomAdapter, useFactory: domAdapterFactory, deps: [PLATFORM_ID] }],\n})\nexport class DatagridMainRenderer<T = any> implements AfterContentInit, AfterViewInit, AfterViewChecked, OnDestroy {\n  constructor(\n    private organizer: DatagridRenderOrganizer,\n    private items: Items,\n    private page: Page,\n    private domAdapter: DomAdapter,\n    private el: ElementRef,\n    private renderer: Renderer2,\n    private detailService: DetailService,\n    private tableSizeService: TableSizeService,\n    private columnsService: ColumnsService\n  ) {\n    this.subscriptions.push(\n      this.organizer\n        .filterRenderSteps(DatagridRenderStep.COMPUTE_COLUMN_WIDTHS)\n        .subscribe(() => this.computeHeadersWidth())\n    );\n\n    this.subscriptions.push(\n      this.page.sizeChange.subscribe(() => {\n        if (this._heightSet) {\n          this.resetDatagridHeight();\n        }\n      })\n    );\n    this.subscriptions.push(this.detailService.stateChange.subscribe(state => this.toggleDetailPane(state)));\n    this.subscriptions.push(this.items.change.subscribe(() => (this.shouldStabilizeColumns = true)));\n  }\n\n  @ContentChildren(DatagridHeaderRenderer) private headers: QueryList<DatagridHeaderRenderer>;\n  @ContentChildren(DatagridRowRenderer, { descendants: true })\n  private rows: QueryList<DatagridRowRenderer>; // if expandable row is expanded initially, query its cells too.\n\n  ngAfterContentInit() {\n    this.setupColumns();\n\n    this.subscriptions.push(\n      this.headers.changes.subscribe(() => {\n        // TODO: only re-stabilize if a column was added or removed. Reordering is fine.\n        // Need to setup columns before stabalizing them\n        this.setupColumns();\n        this.columnsSizesStable = false;\n        this.stabilizeColumns();\n      })\n    );\n  }\n\n  // Initialize and set Table width for horizontal scrolling here.\n  ngAfterViewInit() {\n    this.tableSizeService.table = this.el;\n  }\n\n  ngAfterViewChecked() {\n    if (this.shouldStabilizeColumns) {\n      this.stabilizeColumns();\n    }\n    if (this.shouldComputeHeight()) {\n      setTimeout(() => {\n        this.computeDatagridHeight();\n      });\n    }\n  }\n\n  private setupColumns() {\n    this.headers.forEach((header, index) => header.setColumnState(index));\n    this.columnsService.columns.splice(this.headers.length); // Trim any old columns\n    this.rows.forEach(row => row.setColumnState());\n  }\n\n  private _heightSet: boolean = false;\n\n  private shouldComputeHeight(): boolean {\n    if (!this._heightSet && this.page.size > 0) {\n      if (this.items.displayed.length === this.page.size) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  public toggleDetailPane(state: boolean) {\n    if (this.headers) {\n      if (state && !this.columnsService.hasCache()) {\n        this.columnsService.cache();\n        this.headers.forEach((header, index) => {\n          if (index > 0) {\n            this.columnsService.emitStateChangeAt(index, {\n              changes: [DatagridColumnChanges.HIDDEN],\n              hidden: state,\n            });\n          }\n        });\n      } else if (!state) {\n        this.columnsService.resetToLastCache();\n      }\n    }\n  }\n\n  /**\n   * Computes the height of the datagrid.\n   *\n   * NOTE: We had to choose to set the height instead of the min-height because\n   * IE 11 requires the height on the parent for the children flex grow/shrink properties to work.\n   * When we used min-height, 1 1 auto doesn't used to work in IE11 :-(\n   * But this doesn't affect the fix. It works in both fixed & variable height datagrids.\n   *\n   * Refer: http://stackoverflow.com/questions/24396205/flex-grow-not-working-in-internet-explorer-11-0\n   */\n  private computeDatagridHeight() {\n    // IE doesn't return correct value for getComputedStyle(element).getPropertyValue(\"height\")\n    const value: number = this.domAdapter.clientRect(this.el.nativeElement).height;\n    this.renderer.setStyle(this.el.nativeElement, 'height', value + 'px');\n    this._heightSet = true;\n  }\n\n  private resetDatagridHeight() {\n    this.renderer.setStyle(this.el.nativeElement, 'height', '');\n    this._heightSet = false;\n  }\n\n  private subscriptions: Subscription[] = [];\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n  }\n\n  /**\n   * Makes each header compute its width.\n   */\n  private computeHeadersWidth() {\n    const nbColumns: number = this.headers.length;\n    let allStrict = true;\n    this.headers.forEach((header, index) => {\n      // On the last header column check whether all columns have strict widths.\n      // If all columns have strict widths, remove the strict width from the last column and make it the column's\n      // minimum width so that when all previous columns shrink, it will get a flexible width and cover the empty\n      // gap in the Datagrid.\n      const state: ColumnStateDiff = {\n        changes: [DatagridColumnChanges.WIDTH],\n        ...header.getColumnWidthState(),\n      };\n\n      if (!state.strictWidth) {\n        allStrict = false;\n      }\n\n      if (nbColumns === index + 1 && allStrict) {\n        state.strictWidth = 0;\n      }\n\n      this.columnsService.emitStateChangeAt(index, state);\n    });\n  }\n\n  /**\n   * Indicates if we want to re-compute columns width. This should only happen:\n   * 1) When headers change, with columns being added or removed\n   * 2) When rows are lazily loaded for the first time\n   */\n  private columnsSizesStable = false;\n\n  private shouldStabilizeColumns = true;\n\n  /**\n   * Triggers a whole re-rendring cycle to set column sizes, if needed.\n   */\n  private stabilizeColumns() {\n    this.shouldStabilizeColumns = false;\n    if (this.columnsSizesStable) {\n      // Nothing to do.\n      return;\n    }\n    // Resize when the rows are loaded.\n    if (this.items.displayed.length > 0) {\n      this.organizer.resize();\n      this.columnsSizesStable = true;\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule, Type } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\n\nimport { ClrFormsModule } from '../../forms/forms.module';\nimport { ClrIconModule } from '../../icon/icon.module';\nimport { ClrLoadingModule } from '../../utils/loading/loading.module';\nimport { ClrOutsideClickModule } from '../../utils/outside-click/outside-click.module';\nimport { ClrDragAndDropModule } from '../../utils/drag-and-drop/drag-and-drop.module';\nimport { ClrExpandableAnimationModule } from '../../utils/animations/expandable-animation/expandable-animation.module';\nimport { ClrSpinnerModule } from '../../progress/spinner/spinner.module';\nimport { ClrPopoverModuleNext } from '../../utils/popover/popover.module';\nimport { ClrFocusTrapModule } from '../../utils/focus-trap/focus-trap.module';\nimport { ClrFocusOnViewInitModule } from '../../utils/focus/focus-on-view-init/focus-on-view-init.module';\nimport { ClrConditionalModule } from '../../utils/conditional/conditional.module';\n\nimport { DatagridStringFilter } from './built-in/filters/datagrid-string-filter';\nimport { DatagridNumericFilter } from './built-in/filters/datagrid-numeric-filter';\nimport { ActionableOompaLoompa } from './chocolate/actionable-oompa-loompa';\nimport { DatagridWillyWonka } from './chocolate/datagrid-willy-wonka';\nimport { ExpandableOompaLoompa } from './chocolate/expandable-oompa-loompa';\nimport { ClrDatagrid } from './datagrid';\nimport { ClrDatagridActionBar } from './datagrid-action-bar';\nimport { ClrDatagridActionOverflow } from './datagrid-action-overflow';\nimport { ClrDatagridCell } from './datagrid-cell';\nimport { ClrDatagridColumn } from './datagrid-column';\nimport { ClrDatagridColumnSeparator } from './datagrid-column-separator';\nimport { ClrDatagridColumnToggle } from './datagrid-column-toggle';\nimport { ClrDatagridColumnToggleButton } from './datagrid-column-toggle-button';\nimport { ClrDatagridColumnToggleTitle } from './datagrid-column-toggle-title';\nimport { DatagridDetailRegisterer } from './datagrid-detail-registerer';\nimport { ClrDatagridDetail } from './datagrid-detail';\nimport { ClrIfDetail } from './datagrid-if-detail';\nimport { ClrDatagridDetailHeader } from './datagrid-detail-header';\nimport { ClrDatagridDetailBody } from './datagrid-detail-body';\nimport { ClrDatagridFilter } from './datagrid-filter';\nimport { ClrDatagridFooter } from './datagrid-footer';\nimport { ClrDatagridHideableColumn } from './datagrid-hideable-column';\nimport { ClrDatagridItems } from './datagrid-items';\nimport { ClrDatagridItemsTrackBy } from './datagrid-items-trackby';\nimport { ClrDatagridPagination } from './datagrid-pagination';\nimport { ClrDatagridPageSize } from './datagrid-page-size';\nimport { ClrDatagridPlaceholder } from './datagrid-placeholder';\nimport { ClrDatagridRow } from './datagrid-row';\nimport { ClrDatagridRowDetail } from './datagrid-row-detail';\nimport { DatagridCellRenderer } from './render/cell-renderer';\nimport { DatagridHeaderRenderer } from './render/header-renderer';\nimport { DatagridMainRenderer } from './render/main-renderer';\nimport { DatagridRowRenderer } from './render/row-renderer';\nimport { WrappedCell } from './wrapped-cell';\nimport { WrappedColumn } from './wrapped-column';\nimport { WrappedRow } from './wrapped-row';\n\nexport const CLR_DATAGRID_DIRECTIVES: Type<any>[] = [\n  // Core\n  ClrDatagrid,\n  ClrDatagridActionBar,\n  ClrDatagridActionOverflow,\n  ClrDatagridColumn,\n  ClrDatagridColumnSeparator,\n  ClrDatagridColumnToggle,\n  ClrDatagridHideableColumn,\n  ClrDatagridFilter,\n  ClrDatagridItems,\n  ClrDatagridItemsTrackBy,\n  ClrDatagridRow,\n  ClrDatagridRowDetail,\n  DatagridDetailRegisterer,\n  ClrDatagridCell,\n  ClrDatagridFooter,\n  ClrDatagridPagination,\n  ClrDatagridPageSize,\n  ClrDatagridPlaceholder,\n  ClrDatagridColumnToggleButton,\n  ClrDatagridColumnToggleTitle,\n  ClrDatagridDetail,\n  ClrIfDetail,\n  ClrDatagridDetailHeader,\n  ClrDatagridDetailBody,\n  WrappedCell,\n  WrappedColumn,\n  WrappedRow,\n\n  // Renderers\n  DatagridMainRenderer,\n  DatagridHeaderRenderer,\n  DatagridRowRenderer,\n  DatagridCellRenderer,\n\n  // Chocolate\n  DatagridWillyWonka,\n  ActionableOompaLoompa,\n  ExpandableOompaLoompa,\n\n  // Built-in shortcuts\n  DatagridStringFilter,\n  DatagridNumericFilter,\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ClrIconModule,\n    ClrFormsModule,\n    FormsModule,\n    ClrLoadingModule,\n    ClrConditionalModule,\n    ClrOutsideClickModule,\n    ClrExpandableAnimationModule,\n    ClrDragAndDropModule,\n    ClrSpinnerModule,\n    ClrPopoverModuleNext,\n    ClrFocusTrapModule,\n    ClrFocusOnViewInitModule,\n  ],\n  declarations: [CLR_DATAGRID_DIRECTIVES],\n  exports: [CLR_DATAGRID_DIRECTIVES],\n  entryComponents: [WrappedCell, WrappedColumn, WrappedRow],\n})\nexport class ClrDatagridModule {}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Component, EventEmitter, HostBinding, Inject, Input, OnInit, Optional, Output, SkipSelf } from '@angular/core';\nimport { ClrCommonStringsService } from '../../utils/i18n/common-strings.service';\nimport { UNIQUE_ID, UNIQUE_ID_PROVIDER } from '../../utils/id-generator/id-generator.service';\n\n@Component({\n  selector: 'clr-stack-block',\n  template: `\n    <div class=\"stack-block-label\"\n        (click)=\"toggleExpand()\"\n        (keyup.enter)=\"toggleExpand()\"\n        (keyup.space)=\"toggleExpand()\"\n        (focus)=\"focused = true\"\n        (blur)=\"focused = false\"\n        [id]=\"uniqueId\"\n        [attr.role]=\"role\"\n        [attr.tabindex]=\"tabIndex\"\n        [attr.aria-expanded]=\"ariaExpanded\"\n        [attr.aria-controls]=\"getStackChildrenId()\"\n        [attr.aria-posinset]=\"ariaPosinset\"\n        [attr.aria-level]=\"ariaLevel\"\n        [attr.aria-setsize]=\"ariaSetsize\"\n        >\n      <clr-icon shape=\"caret\"\n                class=\"stack-block-caret\"\n                *ngIf=\"expandable\"\n                [attr.dir]=\"caretDirection\"></clr-icon>\n      <span class=\"clr-sr-only\" *ngIf=\"getChangedValue\">{{commonStrings.keys.stackViewChanged}}</span>\n      <div class=\"stack-view-key\">\n        <!-- This structure changed to fix #3567 and the a11y request was to move away from dl's -->\n        <!-- I added the key class to update css targets for the original component style -->\n        <ng-content select=\"clr-stack-label\"></ng-content>\n      </div>\n      <div class=\"stack-block-content\">\n        <ng-content></ng-content>\n      </div>\n    </div>\n\n    <clr-expandable-animation [clrExpandTrigger]=\"expanded\" class=\"stack-children\" [attr.id]=\"getStackChildrenId()\">\n      <div [style.height]=\"expanded ? 'auto' : 0\" role=\"region\">\n        <ng-content select=\"clr-stack-block\"></ng-content>\n      </div>\n    </clr-expandable-animation>\n  `,\n  // Custom elements are inline by default\n  styles: [\n    `\n      :host {\n        display: block;\n      }\n    `,\n  ],\n  // Make sure the host has the proper class for styling purposes\n  host: { '[class.stack-block]': 'true' },\n  providers: [UNIQUE_ID_PROVIDER],\n})\nexport class ClrStackBlock implements OnInit {\n  @HostBinding('class.stack-block-expanded')\n  @Input('clrSbExpanded')\n  expanded: boolean = false;\n  @Output('clrSbExpandedChange') expandedChange: EventEmitter<boolean> = new EventEmitter<boolean>(false);\n  @HostBinding('class.stack-block-expandable')\n  @Input('clrSbExpandable')\n  expandable: boolean = false;\n\n  focused: boolean = false;\n  private _changedChildren: number = 0;\n  private _fullyInitialized: boolean = false;\n  private _changed: boolean = false;\n\n  @HostBinding('class.stack-block-changed')\n  get getChangedValue(): boolean {\n    return this._changed || (this._changedChildren > 0 && !this.expanded);\n  }\n\n  @Input('clrSbNotifyChange')\n  set setChangedValue(value: boolean) {\n    this._changed = value;\n\n    if (this.parent && this._fullyInitialized) {\n      if (value) {\n        this.parent._changedChildren++;\n      } else {\n        this.parent._changedChildren--;\n      }\n    }\n  }\n\n  /**\n   * Depth of the stack view starting from 1 for first level\n   */\n  @Input('clrStackViewLevel') ariaLevel: number;\n\n  /**\n   * Total number of rows in a given group\n   */\n  @Input('clrStackViewSetsize') ariaSetsize: number;\n\n  /**\n   * The position of the row inside the grouped by level rows\n   */\n  @Input('clrStackViewPosinset') ariaPosinset: number;\n\n  /*\n   * This would be more efficient with @ContentChildren, with the parent ClrStackBlock\n   * querying for children StackBlocks, but this feature is not available when downgrading\n   * the component for Angular 1.\n   */\n  constructor(\n    @SkipSelf()\n    @Optional()\n    private parent: ClrStackBlock,\n    @Inject(UNIQUE_ID) public uniqueId: string,\n    public commonStrings: ClrCommonStringsService\n  ) {\n    if (parent) {\n      parent.addChild();\n    }\n  }\n\n  ngOnInit(): void {\n    // in order to access the parent ClrStackBlock's properties,\n    // the child ClrStackBlock has to be fully initialized at first.\n    this._fullyInitialized = true;\n  }\n\n  addChild(): void {\n    this.expandable = true;\n  }\n\n  toggleExpand(): void {\n    if (this.expandable) {\n      this.expanded = !this.expanded;\n      this.expandedChange.emit(this.expanded);\n    }\n  }\n\n  get caretDirection(): string {\n    return this.expanded ? 'down' : 'right';\n  }\n\n  get role(): string {\n    return this.expandable ? 'button' : null;\n  }\n\n  get tabIndex(): string {\n    return this.expandable ? '0' : null;\n  }\n\n  @HostBinding('class.on-focus')\n  get onStackLabelFocus(): boolean {\n    return this.expandable && !this.expanded && this.focused;\n  }\n\n  get ariaExpanded(): string {\n    if (!this.expandable) {\n      return null;\n    } else {\n      return this.expanded ? 'true' : 'false';\n    }\n  }\n\n  getStackChildrenId() {\n    return this.expanded ? `clr-stack-children-${this.uniqueId}` : null;\n  }\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Component, EventEmitter, Output } from '@angular/core';\n\n@Component({\n  selector: 'clr-stack-view',\n  template: `\n        <ng-content select=\"clr-stack-header\"></ng-content>\n        <div class=\"stack-view\"><ng-content></ng-content></div>\n    `,\n  // Custom elements are inline by default.\n  styles: [\n    `\n        :host { display: block; }\n    `,\n  ],\n})\nexport class ClrStackView {\n  /**\n   * Undocumented experimental feature: inline editing.\n   */\n  editable: boolean = false;\n\n  @Output('clrStackSave') save: EventEmitter<void> = new EventEmitter<void>(false);\n\n  private _editMode: boolean = false;\n\n  editingChange: EventEmitter<boolean> = new EventEmitter<boolean>(false);\n\n  get editing(): boolean {\n    return this.editable && this._editMode;\n  }\n\n  set editing(value: boolean) {\n    if (this.editable) {\n      this._editMode = value;\n      this.editingChange.emit(value);\n      if (!value) {\n        this.save.emit(null);\n      }\n    }\n  }\n  /**\n   * End of undocumented experimental feature.\n   */\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Component } from '@angular/core';\nimport { ClrStackView } from './stack-view';\n\n@Component({\n  selector: 'clr-stack-header',\n  template: `\n        <h4 class=\"stack-header\">\n            <span class=\"stack-title\"><ng-content></ng-content></span>\n            \n            <span class=\"stack-actions\">\n                <ng-content select=\".stack-action\"></ng-content>\n                <!-- Undocumented experimental feature: inline editing. -->\n                <button *ngIf=\"stackView.editable\" class=\"stack-action btn btn-sm btn-link\" \n                        (click)=\"stackView.editing = !stackView.editing\" type=\"button\">\n                        Edit\n                </button>\n                <!-- End of undocumented experimental feature. -->\n            </span>\n        </h4>\n    `,\n  // Custom elements are inline by default\n  styles: [\n    `\n        :host { display: block; }\n    `,\n  ],\n})\nexport class ClrStackHeader {\n  constructor(public stackView: ClrStackView) {}\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n/**\n * Undocumented experimental feature: inline editing.\n */\n\nimport { EventEmitter } from '@angular/core';\nimport { ClrStackView } from './stack-view';\n\nexport class StackControl {\n  model: any;\n  modelChange: EventEmitter<any> = new EventEmitter<any>(false);\n\n  constructor(protected stackView: ClrStackView) {\n    // Make the ClrStackView editable, since it contains a StackControl\n    this.stackView.editable = true;\n    this.stackView.editingChange.subscribe((editing: boolean) => {\n      // Edit mode was closed\n      if (!editing) {\n        this.modelChange.emit(this.model);\n      }\n    });\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n/**\n * Undocumented experimental feature: inline editing.\n *\n * TODO: support more types of inputs: checkbox, radio, ...\n * TODO: Mirror input attributes from the host to the actual input: size, min, max, placeholder, ...\n */\n\nimport { Component } from '@angular/core';\nimport { StackControl } from './stack-control';\nimport { ClrStackView } from './stack-view';\n\n@Component({\n  selector: 'clr-stack-input',\n  inputs: ['model: clrModel', 'type'],\n  outputs: ['modelChange: clrModelChange'],\n  template: `\n        <span *ngIf=\"!stackView.editing\">{{model}}</span>\n        <input [type]=\"type\" *ngIf=\"stackView.editing\" [(ngModel)]=\"model\"/>\n    `,\n})\nexport class ClrStackInput extends StackControl {\n  type: string = 'text';\n\n  constructor(public stackView: ClrStackView) {\n    super(stackView);\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n/**\n * Undocumented experimental feature: inline editing.\n *\n * TODO: Offer a a way to customize the value displayed, plain value may be unreadable.\n */\n\nimport { Component } from '@angular/core';\nimport { StackControl } from './stack-control';\nimport { ClrStackView } from './stack-view';\n\n@Component({\n  selector: 'clr-stack-select',\n  inputs: ['model: clrModel'],\n  outputs: ['modelChange: clrModelChange'],\n  template: `\n        <span *ngIf=\"!stackView.editing\">{{model}}</span>\n        <div class=\"select\" *ngIf=\"stackView.editing\" >\n            <select [(ngModel)]=\"model\">\n                <ng-content></ng-content>\n            </select>\n        </div>\n    `,\n})\nexport class ClrStackSelect extends StackControl {\n  constructor(public stackView: ClrStackView) {\n    super(stackView);\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Directive } from '@angular/core';\n\n@Directive({ selector: 'clr-stack-label, clr-stack-content' })\nexport class ClrStackViewCustomTags {\n  // No behavior\n  // The only purpose is to \"declare\" the tag in Angular\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Directive, Inject } from '@angular/core';\nimport { UNIQUE_ID } from '../../utils/id-generator/id-generator.service';\n\n@Directive({\n  selector: '[clrStackInput]',\n  host: {\n    '[class.clr-input]': 'true',\n    '[attr.aria-labelledby]': 'uniqueId',\n  },\n})\nexport class ClrStackContentInput {\n  constructor(@Inject(UNIQUE_ID) public uniqueId: string) {}\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule, Type } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\n\nimport { ClrStackBlock } from './stack-block';\nimport { ClrStackHeader } from './stack-header';\nimport { ClrStackInput } from './stack-input';\nimport { ClrStackSelect } from './stack-select';\nimport { ClrStackView } from './stack-view';\nimport { ClrStackViewCustomTags } from './stack-view-custom-tags';\nimport { ClrIconModule } from '../../icon/icon.module';\nimport { ClrExpandableAnimationModule } from '../../utils/animations/expandable-animation/expandable-animation.module';\nimport { ClrStackContentInput } from './stack-content-input';\n\nexport const CLR_STACK_VIEW_DIRECTIVES: Type<any>[] = [\n  ClrStackView,\n  ClrStackHeader,\n  ClrStackBlock,\n  ClrStackContentInput,\n  ClrStackViewCustomTags,\n  /**\n   * Undocumented experimental feature: inline editing.\n   */\n  ClrStackInput,\n  ClrStackSelect,\n  /**\n   * End of undocumented experimental feature.\n   */\n];\n\n@NgModule({\n  imports: [CommonModule, FormsModule, ClrIconModule, ClrExpandableAnimationModule],\n  declarations: [CLR_STACK_VIEW_DIRECTIVES],\n  exports: [CLR_STACK_VIEW_DIRECTIVES],\n})\nexport class ClrStackViewModule {}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nexport enum KeyCodes {\n  ArrowLeft = 'ArrowLeft',\n  ArrowUp = 'ArrowUp',\n  ArrowRight = 'ArrowRight',\n  ArrowDown = 'ArrowDown',\n  Backspace = 'Backspace',\n  Tab = 'TAB',\n  Enter = 'Enter',\n  Escape = 'Escape',\n  Space = 'Space',\n  Home = 'Home',\n  End = 'End',\n}\n\nexport enum IEKeyCodes {\n  ArrowUp = 'Up',\n  ArrowDown = 'Down',\n  ArrowRight = 'Right',\n  ArrowLeft = 'Left',\n  Space = 'Spacebar',\n  Escape = 'Esc',\n  Home = 'Home',\n  End = 'End',\n  Enter = 'Enter',\n  Tab = 'Tab',\n}\n","/*\n* Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n* This software is released under MIT license.\n* The full license information can be found in LICENSE in the root directory of this project.\n*/\n\nimport { KeyCodes, IEKeyCodes } from './../../enums/key-codes.enum';\n\nexport function keyValidator(key: string) {\n  if (key === KeyCodes.ArrowUp || key === IEKeyCodes.ArrowUp) {\n    return KeyCodes.ArrowUp;\n  } else if (key === KeyCodes.ArrowDown || key === IEKeyCodes.ArrowDown) {\n    return KeyCodes.ArrowDown;\n  } else if (key === KeyCodes.ArrowRight || key === IEKeyCodes.ArrowRight) {\n    return KeyCodes.ArrowRight;\n  } else if (key === KeyCodes.ArrowLeft || key === IEKeyCodes.ArrowLeft) {\n    return KeyCodes.ArrowLeft;\n  } else if (key === KeyCodes.Space || key === IEKeyCodes.Space) {\n    return KeyCodes.Space;\n  } else if (key === KeyCodes.Escape || key === IEKeyCodes.Escape) {\n    return KeyCodes.Escape;\n  } else {\n    return key;\n  }\n}\n\nexport function preventArrowKeyScroll(event: KeyboardEvent) {\n  const validKey = keyValidator(event.key);\n\n  if (\n    validKey === KeyCodes.ArrowUp ||\n    validKey === KeyCodes.ArrowDown ||\n    validKey === KeyCodes.ArrowLeft ||\n    validKey === KeyCodes.ArrowRight\n  ) {\n    // prevent element container scroll\n    // MDN references this is really the only way to prevent native browser interactions\n    // https://developer.mozilla.org/en-US/docs/Web/Accessibility/Keyboard-navigable_JavaScript_widgets\n    event.preventDefault();\n  }\n}\n\nexport function getKeyCodes(event: KeyboardEvent) {\n  // IE does not properly follow the spec for `event.key` so we need to return a different enum for the key events\n  // We use `event.key` for optimal browser support, to detect IE/Edge check if `event.code` is undefined\n  const isIEKeyboardEvent = event.code === undefined;\n  return isIEKeyboardEvent ? IEKeyCodes : KeyCodes;\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\n// TODO: I'd like this to be a CheckedState enum for the checkboxes in the future.\nexport enum ClrSelectedState {\n  // WARNING! Unselected has the value 0,\n  // so it's actually the only one that will evaluate to false if cast to a boolean.\n  // Don't mess with the order!\n  UNSELECTED = 0,\n  SELECTED,\n  INDETERMINATE,\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { ClrSelectedState } from './selected-state.enum';\nimport { BehaviorSubject } from 'rxjs';\n\nexport abstract class TreeNodeModel<T> {\n  nodeId: string;\n  expanded: boolean;\n  selected = new BehaviorSubject<ClrSelectedState>(ClrSelectedState.UNSELECTED);\n  model: T | null;\n  /*\n   * Ideally, I would like to use a polymorphic this type here to ensure homogeneity of the tree, something like:\n   * abstract parent: this<T> | null;\n   * abstract children: this<T>[];\n   * But I'm hitting limitations on typescript not allowing that type in constructors or static methods.\n   * So I'm resorting to forcing override with more precise types by marking these abstract.\n   */\n  abstract parent: TreeNodeModel<T> | null;\n  abstract children: TreeNodeModel<T>[];\n\n  /*\n   * Being able to push this down to the RecursiveTreeNodeModel would require too much work on the angular components\n   * right now for them to know which kind of model they are using. So I'm lifting the public properties to this\n   * abstract parent class for now and we can revisit it later, when we're not facing such a close deadline.\n   */\n  loading = false;\n\n  destroy() {\n    // Just to be safe\n    this.selected.complete();\n  }\n\n  // Propagate by default when eager, don't propagate in the lazy-loaded tree.\n  setSelected(state: ClrSelectedState, propagateUp: boolean, propagateDown: boolean) {\n    if (state === this.selected.value) {\n      return;\n    }\n    this.selected.next(state);\n    if (propagateDown && state !== ClrSelectedState.INDETERMINATE && this.children) {\n      this.children.forEach(child => child.setSelected(state, false, true));\n    }\n    if (propagateUp && this.parent) {\n      this.parent._updateSelectionFromChildren();\n    }\n  }\n\n  toggleSelection(propagate: boolean) {\n    // Both unselected and indeterminate toggle to selected\n    const newState =\n      this.selected.value === ClrSelectedState.SELECTED ? ClrSelectedState.UNSELECTED : ClrSelectedState.SELECTED;\n    // NOTE: we always propagate selection up in this method because it is only called when the user takes an action.\n    // It should never be called from lifecycle hooks or app-provided inputs.\n    this.setSelected(newState, true, propagate);\n  }\n\n  private computeSelectionStateFromChildren() {\n    let oneSelected = false;\n    let oneUnselected = false;\n    // Using a good old for loop to exit as soon as we can tell, for better performance on large trees.\n    for (const child of this.children) {\n      switch (child.selected.value) {\n        case ClrSelectedState.INDETERMINATE:\n          return ClrSelectedState.INDETERMINATE;\n        case ClrSelectedState.SELECTED:\n          oneSelected = true;\n          if (oneUnselected) {\n            return ClrSelectedState.INDETERMINATE;\n          }\n          break;\n        case ClrSelectedState.UNSELECTED:\n        default:\n          // Default is the same as unselected, in case an undefined somehow made it all the way here.\n          oneUnselected = true;\n          if (oneSelected) {\n            return ClrSelectedState.INDETERMINATE;\n          }\n          break;\n      }\n    }\n    if (!oneSelected) {\n      return ClrSelectedState.UNSELECTED;\n    } else if (!oneUnselected) {\n      return ClrSelectedState.SELECTED;\n    }\n  }\n\n  /*\n   * Internal, but needs to be called by other nodes\n   */\n  _updateSelectionFromChildren() {\n    const newState = this.computeSelectionStateFromChildren();\n    if (newState === this.selected.value) {\n      return;\n    }\n    this.selected.next(newState);\n    if (this.parent) {\n      this.parent._updateSelectionFromChildren();\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { TreeNodeModel } from './tree-node.model';\n\n/*\n * A declarative model is built by traversing the Angular component tree.\n * Declarative = Tree node components dictate the model\n */\nexport class DeclarativeTreeNodeModel<T> extends TreeNodeModel<T> {\n  constructor(parent: DeclarativeTreeNodeModel<T> | null) {\n    super();\n    this.parent = parent;\n    if (parent) {\n      parent._addChild(this);\n    }\n    this.children = [];\n  }\n\n  // Override for a more precise type\n  parent: DeclarativeTreeNodeModel<T> | null;\n  children: DeclarativeTreeNodeModel<T>[];\n\n  _addChild(child: DeclarativeTreeNodeModel<T>) {\n    this.children.push(child);\n  }\n\n  _removeChild(child: DeclarativeTreeNodeModel<T>) {\n    const index = this.children.indexOf(child);\n    if (index > -1) {\n      this.children.splice(index, 1);\n    }\n  }\n\n  destroy() {\n    if (this.parent) {\n      this.parent._removeChild(this);\n    }\n    super.destroy();\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Injectable, Optional, SkipSelf, TemplateRef } from '@angular/core';\nimport { RecursiveTreeNodeModel } from './models/recursive-tree-node.model';\nimport { ClrRecursiveForOfContext } from './recursive-for-of';\nimport { Subject } from 'rxjs';\n\n@Injectable()\nexport class TreeFeaturesService<T> {\n  selectable = false;\n  eager = true;\n  recursion: {\n    template: TemplateRef<ClrRecursiveForOfContext<T>>;\n    root: RecursiveTreeNodeModel<T>[];\n  };\n  childrenFetched: Subject<void> = new Subject();\n}\n\nexport function treeFeaturesFactory<T>(existing: TreeFeaturesService<T>) {\n  return existing || new TreeFeaturesService();\n}\n\nexport const TREE_FEATURES_PROVIDER = {\n  provide: TreeFeaturesService,\n  useFactory: treeFeaturesFactory,\n  /*\n   * The Optional + SkipSelf pattern ensures that in case of nested components, only the root one will\n   * instantiate a new service and all its children will reuse the root's instance.\n   * If there are several roots (in this case, several independent trees on a page), each root will instantiate\n   * its own service so they won't interfere with one another.\n   *\n   * TL;DR - Optional + SkipSelf = 1 instance of TreeFeaturesService per tree.\n   */\n  deps: [[new Optional(), new SkipSelf(), TreeFeaturesService]],\n};\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Injectable } from '@angular/core';\nimport { Observable, Subject } from 'rxjs';\nimport { TreeNodeModel } from './models/tree-node.model';\n\n@Injectable()\nexport class TreeFocusManagerService<T> {\n  public rootNodeModels: TreeNodeModel<T>[];\n\n  private focusedNodeId: string;\n\n  private _focusRequest: Subject<string> = new Subject();\n\n  private _focusChange: Subject<string> = new Subject();\n\n  get focusRequest(): Observable<string> {\n    return this._focusRequest.asObservable();\n  }\n\n  get focusChange(): Observable<string> {\n    return this._focusChange.asObservable();\n  }\n\n  private findSiblings(model: TreeNodeModel<T>): TreeNodeModel<T>[] {\n    // the method will return not only sibling models but also itself among them\n    if (model.parent) {\n      return model.parent.children;\n    } else {\n      return this.rootNodeModels;\n    }\n  }\n\n  private findLastVisibleInNode(model: TreeNodeModel<T>): TreeNodeModel<T> {\n    // the method will traverse through until it finds the last visible node from the given node\n    if (!model) {\n      return;\n    }\n    if (model.expanded && model.children.length > 0) {\n      const children = model.children;\n      const lastChild = children[children.length - 1];\n      return this.findLastVisibleInNode(lastChild);\n    } else {\n      return model;\n    }\n  }\n\n  private findNextFocusable(model: TreeNodeModel<T>): TreeNodeModel<T> {\n    if (!model) {\n      return;\n    }\n\n    const siblings = this.findSiblings(model);\n    const selfIndex = siblings.indexOf(model);\n\n    if (selfIndex < siblings.length - 1) {\n      return siblings[selfIndex + 1];\n    } else if (selfIndex === siblings.length - 1) {\n      return this.findNextFocusable(model.parent);\n    }\n  }\n\n  private findLastVisibleInTree(): TreeNodeModel<T> {\n    const lastRootNode =\n      this.rootNodeModels && this.rootNodeModels.length && this.rootNodeModels[this.rootNodeModels.length - 1];\n    return this.findLastVisibleInNode(lastRootNode);\n  }\n\n  private findNodeAbove(model: TreeNodeModel<T>): TreeNodeModel<T> {\n    if (!model) {\n      return;\n    }\n\n    const siblings = this.findSiblings(model);\n    const selfIndex = siblings.indexOf(model);\n\n    if (selfIndex === 0) {\n      return model.parent;\n    } else if (selfIndex > 0) {\n      return this.findLastVisibleInNode(siblings[selfIndex - 1]);\n    }\n  }\n\n  private findNodeBelow(model: TreeNodeModel<T>): TreeNodeModel<T> {\n    if (!model) {\n      return;\n    }\n\n    if (model.expanded && model.children.length > 0) {\n      return model.children[0];\n    } else {\n      return this.findNextFocusable(model);\n    }\n  }\n\n  focusNode(model: TreeNodeModel<T>): void {\n    if (model) {\n      this._focusRequest.next(model.nodeId);\n    }\n  }\n\n  broadcastFocusedNode(nodeId: string): void {\n    if (this.focusedNodeId !== nodeId) {\n      this.focusedNodeId = nodeId;\n      this._focusChange.next(nodeId);\n    }\n  }\n\n  focusParent(model: TreeNodeModel<T>): void {\n    if (model) {\n      this.focusNode(model.parent);\n    }\n  }\n\n  focusFirstVisibleNode(): void {\n    const focusModel = this.rootNodeModels && this.rootNodeModels[0];\n    this.focusNode(focusModel);\n  }\n\n  focusLastVisibleNode(): void {\n    this.focusNode(this.findLastVisibleInTree());\n  }\n\n  focusNodeAbove(model: TreeNodeModel<T>): void {\n    this.focusNode(this.findNodeAbove(model));\n  }\n\n  focusNodeBelow(model: TreeNodeModel<T>): void {\n    this.focusNode(this.findNodeBelow(model));\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Directive, ElementRef } from '@angular/core';\n\n@Directive({\n  selector: '.clr-treenode-link',\n})\nexport class ClrTreeNodeLink {\n  constructor(private el: ElementRef) {}\n\n  activate() {\n    if (this.el.nativeElement && this.el.nativeElement.click) {\n      this.el.nativeElement.click();\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { animate, style, transition, trigger, state } from '@angular/animations';\nimport { isPlatformBrowser } from '@angular/common';\nimport {\n  Component,\n  ContentChildren,\n  ElementRef,\n  EventEmitter,\n  Inject,\n  Injector,\n  Input,\n  OnDestroy,\n  OnInit,\n  Optional,\n  Output,\n  PLATFORM_ID,\n  QueryList,\n  SkipSelf,\n  ViewChild,\n} from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { filter } from 'rxjs/operators';\n\nimport { KeyCodes } from './../../utils/enums/key-codes.enum';\nimport { IfExpandService } from '../../utils/conditional/if-expanded.service';\nimport { keyValidator, preventArrowKeyScroll } from '../../utils/focus/key-focus/util';\nimport { ClrCommonStringsService } from '../../utils/i18n/common-strings.service';\nimport { UNIQUE_ID, UNIQUE_ID_PROVIDER } from '../../utils/id-generator/id-generator.service';\nimport { LoadingListener } from '../../utils/loading/loading-listener';\nimport { DeclarativeTreeNodeModel } from './models/declarative-tree-node.model';\nimport { ClrSelectedState } from './models/selected-state.enum';\nimport { TreeNodeModel } from './models/tree-node.model';\nimport { TreeFeaturesService, TREE_FEATURES_PROVIDER } from './tree-features.service';\nimport { TreeFocusManagerService } from './tree-focus-manager.service';\nimport { ClrTreeNodeLink } from './tree-node-link';\n\nconst LVIEW_CONTEXT_INDEX = 8;\n\n@Component({\n  selector: 'clr-tree-node',\n  templateUrl: './tree-node.html',\n  providers: [\n    UNIQUE_ID_PROVIDER,\n    TREE_FEATURES_PROVIDER,\n    IfExpandService,\n    { provide: LoadingListener, useExisting: IfExpandService },\n  ],\n  animations: [\n    trigger('toggleChildrenAnim', [\n      transition('collapsed => expanded', [style({ height: 0 }), animate(200, style({ height: '*' }))]),\n      transition('expanded => collapsed', [style({ height: '*' }), animate(200, style({ height: 0 }))]),\n      state('expanded', style({ height: '*', 'overflow-y': 'visible' })),\n      state('collapsed', style({ height: 0 })),\n    ]),\n  ],\n  host: {\n    '[attr.role]': '\"treeitem\"',\n    '[class.clr-tree-node]': 'true',\n  },\n})\nexport class ClrTreeNode<T> implements OnInit, OnDestroy {\n  STATES = ClrSelectedState;\n  private skipEmitChange = false;\n\n  constructor(\n    @Inject(UNIQUE_ID) public nodeId: string,\n    @Inject(PLATFORM_ID) private platformId: Object,\n    @Optional()\n    @SkipSelf()\n    parent: ClrTreeNode<T>,\n    public featuresService: TreeFeaturesService<T>,\n    public expandService: IfExpandService,\n    public commonStrings: ClrCommonStringsService,\n    private focusManager: TreeFocusManagerService<T>,\n    injector: Injector\n  ) {\n    if (this.featuresService.recursion) {\n      // I'm completely stuck, we have to hack into private properties until either\n      // https://github.com/angular/angular/issues/14935 or https://github.com/angular/angular/issues/15998\n      // are fixed\n      // This is for non-ivy implementations\n      if ((<any>injector).view) {\n        this._model = (<any>injector).view.context.clrModel;\n      } else {\n        // Ivy puts this on a specific index of a _lView property\n        // tslint:disable-next-line\n        this._model = (<any>injector)._lView[LVIEW_CONTEXT_INDEX].clrModel;\n      }\n    } else {\n      // Force cast for now, not sure how to tie the correct type here to featuresService.recursion\n      this._model = new DeclarativeTreeNodeModel(parent ? <DeclarativeTreeNodeModel<T>>parent._model : null);\n    }\n    this._model.nodeId = this.nodeId;\n  }\n\n  _model: TreeNodeModel<T>;\n\n  isExpandable() {\n    if (typeof this.expandable !== 'undefined') {\n      return this.expandable;\n    }\n    return !!this.expandService.expandable || (this._model.children && this._model.children.length > 0);\n  }\n\n  @Input('clrSelected')\n  get selected(): ClrSelectedState | boolean {\n    return this._model.selected.value;\n  }\n  set selected(value: ClrSelectedState | boolean) {\n    this.featuresService.selectable = true;\n    // Gracefully handle falsy states like null or undefined because it's just easier than answering questions.\n    // This shouldn't happen with strict typing on the app's side, but it's not up to us.\n    if (value === null || typeof value === 'undefined') {\n      value = ClrSelectedState.UNSELECTED;\n    }\n    // We match booleans to the corresponding ClrSelectedState\n    if (typeof value === 'boolean') {\n      value = value ? ClrSelectedState.SELECTED : ClrSelectedState.UNSELECTED;\n    }\n    // We propagate only if the tree is in smart mode, and skip emitting the output when we set the input\n    // See https://github.com/vmware/clarity/issues/3073\n    this.skipEmitChange = true;\n    this._model.setSelected(value, this.featuresService.eager, this.featuresService.eager);\n    this.skipEmitChange = false;\n  }\n\n  @Output('clrSelectedChange') selectedChange = new EventEmitter<ClrSelectedState>(false);\n\n  get ariaSelected(): boolean {\n    return this.featuresService.selectable ? this._model.selected.value === ClrSelectedState.SELECTED : null;\n  }\n\n  // Allows the consumer to override our logic deciding if a node is expandable.\n  // Useful for recursive trees that don't want to pre-load one level ahead just to know which nodes are expandable.\n  @Input('clrExpandable') expandable: boolean | undefined;\n\n  // I'm caving on this, for tree nodes I think we can tolerate having a two-way binding on the component\n  // rather than enforce the clrIfExpanded structural directive for dynamic cases. Mostly because for the smart\n  // case, you can't use a structural directive, it would need to go on an ng-container.\n  @Input('clrExpanded')\n  get expanded(): boolean {\n    return this.expandService.expanded;\n  }\n  set expanded(value: boolean) {\n    this.expandService.expanded = value;\n  }\n\n  @Output('clrExpandedChange') expandedChange = new EventEmitter<boolean>();\n\n  private subscriptions: Subscription[] = [];\n\n  contentContainerTabindex = -1;\n  @ViewChild('contentContainer', { read: ElementRef, static: true })\n  private contentContainer: ElementRef;\n\n  ngOnInit() {\n    this._model.expanded = this.expanded;\n    this.subscriptions.push(\n      this._model.selected.pipe(filter(() => !this.skipEmitChange)).subscribe(value => {\n        this.selectedChange.emit(value);\n      })\n    );\n    this.subscriptions.push(\n      this.expandService.expandChange.subscribe(value => {\n        this.expandedChange.emit(value);\n        this._model.expanded = value;\n      })\n    );\n    this.subscriptions.push(\n      this.focusManager.focusRequest.subscribe(nodeId => {\n        if (this.nodeId === nodeId) {\n          this.focusTreeNode();\n        }\n      }),\n      this.focusManager.focusChange.subscribe(nodeId => {\n        this.checkTabIndex(nodeId);\n      })\n    );\n  }\n\n  ngOnDestroy() {\n    this._model.destroy();\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n  }\n\n  // @ContentChild would have been more succinct\n  // but it doesn't offer a way to query only an immediate child\n  @ContentChildren(ClrTreeNodeLink, { descendants: false })\n  private treeNodeLinkList: QueryList<ClrTreeNodeLink>;\n\n  get treeNodeLink() {\n    return this.treeNodeLinkList && this.treeNodeLinkList.first;\n  }\n\n  private setTabIndex(value: number) {\n    this.contentContainerTabindex = value;\n    this.contentContainer.nativeElement.setAttribute('tabindex', value);\n  }\n\n  private checkTabIndex(nodeId: string): void {\n    if (isPlatformBrowser(this.platformId) && this.nodeId !== nodeId && this.contentContainerTabindex !== -1) {\n      this.setTabIndex(-1);\n    }\n  }\n\n  focusTreeNode(): void {\n    if (isPlatformBrowser(this.platformId) && document.activeElement !== this.contentContainer.nativeElement) {\n      this.setTabIndex(0);\n      this.contentContainer.nativeElement.focus();\n    }\n  }\n\n  broadcastFocusOnContainer() {\n    this.focusManager.broadcastFocusedNode(this.nodeId);\n  }\n\n  onKeyDown(event: KeyboardEvent) {\n    // Two reasons to prevent default behavior:\n    // 1. to prevent scrolling on arrow keys\n    // 2. Assistive Technology focus differs from Keyboard focus behavior.\n    //    By default, pressing arrow key makes AT focus go into the nested content of the item.\n    preventArrowKeyScroll(event);\n\n    // https://www.w3.org/TR/wai-aria-practices-1.1/#keyboard-interaction-22\n    switch (keyValidator(event.key)) {\n      case KeyCodes.ArrowUp:\n        this.focusManager.focusNodeAbove(this._model);\n        break;\n      case KeyCodes.ArrowDown:\n        this.focusManager.focusNodeBelow(this._model);\n        break;\n      case KeyCodes.ArrowRight:\n        this.expandOrFocusFirstChild();\n        break;\n      case KeyCodes.ArrowLeft:\n        this.collapseOrFocusParent();\n        break;\n      case KeyCodes.Home:\n        this.focusManager.focusFirstVisibleNode();\n        break;\n      case KeyCodes.End:\n        this.focusManager.focusLastVisibleNode();\n        break;\n      case KeyCodes.Enter:\n        this.triggerDefaultAction();\n        break;\n      case KeyCodes.Space:\n        // to prevent scrolling on space key in this specific case\n        event.preventDefault();\n        this.triggerDefaultAction();\n        break;\n      default:\n        break;\n    }\n  }\n\n  private expandOrFocusFirstChild() {\n    if (this.expanded) {\n      // if the node is already expanded and has children, focus its very first child\n      if (this._model.children.length > 0) {\n        this.focusManager.focusNodeBelow(this._model);\n      }\n    } else {\n      // we must check if the node is expandable, in order to set .expanded to true from false\n      // because we shouldn't set .expanded to true if it's not expandable node\n      if (this.isExpandable()) {\n        this.expandService.expanded = true;\n      }\n    }\n  }\n\n  private collapseOrFocusParent() {\n    if (this.expanded) {\n      this.expandService.expanded = false;\n    } else {\n      this.focusManager.focusParent(this._model);\n    }\n  }\n\n  private triggerDefaultAction() {\n    if (this.treeNodeLink) {\n      this.treeNodeLink.activate();\n    } else {\n      if (this.featuresService.selectable) {\n        this._model.toggleSelection(this.featuresService.eager);\n      }\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport {\n  AfterContentInit,\n  Component,\n  ContentChildren,\n  ElementRef,\n  HostListener,\n  Input,\n  OnDestroy,\n  QueryList,\n} from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { TreeFocusManagerService } from './tree-focus-manager.service';\nimport { TreeFeaturesService, TREE_FEATURES_PROVIDER } from './tree-features.service';\nimport { ClrTreeNode } from './tree-node';\n\n@Component({\n  selector: 'clr-tree',\n  template: `\n    <ng-content></ng-content>\n    <clr-recursive-children *ngIf=\"featuresService.recursion\"\n                            [children]=\"featuresService.recursion.root\"></clr-recursive-children>\n  `,\n  providers: [TREE_FEATURES_PROVIDER, TreeFocusManagerService],\n  host: {\n    '[attr.tabindex]': 'tabindex',\n    '[attr.role]': '\"tree\"',\n    '[attr.aria-multiselectable]': 'isMultiSelectable',\n  },\n})\nexport class ClrTree<T> implements AfterContentInit, OnDestroy {\n  constructor(\n    public featuresService: TreeFeaturesService<T>,\n    private focusManagerService: TreeFocusManagerService<T>,\n    private el: ElementRef\n  ) {}\n\n  private subscriptions: Subscription[] = [];\n\n  @Input('clrLazy')\n  set lazy(value: boolean) {\n    this.featuresService.eager = !value;\n  }\n\n  tabindex = 0;\n\n  get isMultiSelectable() {\n    return this.featuresService.selectable && this.rootNodes.length > 0;\n  }\n\n  @HostListener('focusin', ['$event'])\n  onFocusIn(event: FocusEvent) {\n    if (event.target === this.el.nativeElement) {\n      // After discussing with the team, I've made it so that when the tree receives focus, the first visible node will be focused.\n      // This will prevent from the page scrolling abruptly to the first selected node if it exist in a deeply nested tree.\n      this.focusManagerService.focusFirstVisibleNode();\n\n      // when the first child gets focus,\n      // tree should no longer have tabindex of 0;\n      delete this.tabindex;\n    }\n  }\n\n  @ContentChildren(ClrTreeNode) private rootNodes: QueryList<ClrTreeNode<T>>;\n\n  ngAfterContentInit() {\n    this.setRootNodes();\n    this.subscriptions.push(\n      this.rootNodes.changes.subscribe(() => {\n        this.setRootNodes();\n      })\n    );\n  }\n\n  private setRootNodes(): void {\n    // if node has no parent, it's a root node\n    // for recursive tree, this.rootNodes registers also nested children\n    // so we have to use filter to extract the ones that are truly root nodes\n    this.focusManagerService.rootNodeModels = this.rootNodes.map(node => node._model).filter(node => !node.parent);\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\n// We need to make sure people can give us null or undefined children even if they run strict type checking.\nimport { Observable } from 'rxjs';\n\nexport type AsyncArray<T> =\n  | T[]\n  | null\n  | undefined\n  | Promise<T[] | null | undefined>\n  | Observable<T[] | null | undefined>;\n\nexport function isPromise<T>(o: AsyncArray<T>): o is Promise<T[]> {\n  // Shamelessly copied from every open-source project out there.\n  return o && typeof (<any>o).then === 'function';\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { isObservable, Subscription } from 'rxjs';\n\nimport { TreeNodeModel } from './tree-node.model';\nimport { AsyncArray, isPromise } from './async-array';\nimport { TreeFeaturesService } from '../tree-features.service';\n\n/*\n * A recursive model is built received from the app and traversed to create the corresponding components.\n * Recursive = Model dictates the tree node components\n */\nexport class RecursiveTreeNodeModel<T> extends TreeNodeModel<T> {\n  constructor(\n    model: T,\n    parent: RecursiveTreeNodeModel<T> | null,\n    private getChildren: (node: T) => AsyncArray<T> | undefined,\n    private featuresService: TreeFeaturesService<T> | undefined\n  ) {\n    super();\n    this.model = model;\n    this.parent = parent;\n  }\n\n  parent: RecursiveTreeNodeModel<T> | null;\n\n  private childrenFetched = false;\n\n  clearChildren() {\n    this._children.forEach(child => child.destroy());\n    delete this._children;\n    this.childrenFetched = false;\n  }\n\n  fetchChildren() {\n    if (this.childrenFetched) {\n      return;\n    }\n\n    const asyncChildren = this.getChildren(this.model);\n    if (isPromise(asyncChildren)) {\n      this.loading = true;\n      asyncChildren.then(raw => {\n        this._children = this.wrapChildren(raw);\n        this.loading = false;\n      });\n    } else if (isObservable(asyncChildren)) {\n      this.loading = true;\n      this.subscription = asyncChildren.subscribe(raw => {\n        this._children = this.wrapChildren(raw);\n        this.loading = false;\n      });\n    } else if (asyncChildren) {\n      // Synchronous case\n      this._children = this.wrapChildren(asyncChildren);\n    } else {\n      this._children = [];\n    }\n    this.childrenFetched = true;\n    if (this.featuresService) {\n      this.featuresService.childrenFetched.next();\n    }\n  }\n\n  private wrapChildren(rawModels: T[]) {\n    return rawModels.map(m => new RecursiveTreeNodeModel(m, this, this.getChildren, this.featuresService));\n  }\n\n  private _children: RecursiveTreeNodeModel<T>[] = [];\n  get children(): RecursiveTreeNodeModel<T>[] {\n    this.fetchChildren();\n    return this._children;\n  }\n  set children(value: RecursiveTreeNodeModel<T>[]) {\n    this._children = value;\n  }\n\n  private subscription: Subscription;\n\n  destroy() {\n    if (this.subscription) {\n      this.subscription.unsubscribe();\n    }\n    super.destroy();\n  }\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { ChangeDetectorRef, Directive, Input, OnChanges, OnDestroy, TemplateRef } from '@angular/core';\nimport { TreeFeaturesService } from './tree-features.service';\nimport { RecursiveTreeNodeModel } from './models/recursive-tree-node.model';\nimport { TreeNodeModel } from './models/tree-node.model';\nimport { AsyncArray } from './models/async-array';\nimport { Subscription } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\n\nexport interface ClrRecursiveForOfContext<T> {\n  $implicit: T;\n  clrModel: TreeNodeModel<T>;\n}\n\n@Directive({ selector: '[clrRecursiveFor][clrRecursiveForOf]' })\nexport class ClrRecursiveForOf<T> implements OnChanges, OnDestroy {\n  constructor(\n    private template: TemplateRef<ClrRecursiveForOfContext<T>>,\n    private featuresService: TreeFeaturesService<T>,\n    private cdr: ChangeDetectorRef\n  ) {}\n\n  // TODO: accept NgIterable<T>\n  @Input('clrRecursiveForOf') nodes: T | T[];\n\n  // TODO: accept NgIterable<T> return type\n  @Input('clrRecursiveForGetChildren') getChildren: (node: T) => AsyncArray<T>;\n\n  private childrenFetchSubscription: Subscription;\n\n  // I'm using OnChanges instead of OnInit to easily keep up to date with dynamic trees. Maybe optimizable later.\n  ngOnChanges() {\n    let wrapped: RecursiveTreeNodeModel<T>[];\n    if (Array.isArray(this.nodes)) {\n      wrapped = this.nodes.map(node => new RecursiveTreeNodeModel(node, null, this.getChildren, this.featuresService));\n    } else {\n      wrapped = [new RecursiveTreeNodeModel(this.nodes, null, this.getChildren, this.featuresService)];\n    }\n    if (!this.childrenFetchSubscription) {\n      this.childrenFetchSubscription = this.featuresService.childrenFetched.pipe(debounceTime(0)).subscribe(() => {\n        this.cdr.detectChanges();\n      });\n    }\n\n    this.featuresService.recursion = {\n      template: this.template,\n      root: wrapped,\n    };\n  }\n\n  ngOnDestroy() {\n    if (this.childrenFetchSubscription) {\n      this.childrenFetchSubscription.unsubscribe();\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component, Input, Optional } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { IfExpandService } from '../../utils/conditional/if-expanded.service';\nimport { TreeFeaturesService } from './tree-features.service';\nimport { TreeNodeModel } from './models/tree-node.model';\nimport { ClrRecursiveForOfContext } from './recursive-for-of';\nimport { RecursiveTreeNodeModel } from './models/recursive-tree-node.model';\n\n@Component({\n  selector: 'clr-recursive-children',\n  template: `\n    <ng-container *ngIf=\"shouldRender()\">\n      <ng-container *ngFor=\"let child of parent?.children || children\">\n        <ng-container *ngTemplateOutlet=\"featuresService.recursion.template; context: getContext(child)\"></ng-container>\n      </ng-container>\n    </ng-container>\n  `,\n  host: {\n    '[attr.role]': '\"group\"', // Safari + VO needs direct relationship between treeitem and group; no element should exist between them\n  },\n})\n/**\n * Internal component, do not export!\n * This is part of the hack to get around https://github.com/angular/angular/issues/15998\n */\nexport class RecursiveChildren<T> {\n  constructor(public featuresService: TreeFeaturesService<T>, @Optional() private expandService: IfExpandService) {\n    if (expandService) {\n      this.subscription = this.expandService.expandChange.subscribe(value => {\n        if (!value && this.parent && !this.featuresService.eager && this.featuresService.recursion) {\n          // In the case of lazy-loading recursive trees, we clear the children on collapse.\n          // This is better in case they change between two user interaction, and that way\n          // the app itself can decide whether to cache them or not.\n          (<RecursiveTreeNodeModel<T>>this.parent).clearChildren();\n        }\n      });\n    }\n  }\n\n  shouldRender() {\n    return (\n      this.featuresService.recursion &&\n      // In the smart case, we eagerly render all the recursive children\n      // to make sure two-way bindings for selection are available.\n      // They will be hidden with CSS by the parent.\n      (this.featuresService.eager || !this.expandService || this.expandService.expanded)\n    );\n  }\n\n  // Offering the option to either give the parent node to recurse potentially lazily,\n  // or directly the list of children to display.\n  @Input('parent') parent: TreeNodeModel<T>;\n  @Input('children') children: TreeNodeModel<T>[];\n\n  getContext(node: TreeNodeModel<T>): ClrRecursiveForOfContext<T> {\n    return {\n      $implicit: node.model,\n      clrModel: node,\n    };\n  }\n\n  subscription: Subscription;\n\n  ngOnDestroy() {\n    if (this.subscription) {\n      this.subscription.unsubscribe();\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule, Type } from '@angular/core';\n\nimport { ClrIconModule } from '../../icon/icon.module';\nimport { ClrLoadingModule } from '../../utils/loading/loading.module';\nimport { ClrTreeNode } from './tree-node';\nimport { ClrTree } from './tree';\nimport { ClrRecursiveForOf } from './recursive-for-of';\nimport { RecursiveChildren } from './recursive-children';\nimport { ClrTreeNodeLink } from './tree-node-link';\n\nexport const CLR_TREE_VIEW_DIRECTIVES: Type<any>[] = [ClrTree, ClrTreeNode, ClrRecursiveForOf, ClrTreeNodeLink];\n\n@NgModule({\n  imports: [CommonModule, ClrIconModule, ClrLoadingModule],\n  declarations: [CLR_TREE_VIEW_DIRECTIVES, RecursiveChildren],\n  exports: [CLR_TREE_VIEW_DIRECTIVES],\n})\nexport class ClrTreeViewModule {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { NgModule } from '@angular/core';\nimport { ClrDatagridModule } from './datagrid/datagrid.module';\nimport { ClrStackViewModule } from './stack-view/stack-view.module';\nimport { ClrTreeViewModule } from './tree-view/tree-view.module';\n\n@NgModule({ exports: [ClrDatagridModule, ClrStackViewModule, ClrTreeViewModule] })\nexport class ClrDataModule {}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Observable } from 'rxjs';\n\nexport abstract class FocusableItem {\n  id: string;\n  disabled?: boolean;\n\n  abstract focus(): void;\n  abstract blur(): void;\n  abstract activate?(): void;\n\n  up?: FocusableItem | Observable<FocusableItem>;\n  down?: FocusableItem | Observable<FocusableItem>;\n  left?: FocusableItem | Observable<FocusableItem>;\n  right?: FocusableItem | Observable<FocusableItem>;\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Type } from '@angular/core';\nimport { UNIQUE_ID_PROVIDER } from '../../id-generator/id-generator.service';\nimport { FocusableItem } from './focusable-item';\n\nexport function customFocusableItemProvider<T>(implementation: Type<T>) {\n  return [\n    UNIQUE_ID_PROVIDER,\n    implementation,\n    {\n      provide: FocusableItem,\n      useExisting: implementation,\n    },\n  ];\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nexport enum ArrowKeyDirection {\n  UP = 'up',\n  DOWN = 'down',\n  LEFT = 'left',\n  RIGHT = 'right',\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable, Optional, Renderer2, SkipSelf } from '@angular/core';\nimport { isObservable, of } from 'rxjs';\n\nimport { ArrowKeyDirection } from './arrow-key-direction.enum';\nimport { FocusableItem } from './focusable-item/focusable-item';\n\n@Injectable()\nexport class FocusService {\n  constructor(private renderer: Renderer2) {}\n\n  private _unlistenFuncs = [];\n  private _current: FocusableItem;\n  public get current() {\n    return this._current;\n  }\n\n  reset(first: FocusableItem) {\n    this._current = first;\n  }\n\n  listenToArrowKeys(el: HTMLElement) {\n    // The following listeners return false when there was an action to take for the key pressed,\n    // in order to prevent the default behavior of that key.\n    this._unlistenFuncs.push(this.renderer.listen(el, 'keydown.arrowup', event => !this.move(ArrowKeyDirection.UP)));\n    this._unlistenFuncs.push(\n      this.renderer.listen(el, 'keydown.arrowdown', event => !this.move(ArrowKeyDirection.DOWN))\n    );\n    this._unlistenFuncs.push(\n      this.renderer.listen(el, 'keydown.arrowleft', event => !this.move(ArrowKeyDirection.LEFT))\n    );\n    this._unlistenFuncs.push(\n      this.renderer.listen(el, 'keydown.arrowright', event => !this.move(ArrowKeyDirection.RIGHT))\n    );\n  }\n\n  registerContainer(el: HTMLElement) {\n    this.renderer.setAttribute(el, 'tabindex', '0');\n    this.listenToArrowKeys(el);\n    // The following listeners return false when there was an action to take for the key pressed,\n    // in order to prevent the default behavior of that key.\n    this._unlistenFuncs.push(this.renderer.listen(el, 'keydown.space', () => !this.activateCurrent()));\n    this._unlistenFuncs.push(this.renderer.listen(el, 'keydown.enter', () => !this.activateCurrent()));\n  }\n\n  moveTo(item: FocusableItem) {\n    /**\n     * Make sure that item is not undefined,\n     * This is safety net in the case that someone sometime decide to\n     * call this method without having FocusableItem.\n     */\n    if (item === undefined) {\n      return;\n    }\n\n    if (this.current) {\n      this.current.blur();\n    }\n    item.focus();\n    this._current = item;\n  }\n\n  move(direction: ArrowKeyDirection): boolean {\n    let moved = false;\n    if (this.current) {\n      const next = this.current[direction];\n      if (next) {\n        // Turning the value into an Observable isn't great, but it's the fastest way to avoid code duplication.\n        // If performance ever matters for this, we can refactor using additional private methods.\n        const nextObs = isObservable(next) ? next : of(next);\n        nextObs.subscribe(item => {\n          if (item) {\n            this.moveTo(item);\n            moved = true;\n          }\n        });\n      }\n    }\n    return moved;\n  }\n\n  activateCurrent() {\n    if (this.current && this.current.activate) {\n      this.current.activate();\n      return true;\n    }\n    return false;\n  }\n\n  public detachListeners() {\n    this._unlistenFuncs.forEach((unlisten: () => void) => unlisten());\n  }\n}\n\nexport function clrFocusServiceFactory(existing: FocusService, renderer: Renderer2) {\n  return existing || new FocusService(renderer);\n}\n\nexport const FOCUS_SERVICE_PROVIDER = {\n  provide: FocusService,\n  useFactory: clrFocusServiceFactory,\n  deps: [[new Optional(), new SkipSelf(), FocusService], Renderer2],\n};\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Observable } from 'rxjs';\nimport { ArrowKeyDirection } from '../arrow-key-direction.enum';\nimport { FocusableItem } from './focusable-item';\n\nexport class Linkers {\n  /**\n   * Links a set of focusable items to a parent along one direction\n   */\n  static linkParent(\n    items: FocusableItem[],\n    parent: FocusableItem | Observable<FocusableItem>,\n    direction: ArrowKeyDirection\n  ) {\n    items.forEach(item => (item[direction] = parent));\n  }\n\n  /**\n   * Double-links a set of focusable items vertically, possibly looping\n   */\n  static linkVertical(items: FocusableItem[], loop = true) {\n    items.forEach((item, index) => {\n      if (index > 0) {\n        item.up = items[index - 1];\n      }\n      if (index < items.length - 1) {\n        item.down = items[index + 1];\n      }\n    });\n    if (loop && items.length > 1) {\n      items[0].up = items[items.length - 1];\n      items[items.length - 1].down = items[0];\n    }\n  }\n}\n\n// Right now I only need the two linkers above, but we can easily add more linkers. A couple examples:\n// export function linkHorizontal(items: FocusableItem[], loop = true);\n// export function linkTable(items: FocusableItem[][]);\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Observable, Observer } from 'rxjs';\n\nexport function wrapObservable<T>(\n  observable: Observable<T>,\n  onSubscribe?: (observer: Observer<T>) => void,\n  onUnsubscribe?: (observer: Observer<T>) => void\n): Observable<T> {\n  return Observable.create((observer: Observer<T>) => {\n    onSubscribe(observer);\n    const subscription = observable.subscribe(observer);\n    return () => {\n      subscription.unsubscribe();\n      if (onUnsubscribe) {\n        onUnsubscribe(observer);\n      }\n    };\n  });\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { isPlatformBrowser } from '@angular/common';\nimport { Inject, Injectable, Optional, PLATFORM_ID, Renderer2, SkipSelf } from '@angular/core';\nimport { Observable, of, ReplaySubject } from 'rxjs';\nimport { map, take } from 'rxjs/operators';\nimport { ClrPopoverToggleService } from '../../../utils/popover/providers/popover-toggle.service';\nimport { customFocusableItemProvider } from '../../../utils/focus/focusable-item/custom-focusable-item-provider';\nimport { UNIQUE_ID } from '../../../utils/id-generator/id-generator.service';\nimport { ArrowKeyDirection } from '../../../utils/focus/arrow-key-direction.enum';\nimport { FocusService } from '../../../utils/focus/focus.service';\nimport { FocusableItem } from '../../../utils/focus/focusable-item/focusable-item';\nimport { Linkers } from '../../../utils/focus/focusable-item/linkers';\nimport { wrapObservable } from '../../../utils/focus/wrap-observable';\n\n@Injectable()\nexport class DropdownFocusHandler implements FocusableItem {\n  constructor(\n    @Inject(UNIQUE_ID) public id: string,\n    private renderer: Renderer2,\n    @SkipSelf()\n    @Optional()\n    private parent: DropdownFocusHandler,\n    private toggleService: ClrPopoverToggleService,\n    private focusService: FocusService,\n    @Inject(PLATFORM_ID) private platformId: Object\n  ) {\n    this.resetChildren();\n    this.moveToFirstItemWhenOpen();\n    if (!this.parent) {\n      this.handleRootFocus();\n    }\n  }\n\n  private _unlistenFuncs = [];\n\n  /**\n   * If the dropdown was opened by clicking on the trigger, we automatically move to the first item\n   */\n  moveToFirstItemWhenOpen() {\n    this.toggleService.openChange.subscribe(open => {\n      if (open && this.toggleService.originalEvent) {\n        // Even if we properly waited for ngAfterViewInit, the container still wouldn't be attached to the DOM.\n        // So setTimeout is the only way to wait for the container to be ready to move focus to first item.\n        setTimeout(() => {\n          this.focusService.moveTo(this);\n          if (this.parent) {\n            this.focusService.move(ArrowKeyDirection.RIGHT);\n          } else {\n            this.focusService.move(ArrowKeyDirection.DOWN);\n          }\n        });\n      }\n    });\n  }\n\n  private focusBackOnTrigger = false;\n\n  /**\n   * Focus on the menu when it opens, and focus back on the root trigger when the whole dropdown becomes closed\n   */\n  handleRootFocus() {\n    this.toggleService.openChange.subscribe(open => {\n      if (!open) {\n        // We reset the state of the focus service both on initialization and when closing.\n        this.focusService.reset(this);\n        // But we only actively focus the trigger when closing, not on initialization.\n        if (this.focusBackOnTrigger) {\n          this.focus();\n        }\n      }\n      this.focusBackOnTrigger = open;\n    });\n  }\n\n  private _trigger: HTMLElement;\n  get trigger() {\n    return this._trigger;\n  }\n  set trigger(el: HTMLElement) {\n    this._trigger = el;\n\n    if (this.parent) {\n      this._unlistenFuncs.push(\n        this.renderer.listen(el, 'keydown.arrowright', event => this.toggleService.toggleWithEvent(event))\n      );\n    } else {\n      this._unlistenFuncs.push(\n        this.renderer.listen(el, 'keydown.arrowup', event => this.toggleService.toggleWithEvent(event))\n      );\n      this._unlistenFuncs.push(\n        this.renderer.listen(el, 'keydown.arrowdown', event => this.toggleService.toggleWithEvent(event))\n      );\n      this.focusService.listenToArrowKeys(el);\n    }\n  }\n\n  private _container: HTMLElement;\n  get container() {\n    return this._container;\n  }\n  set container(el: HTMLElement) {\n    this._container = el;\n\n    // whether root container or not, tab key should always toggle (i.e. close) the container\n    this._unlistenFuncs.push(\n      this.renderer.listen(el, 'keydown.tab', event => this.toggleService.toggleWithEvent(event))\n    );\n\n    if (this.parent) {\n      // if it's a nested container, pressing esc has the same effect as pressing left key, which closes the current\n      // popup and moves up to its parent. Here, we stop propagation so that the parent container\n      // doesn't receive the esc keydown\n      this._unlistenFuncs.push(\n        this.renderer.listen(el, 'keydown.esc', event => {\n          this.focusService.move(ArrowKeyDirection.LEFT);\n          event.stopPropagation();\n        })\n      );\n    } else {\n      // The root container is the only one we register to the focus service, others do not need focus\n      this.focusService.registerContainer(el);\n\n      // The root container will simply close the container when esc key is pressed\n      this._unlistenFuncs.push(\n        this.renderer.listen(el, 'keydown.esc', event => this.toggleService.toggleWithEvent(event))\n      );\n\n      // When the user moves focus outside of the menu, we close the dropdown\n      this._unlistenFuncs.push(\n        this.renderer.listen(el, 'blur', event => {\n          // we clear out any existing focus on the items\n          this.children.pipe(take(1)).subscribe(items => items.forEach(item => item.blur()));\n\n          // event.relatedTarget is null in IE11. In that case we use document.activeElement which correctly points\n          // to the element we want to check. Note that other browsers might point document.activeElement to the\n          // wrong element. This is ok, because all the other browsers we support relies on event.relatedTarget.\n          const target = event.relatedTarget || document.activeElement;\n\n          // If the user clicks on an item which triggers the blur, we don't want to close it since it may open a submenu.\n          // In the case of needing to close it (i.e. user selected an item and the dropdown menu is set to close on\n          // selection), dropdown-item.ts handles it.\n          if (target && isPlatformBrowser(this.platformId)) {\n            if (el.contains(target) || target === this.trigger) {\n              return;\n            }\n          }\n          // We let the user move focus to where the want, we don't force the focus back on the trigger\n          this.focusBackOnTrigger = false;\n          this.toggleService.open = false;\n        })\n      );\n    }\n  }\n\n  focus() {\n    if (this.trigger && isPlatformBrowser(this.platformId)) {\n      this.trigger.focus();\n    }\n  }\n  blur() {\n    if (this.trigger && isPlatformBrowser(this.platformId)) {\n      this.trigger.blur();\n    }\n  }\n\n  activate() {\n    if (isPlatformBrowser(this.platformId)) {\n      this.trigger.click();\n    }\n  }\n\n  private children: ReplaySubject<FocusableItem[]>;\n  right?: Observable<FocusableItem>;\n  down?: Observable<FocusableItem>;\n  up?: Observable<FocusableItem>;\n\n  private openAndGetChildren() {\n    return wrapObservable(this.children, () => (this.toggleService.open = true));\n  }\n  private closeAndGetThis() {\n    return wrapObservable(of(this), () => (this.toggleService.open = false));\n  }\n\n  resetChildren() {\n    this.children = new ReplaySubject<FocusableItem[]>(1);\n    if (this.parent) {\n      this.right = this.openAndGetChildren().pipe(map(all => all[0]));\n    } else {\n      this.down = this.openAndGetChildren().pipe(map(all => all[0]));\n      this.up = this.openAndGetChildren().pipe(map(all => all[all.length - 1]));\n    }\n  }\n\n  addChildren(children: FocusableItem[]) {\n    Linkers.linkVertical(children);\n    if (this.parent) {\n      Linkers.linkParent(children, this.closeAndGetThis(), ArrowKeyDirection.LEFT);\n    }\n    this.children.next(children);\n  }\n\n  ngOnDestroy() {\n    this._unlistenFuncs.forEach((unlisten: () => void) => unlisten());\n    this.focusService.detachListeners();\n  }\n}\n\nexport const DROPDOWN_FOCUS_HANDLER_PROVIDER = customFocusableItemProvider(DropdownFocusHandler);\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Injectable, Optional, SkipSelf } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { Subject } from 'rxjs';\n\n@Injectable()\nexport class RootDropdownService {\n  private _changes: Subject<boolean> = new Subject<boolean>();\n\n  get changes(): Observable<boolean> {\n    return this._changes.asObservable();\n  }\n\n  closeMenus(): void {\n    this._changes.next(false);\n  }\n}\n\nexport function clrRootDropdownFactory(existing: RootDropdownService) {\n  return existing || new RootDropdownService();\n}\n\nexport const ROOT_DROPDOWN_PROVIDER = {\n  provide: RootDropdownService,\n  useFactory: clrRootDropdownFactory,\n  deps: [[new Optional(), new SkipSelf(), RootDropdownService]],\n};\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { ChangeDetectorRef, Component, ElementRef, Input, OnDestroy, Optional, SkipSelf } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { POPOVER_HOST_ANCHOR } from '../common/popover-host-anchor.token';\nimport { DROPDOWN_FOCUS_HANDLER_PROVIDER } from './providers/dropdown-focus-handler.service';\nimport { FOCUS_SERVICE_PROVIDER } from '../../utils/focus/focus.service';\n\nimport { ROOT_DROPDOWN_PROVIDER, RootDropdownService } from './providers/dropdown.service';\nimport { ClrPopoverToggleService } from '../../utils/popover/providers/popover-toggle.service';\n\n@Component({\n  selector: 'clr-dropdown',\n  template: '<ng-content></ng-content>',\n  host: {\n    '[class.dropdown]': 'true',\n    '[class.open]': 'toggleService.open',\n  },\n  providers: [\n    ROOT_DROPDOWN_PROVIDER,\n    { provide: POPOVER_HOST_ANCHOR, useExisting: ElementRef },\n    FOCUS_SERVICE_PROVIDER,\n    ClrPopoverToggleService,\n    DROPDOWN_FOCUS_HANDLER_PROVIDER,\n  ],\n})\nexport class ClrDropdown implements OnDestroy {\n  private subscriptions: Subscription[] = [];\n\n  constructor(\n    @SkipSelf()\n    @Optional()\n    public parent: ClrDropdown,\n    public toggleService: ClrPopoverToggleService,\n    private cdr: ChangeDetectorRef,\n    dropdownService: RootDropdownService\n  ) {\n    this.subscriptions.push(dropdownService.changes.subscribe(value => (this.toggleService.open = value)));\n    this.subscriptions.push(toggleService.openChange.subscribe(value => this.cdr.markForCheck()));\n  }\n\n  @Input('clrCloseMenuOnItemClick') isMenuClosable: boolean = true;\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { isPlatformBrowser } from '@angular/common';\nimport { ElementRef, Inject, Injectable, PLATFORM_ID, Renderer2 } from '@angular/core';\nimport { UNIQUE_ID, UNIQUE_ID_PROVIDER } from '../../id-generator/id-generator.service';\nimport { FocusableItem } from './focusable-item';\n\n@Injectable()\nexport class BasicFocusableItem implements FocusableItem {\n  constructor(\n    @Inject(UNIQUE_ID) public id: string,\n    private el: ElementRef<HTMLElement>,\n    private renderer: Renderer2,\n    @Inject(PLATFORM_ID) private platformId: Object\n  ) {\n    renderer.setAttribute(el.nativeElement, 'id', id);\n    renderer.setAttribute(el.nativeElement, 'tabindex', '-1');\n  }\n\n  disabled = false;\n\n  focus() {\n    if (isPlatformBrowser(this.platformId)) {\n      this.renderer.setAttribute(this.el.nativeElement, 'tabindex', '0');\n      this.el.nativeElement.focus();\n    }\n  }\n  blur() {\n    if (isPlatformBrowser(this.platformId)) {\n      this.renderer.setAttribute(this.el.nativeElement, 'tabindex', '-1');\n      this.el.nativeElement.blur();\n    }\n  }\n\n  activate() {\n    if (isPlatformBrowser(this.platformId)) {\n      this.el.nativeElement.click();\n    }\n  }\n}\n\nexport const BASIC_FOCUSABLE_ITEM_PROVIDER = [\n  UNIQUE_ID_PROVIDER,\n  {\n    provide: FocusableItem,\n    useClass: BasicFocusableItem,\n  },\n];\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { AfterViewInit, Directive, ElementRef, Input, Renderer2 } from '@angular/core';\n\nimport { ClrDropdown } from './dropdown';\nimport { BASIC_FOCUSABLE_ITEM_PROVIDER } from '../../utils/focus/focusable-item/basic-focusable-item.service';\nimport { FocusableItem } from '../../utils/focus/focusable-item/focusable-item';\nimport { RootDropdownService } from './providers/dropdown.service';\n\n@Directive({\n  selector: '[clrDropdownItem]',\n  host: {\n    '[class.disabled]': 'disabled',\n    '[class.dropdown-item]': 'true',\n    '[attr.role]': '\"menuitem\"',\n    '[attr.aria-disabled]': 'disabled',\n    '[attr.disabled]': \"(disabled && setByDeprecatedDisabled)? '' : null\",\n    '[attr.id]': 'dropdownItemId',\n  },\n  providers: [BASIC_FOCUSABLE_ITEM_PROVIDER],\n})\nexport class ClrDropdownItem implements AfterViewInit {\n  constructor(\n    private dropdown: ClrDropdown,\n    private el: ElementRef<HTMLElement>,\n    private _dropdownService: RootDropdownService,\n    private renderer: Renderer2,\n    private focusableItem: FocusableItem\n  ) {}\n\n  private unlisten;\n  public setByDeprecatedDisabled: boolean = false;\n\n  @Input('clrDisabled')\n  set disabled(value: boolean | string) {\n    // Empty string attribute evaluates to false but should disable the item, so we need to add a special case for it.\n    this.focusableItem.disabled = !!value || value === '';\n  }\n\n  get disabled() {\n    return this.focusableItem.disabled;\n  }\n\n  /*\n   * @deprecated since 3.0, remove in 4.0. the presence of this attribute makes it not-focusable in IE11. Use [clrDisabled] input instead.\n   */\n  @Input('disabled')\n  set disabledDeprecated(value: boolean | string) {\n    // Empty string attribute evaluates to false but should disable the item, so we need to add a special case for it.\n    this.focusableItem.disabled = !!value || value === '';\n    this.setByDeprecatedDisabled = true;\n  }\n\n  get disabledDeprecated() {\n    return this.focusableItem.disabled;\n  }\n\n  /**\n   * Let you overwrite the focusable auto increment id.\n   */\n  @Input('id')\n  set dropdownItemId(value: string) {\n    this.focusableItem.id = value;\n  }\n  get dropdownItemId() {\n    return this.focusableItem.id;\n  }\n\n  ngAfterViewInit() {\n    this.unlisten = this.renderer.listen(this.el.nativeElement, 'click', () => this.onDropdownItemClick());\n  }\n\n  onDropdownItemClick(): void {\n    if (this.dropdown.isMenuClosable && !this.el.nativeElement.classList.contains('disabled')) {\n      this._dropdownService.closeMenus();\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.unlisten) {\n      this.unlisten();\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\n/*\n * Do NOT Angular this up. It assumes we're in the DOM, plays with native elements, ...\n * It could potentially be used as part of @clr/ui as a vanilla Javascript helper.\n */\n\nimport { Observable } from 'rxjs';\nimport { Subject } from 'rxjs';\nimport { PopoverOptions } from './popover-options.interface';\nexport enum Point {\n  RIGHT_CENTER,\n  RIGHT_TOP,\n  RIGHT_BOTTOM,\n  TOP_CENTER,\n  TOP_RIGHT,\n  TOP_LEFT,\n  BOTTOM_CENTER,\n  BOTTOM_RIGHT,\n  BOTTOM_LEFT,\n  LEFT_CENTER,\n  LEFT_TOP,\n  LEFT_BOTTOM,\n}\n\nconst POSITION_RELATIVE = 'relative';\nconst POSITION_ABSOLUTE = 'absolute';\nconst POSITION_FIXED = 'fixed';\n\nconst OVERFLOW_SCROLL = 'scroll';\nconst OVERFLOW_AUTO = 'auto';\n\nexport class Popover {\n  private _scroll: Subject<void>;\n\n  constructor(private element: any) {\n    // Browsers don't agree with what to do if some of these are not specified, so we set them all to be safe.\n    element.style.position = POSITION_ABSOLUTE;\n    element.style.top = 0;\n    element.style.bottom = 'auto';\n    element.style.left = 0;\n    element.style.right = 'auto';\n  }\n\n  // TODO: need a way to account for parameters that change dynamically (positioning).\n  public anchor(\n    anchor: any,\n    anchorAlign: Point,\n    popoverAlign: Point,\n    { offsetX = 0, offsetY = 0, useAnchorParent = false }: PopoverOptions = {}\n  ): Observable<any> {\n    // TODO: we are assuming here that the popover is inside or next to the anchor.\n    // We'd need to go up the popover tree too otherwise\n\n    this.addScrollEventListeners(anchor);\n    if (useAnchorParent) {\n      anchor = anchor.parentNode;\n    }\n    // explicitly override anchor's style to static\n    anchor.style.position = 'static';\n\n    const anchorRect = anchor.getBoundingClientRect();\n    const popoverRect = this.element.getBoundingClientRect();\n\n    // position of left top corner of anchor + the offset\n    let leftDiff: number = anchorRect.left - popoverRect.left + offsetX;\n    let topDiff: number = anchorRect.top - popoverRect.top + offsetY;\n\n    // first, adjust positioning based on anchor's align point\n    switch (anchorAlign) {\n      case Point.LEFT_TOP:\n      case Point.TOP_LEFT:\n        break;\n      case Point.TOP_CENTER:\n        leftDiff += anchorRect.width / 2;\n        break;\n      case Point.TOP_RIGHT:\n        leftDiff += anchorRect.width;\n        break;\n      case Point.RIGHT_TOP:\n        leftDiff += anchorRect.width;\n        break;\n      case Point.LEFT_BOTTOM:\n        topDiff += anchorRect.height;\n        break;\n      case Point.BOTTOM_LEFT:\n        topDiff += anchorRect.height;\n        break;\n      case Point.BOTTOM_CENTER:\n        topDiff += anchorRect.height;\n        leftDiff += anchorRect.width / 2;\n        break;\n      case Point.BOTTOM_RIGHT:\n        topDiff += anchorRect.height;\n        leftDiff += anchorRect.width;\n        break;\n      case Point.RIGHT_BOTTOM:\n        topDiff += anchorRect.height;\n        leftDiff += anchorRect.width;\n        break;\n      case Point.LEFT_CENTER:\n        topDiff += anchorRect.height / 2;\n        break;\n      case Point.RIGHT_CENTER:\n        topDiff += anchorRect.height / 2;\n        leftDiff += anchorRect.width;\n        break;\n      default:\n    }\n\n    // second, adjust positioning based on popover's align point\n    switch (popoverAlign) {\n      case Point.LEFT_TOP:\n      case Point.TOP_LEFT:\n        break;\n      case Point.TOP_CENTER:\n        leftDiff -= popoverRect.width / 2;\n        break;\n      case Point.TOP_RIGHT:\n        leftDiff -= popoverRect.width;\n        break;\n      case Point.RIGHT_TOP:\n        leftDiff -= popoverRect.width;\n        break;\n      case Point.LEFT_BOTTOM:\n        topDiff -= popoverRect.height;\n        break;\n      case Point.BOTTOM_LEFT:\n        topDiff -= popoverRect.height;\n        break;\n      case Point.BOTTOM_CENTER:\n        topDiff -= popoverRect.height;\n        leftDiff -= popoverRect.width / 2;\n        break;\n      case Point.BOTTOM_RIGHT:\n        topDiff -= popoverRect.height;\n        leftDiff -= popoverRect.width;\n        break;\n      case Point.RIGHT_BOTTOM:\n        topDiff -= popoverRect.height;\n        leftDiff -= popoverRect.width;\n        break;\n      case Point.LEFT_CENTER:\n        topDiff -= popoverRect.height / 2;\n        break;\n      case Point.RIGHT_CENTER:\n        topDiff -= popoverRect.height / 2;\n        leftDiff -= popoverRect.width;\n        break;\n      default:\n    }\n\n    // Third, adjust with popover's margins based on the two align points.\n    // Here, we make an assumption that popover is primarily positioned outside the\n    // anchor with minor offset. Without this assumption, it's impossible to apply\n    // the popover's margins in a predictable way. For example, assume that a popover\n    // and its anchor are exactly the same size. if a popover is positioned inside the\n    // anchor (which is technically possible), then it becomes impossible to know what to do\n    // if the popover has a non-zero margin value all around (because applying the margin in\n    // all four directions will result in no margin visually, which isn't what we want).\n    // Therefore, our logic makes assumptions about margins of interest given the points,\n    // and only covers the cases where popover is outside the anchor.\n\n    const popoverComputedStyle = getComputedStyle(this.element);\n    const marginLeft = parseInt(popoverComputedStyle.marginLeft, 10);\n    const marginRight = parseInt(popoverComputedStyle.marginRight, 10);\n    const marginTop = parseInt(popoverComputedStyle.marginTop, 10);\n    const marginBottom = parseInt(popoverComputedStyle.marginBottom, 10);\n\n    switch (anchorAlign) {\n      case Point.LEFT_TOP:\n      case Point.TOP_LEFT:\n      case Point.TOP_RIGHT:\n      case Point.RIGHT_TOP:\n        if (popoverAlign === Point.BOTTOM_RIGHT || popoverAlign === Point.RIGHT_BOTTOM) {\n          topDiff -= marginBottom;\n          leftDiff -= marginRight;\n        }\n        if (popoverAlign === Point.BOTTOM_LEFT || popoverAlign === Point.LEFT_BOTTOM) {\n          topDiff -= marginTop;\n          leftDiff += marginLeft;\n        }\n        if (popoverAlign === Point.TOP_LEFT || popoverAlign === Point.LEFT_TOP) {\n          topDiff += marginTop;\n          leftDiff += marginLeft;\n        }\n        if (popoverAlign === Point.TOP_RIGHT || popoverAlign === Point.RIGHT_TOP) {\n          topDiff += marginTop;\n          leftDiff -= marginRight;\n        }\n        break;\n      case Point.LEFT_BOTTOM:\n      case Point.BOTTOM_LEFT:\n      case Point.BOTTOM_RIGHT:\n      case Point.RIGHT_BOTTOM:\n        if (popoverAlign === Point.BOTTOM_LEFT || popoverAlign === Point.LEFT_BOTTOM) {\n          topDiff -= marginBottom;\n          leftDiff += marginLeft;\n        }\n        if (popoverAlign === Point.BOTTOM_RIGHT || popoverAlign === Point.RIGHT_BOTTOM) {\n          topDiff -= marginBottom;\n          leftDiff -= marginRight;\n        }\n        if (popoverAlign === Point.TOP_LEFT || popoverAlign === Point.LEFT_TOP) {\n          topDiff += marginTop;\n          leftDiff += marginLeft;\n        }\n        if (popoverAlign === Point.TOP_RIGHT || popoverAlign === Point.RIGHT_TOP) {\n          topDiff += marginTop;\n          leftDiff -= marginRight;\n        }\n        break;\n      case Point.TOP_CENTER:\n        topDiff -= marginBottom;\n        leftDiff += marginLeft;\n        leftDiff -= marginRight;\n        break;\n      case Point.BOTTOM_CENTER:\n        topDiff += marginTop;\n        leftDiff += marginLeft;\n        leftDiff -= marginRight;\n        break;\n      case Point.LEFT_CENTER:\n        topDiff += marginTop;\n        topDiff -= marginBottom;\n        leftDiff -= marginRight;\n        break;\n      case Point.RIGHT_CENTER:\n        topDiff += marginTop;\n        topDiff -= marginBottom;\n        leftDiff += marginLeft;\n        break;\n      default:\n    }\n\n    this.element.style.transform = `translateX(${Math.round(leftDiff)}px) translateY(${Math.round(topDiff)}px)`;\n    return this._scroll.asObservable();\n  }\n\n  public release() {\n    this.element.style.transform = '';\n    this.removeScrollEventListeners();\n  }\n\n  private isPositioned(container: any) {\n    const position = getComputedStyle(container).position;\n    return position === POSITION_RELATIVE || position === POSITION_ABSOLUTE || position === POSITION_FIXED;\n  }\n\n  /*\n   * Containers up to the first positioned one will have an event on scroll\n   */\n\n  private scrollableElements: HTMLElement[] = [];\n\n  private emitScrollEvent() {\n    this._scroll.next();\n  }\n\n  private boundOnScrollListener: any = this.emitScrollEvent.bind(this);\n\n  private addScrollEventListeners(e: any) {\n    this._scroll = new Subject<void>();\n    const anchor: any = e;\n    let current: any = e;\n    while (current && current !== document) {\n      if (this.scrolls(current)) {\n        current.addEventListener('scroll', this.boundOnScrollListener);\n        this.scrollableElements.push(current);\n      }\n      if (current !== anchor && this.isPositioned(current)) {\n        break;\n      }\n      current = current.parentNode;\n    }\n  }\n\n  private removeScrollEventListeners() {\n    for (const elem of this.scrollableElements) {\n      elem.removeEventListener('scroll', this.boundOnScrollListener);\n    }\n    this.scrollableElements.length = 0;\n    if (this._scroll) {\n      this._scroll.complete();\n      delete this._scroll;\n    }\n  }\n\n  private scrolls(container: any): boolean {\n    const computedStyles = getComputedStyle(container);\n    return (\n      computedStyles.overflowX === OVERFLOW_SCROLL ||\n      computedStyles.overflowX === OVERFLOW_AUTO ||\n      computedStyles.overflowY === OVERFLOW_SCROLL ||\n      computedStyles.overflowY === OVERFLOW_AUTO\n    );\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport {\n  AfterViewChecked,\n  ElementRef,\n  HostBinding,\n  Injectable,\n  Injector,\n  OnDestroy,\n  Renderer2,\n  SkipSelf,\n} from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { ClrPopoverToggleService } from '../../utils/popover/providers/popover-toggle.service';\n\nimport { Point, Popover } from './popover';\nimport { PopoverOptions } from './popover-options.interface';\n\n// Literally any annotation would work here, but writing our own @HoneyBadger annotation feels overkill.\n@Injectable()\nexport abstract class AbstractPopover implements AfterViewChecked, OnDestroy {\n  constructor(injector: Injector, @SkipSelf() protected parentHost: ElementRef) {\n    this.el = injector.get(ElementRef);\n    this.toggleService = injector.get(ClrPopoverToggleService);\n    this.renderer = injector.get(Renderer2);\n    // Default anchor is the parent host\n    this.anchorElem = parentHost.nativeElement;\n\n    this.popoverInstance = new Popover(this.el.nativeElement);\n    this.subscription = this.toggleService.openChange.subscribe(change => {\n      if (change) {\n        this.anchor();\n        this.attachESCListener();\n      } else {\n        this.release();\n        this.detachESCListener();\n      }\n    });\n    if (this.toggleService.open) {\n      this.anchor();\n      this.attachESCListener();\n    }\n  }\n\n  protected el: ElementRef;\n  protected toggleService: ClrPopoverToggleService;\n  protected renderer: Renderer2;\n\n  private popoverInstance: Popover;\n  private subscription: Subscription;\n\n  private updateAnchor = false;\n\n  protected anchorElem: any;\n  protected anchorPoint: Point;\n  protected popoverPoint: Point;\n  protected popoverOptions: PopoverOptions = {};\n\n  protected ignoredElement: any;\n\n  protected anchor() {\n    this.updateAnchor = true;\n    // Ugh\n    this.ignore = this.toggleService.originalEvent;\n  }\n\n  protected release() {\n    this.detachOutsideClickListener();\n    this.popoverInstance.release();\n  }\n\n  ngAfterViewChecked() {\n    if (this.updateAnchor) {\n      this.updateAnchor = false;\n      this.popoverInstance\n        .anchor(this.anchorElem, this.anchorPoint, this.popoverPoint, this.popoverOptions)\n        .subscribe(() => {\n          // if a scroll event is detected, close the popover\n          this.toggleService.open = false;\n        });\n      this.attachOutsideClickListener();\n    }\n  }\n\n  ngOnDestroy() {\n    this.release();\n    this.detachESCListener();\n    this.subscription.unsubscribe();\n  }\n\n  /*\n     * Fallback to hide when *clrIfOpen is not being used\n     */\n\n  @HostBinding('class.is-off-screen')\n  get isOffScreen() {\n    return this.toggleService.open ? false : true;\n  }\n\n  /*\n     * Until https://github.com/angular/angular/issues/8785 is supported, we don't have any way to instantiate\n     * a separate directive on the host. So let's do dirty but performant for now.\n     */\n  public closeOnOutsideClick = false;\n  private hostClickListener: () => void;\n  private documentClickListener: () => void;\n  private documentESCListener: () => void;\n  private ignoredElementClickListener: () => void;\n  private ignore: any;\n\n  private attachESCListener(): void {\n    if (!this.popoverOptions.ignoreGlobalESCListener) {\n      this.documentESCListener = this.renderer.listen('document', 'keydown', event => {\n        if (event && event.key) {\n          if (event.key === 'Escape' || event.key === 'Esc') {\n            this.toggleService.open = false;\n          }\n        }\n      });\n    }\n  }\n\n  private detachESCListener(): void {\n    if (this.documentESCListener) {\n      this.documentESCListener();\n      delete this.documentESCListener;\n    }\n  }\n\n  private attachOutsideClickListener() {\n    if (this.closeOnOutsideClick) {\n      this.hostClickListener = this.renderer.listen(this.el.nativeElement, 'click', event => (this.ignore = event));\n      if (this.ignoredElement) {\n        this.ignoredElementClickListener = this.renderer.listen(\n          this.ignoredElement,\n          'click',\n          event => (this.ignore = event)\n        );\n      }\n      this.documentClickListener = this.renderer.listen('document', 'click', event => {\n        if (event === this.ignore) {\n          delete this.ignore;\n        } else {\n          this.toggleService.open = false;\n        }\n      });\n    }\n  }\n\n  private detachOutsideClickListener() {\n    if (this.closeOnOutsideClick) {\n      if (this.hostClickListener) {\n        this.hostClickListener();\n        delete this.hostClickListener;\n      }\n      if (this.ignoredElementClickListener) {\n        this.ignoredElementClickListener();\n        delete this.ignoredElementClickListener;\n      }\n      if (this.documentClickListener) {\n        this.documentClickListener();\n        delete this.documentClickListener;\n      }\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport {\n  AfterContentInit,\n  Component,\n  ContentChildren,\n  ElementRef,\n  Inject,\n  Injector,\n  Input,\n  OnDestroy,\n  Optional,\n  QueryList,\n  SkipSelf,\n} from '@angular/core';\nimport { AbstractPopover } from '../common/abstract-popover';\nimport { Point } from '../common/popover';\nimport { POPOVER_HOST_ANCHOR } from '../common/popover-host-anchor.token';\nimport { DropdownFocusHandler } from './providers/dropdown-focus-handler.service';\nimport { FocusableItem } from '../../utils/focus/focusable-item/focusable-item';\n\n@Component({\n  selector: 'clr-dropdown-menu',\n  template: `\n        <ng-content></ng-content>\n    `,\n  host: {\n    '[class.dropdown-menu]': 'true',\n    '[attr.role]': '\"menu\"',\n  },\n})\nexport class ClrDropdownMenu extends AbstractPopover implements AfterContentInit, OnDestroy {\n  constructor(\n    injector: Injector,\n    @Optional()\n    @Inject(POPOVER_HOST_ANCHOR)\n    parentHost: ElementRef<HTMLElement>,\n    @Optional()\n    @SkipSelf()\n    nested: ClrDropdownMenu,\n    focusHandler: DropdownFocusHandler\n  ) {\n    if (!parentHost) {\n      throw new Error('clr-dropdown-menu should only be used inside of a clr-dropdown');\n    }\n    super(injector, parentHost);\n    if (!nested) {\n      // Default positioning for normal dropdown is bottom-left\n      this.anchorPoint = Point.BOTTOM_LEFT;\n      this.popoverPoint = Point.LEFT_TOP;\n    } else {\n      // Default positioning for nested dropdown is right-top\n      this.anchorPoint = Point.RIGHT_TOP;\n      this.popoverPoint = Point.LEFT_TOP;\n    }\n    this.popoverOptions.allowMultipleOpen = true;\n    this.popoverOptions.ignoreGlobalESCListener = true;\n    this.closeOnOutsideClick = true;\n    this.focusHandler = focusHandler;\n  }\n\n  @Input('clrPosition')\n  set position(position: string) {\n    // set the popover values based on menu position\n    switch (position) {\n      case 'top-right':\n        this.anchorPoint = Point.TOP_RIGHT;\n        this.popoverPoint = Point.RIGHT_BOTTOM;\n        break;\n      case 'top-left':\n        this.anchorPoint = Point.TOP_LEFT;\n        this.popoverPoint = Point.LEFT_BOTTOM;\n        break;\n      case 'bottom-right':\n        this.anchorPoint = Point.BOTTOM_RIGHT;\n        this.popoverPoint = Point.RIGHT_TOP;\n        break;\n      case 'bottom-left':\n        this.anchorPoint = Point.BOTTOM_LEFT;\n        this.popoverPoint = Point.LEFT_TOP;\n        break;\n      case 'right-top':\n        this.anchorPoint = Point.RIGHT_TOP;\n        this.popoverPoint = Point.LEFT_TOP;\n        break;\n      case 'right-bottom':\n        this.anchorPoint = Point.RIGHT_BOTTOM;\n        this.popoverPoint = Point.LEFT_BOTTOM;\n        break;\n      case 'left-top':\n        this.anchorPoint = Point.LEFT_TOP;\n        this.popoverPoint = Point.RIGHT_TOP;\n        break;\n      case 'left-bottom':\n        this.anchorPoint = Point.LEFT_BOTTOM;\n        this.popoverPoint = Point.RIGHT_BOTTOM;\n        break;\n      default:\n        this.anchorPoint = Point.BOTTOM_LEFT;\n        this.popoverPoint = Point.LEFT_TOP;\n        break;\n    }\n  }\n\n  private focusHandler: DropdownFocusHandler;\n  @ContentChildren(FocusableItem) items: QueryList<FocusableItem>;\n\n  ngAfterContentInit() {\n    this.focusHandler.container = this.el.nativeElement;\n    this.items.changes.subscribe(() => this.focusHandler.addChildren(this.items.toArray()));\n    // I saw this on GitHub as a solution to avoid code duplication because of missed QueryList changes\n    this.items.notifyOnChanges();\n  }\n\n  ngOnDestroy() {\n    super.ngOnDestroy();\n    this.focusHandler.resetChildren();\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Directive, ElementRef, HostListener } from '@angular/core';\n\nimport { ClrPopoverToggleService } from '../../utils/popover/providers/popover-toggle.service';\n\nimport { ClrDropdown } from './dropdown';\nimport { DropdownFocusHandler } from './providers/dropdown-focus-handler.service';\n\n@Directive({\n  // We support both selectors for legacy reasons\n  selector: '[clrDropdownTrigger],[clrDropdownToggle]',\n  host: {\n    '[class.dropdown-toggle]': 'isRootLevelToggle',\n    '[class.dropdown-item]': '!isRootLevelToggle',\n    '[class.expandable]': '!isRootLevelToggle',\n    '[class.active]': 'active',\n    '[attr.aria-haspopup]': '\"menu\"',\n    '[attr.aria-expanded]': 'active',\n  },\n})\nexport class ClrDropdownTrigger {\n  public isRootLevelToggle: boolean = true;\n\n  constructor(\n    dropdown: ClrDropdown,\n    private toggleService: ClrPopoverToggleService,\n    el: ElementRef<HTMLElement>,\n    focusHandler: DropdownFocusHandler\n  ) {\n    // if the containing dropdown has a parent, then this is not the root level one\n    if (dropdown.parent) {\n      this.isRootLevelToggle = false;\n    }\n    focusHandler.trigger = el.nativeElement;\n  }\n\n  get active(): boolean {\n    return this.toggleService.open;\n  }\n\n  @HostListener('click', ['$event'])\n  onDropdownTriggerClick(event: any): void {\n    this.toggleService.toggleWithEvent(event);\n  }\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule, Type } from '@angular/core';\n\nimport { ClrIconModule } from '../../icon/icon.module';\nimport { ClrConditionalModule } from '../../utils/conditional/conditional.module';\n\nimport { ClrDropdown } from './dropdown';\nimport { ClrDropdownItem } from './dropdown-item';\nimport { ClrDropdownMenu } from './dropdown-menu';\nimport { ClrDropdownTrigger } from './dropdown-trigger';\n\nexport const CLR_DROPDOWN_DIRECTIVES: Type<any>[] = [ClrDropdown, ClrDropdownMenu, ClrDropdownTrigger, ClrDropdownItem];\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [CLR_DROPDOWN_DIRECTIVES],\n  exports: [CLR_DROPDOWN_DIRECTIVES, ClrConditionalModule, ClrIconModule],\n})\nexport class ClrDropdownModule {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\n// @TODO Make this an enum\nexport const ALERT_TYPES: string[] = ['info', 'warning', 'danger', 'success'];\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable } from '@angular/core';\n\nimport { AlertInfoObject } from '../utils/alert-info-object';\nimport { ALERT_TYPES } from '../utils/alert-types';\nimport { ClrCommonStringsService } from '../../../utils/i18n/common-strings.service';\n\n@Injectable()\nexport class AlertIconAndTypesService {\n  constructor(private commonStrings: ClrCommonStringsService) {}\n\n  private defaultIconShape = 'info-circle';\n  private _alertIconShape = '';\n  private _alertType = 'info';\n\n  get alertType(): string {\n    return this._alertType;\n  }\n  set alertType(val: string) {\n    if (ALERT_TYPES.indexOf(val) > -1) {\n      this._alertType = val;\n    }\n  }\n\n  get alertIconShape(): string {\n    if ('' === this._alertIconShape) {\n      return this.iconInfoFromType(this._alertType).shape;\n    }\n    return this._alertIconShape;\n  }\n  set alertIconShape(val: string) {\n    if (!val) {\n      this._alertIconShape = '';\n    } else if (val !== this._alertIconShape) {\n      this._alertIconShape = val;\n    }\n  }\n\n  get alertIconTitle(): string {\n    return this.iconInfoFromType(this._alertType).title;\n  }\n\n  public iconInfoFromType(type: string): AlertInfoObject {\n    const returnObj = { shape: '', cssClass: '', title: '' };\n\n    switch (type) {\n      case 'warning':\n        returnObj.shape = 'exclamation-triangle';\n        returnObj.cssClass = 'alert-warning';\n        returnObj.title = this.commonStrings.keys.warning;\n        break;\n      case 'danger':\n        returnObj.shape = 'exclamation-circle';\n        returnObj.cssClass = 'alert-danger';\n        returnObj.title = this.commonStrings.keys.danger;\n        break;\n      case 'success':\n        returnObj.shape = 'check-circle';\n        returnObj.cssClass = 'alert-success';\n        returnObj.title = this.commonStrings.keys.success;\n        break;\n      default:\n        returnObj.shape = this.defaultIconShape;\n        returnObj.cssClass = 'alert-info';\n        returnObj.title = this.commonStrings.keys.info;\n        break;\n    }\n\n    return returnObj;\n  }\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Injectable, QueryList } from '@angular/core';\nimport { Observable, Subject, Subscription } from 'rxjs';\nimport { ClrAlert } from '../alert';\n\n@Injectable()\nexport class MultiAlertService {\n  private subscription: Subscription;\n\n  private allAlerts: QueryList<ClrAlert>;\n\n  /**\n   * The Observable that lets other classes subscribe to changes\n   */\n  private _change = new Subject<number>();\n  public get changes(): Observable<number> {\n    return this._change.asObservable();\n  }\n\n  private _current: number;\n\n  get current() {\n    return this._current;\n  }\n  set current(index: number) {\n    if (index !== this._current) {\n      this._current = index;\n      this._change.next(index);\n    }\n  }\n\n  get activeAlerts() {\n    return this.allAlerts && this.allAlerts.filter(alert => !alert._closed);\n  }\n\n  get currentAlert() {\n    return this.activeAlerts && this.activeAlerts[this.current];\n  }\n\n  set currentAlert(alert: ClrAlert) {\n    this.current = this.activeAlerts.indexOf(alert);\n  }\n\n  get count() {\n    return (this.activeAlerts && this.activeAlerts.length) || 0;\n  }\n\n  manage(alerts: QueryList<ClrAlert>) {\n    if (this.subscription) {\n      this.subscription.unsubscribe();\n    }\n    this.allAlerts = alerts;\n    // After receiving alerts' QueryList,\n    // we are picking index 0 as current by default if a user hasn't any index\n    this.current = typeof this._current === 'number' ? this._current : 0;\n    // we have to also broadcast that initial index\n    this._change.next(this.current);\n\n    this.subscription = this.allAlerts.changes.subscribe(() => {\n      if (this.current >= this.allAlerts.length) {\n        this.current = Math.max(0, this.allAlerts.length - 1);\n      }\n    });\n  }\n\n  next() {\n    this.current = this.current === this.activeAlerts.length - 1 ? 0 : this.current + 1;\n  }\n\n  previous() {\n    if (this.activeAlerts.length === 0) {\n      return;\n    }\n    this.current = this.current === 0 ? this.activeAlerts.length - 1 : this.current - 1;\n  }\n\n  close() {\n    this.previous();\n  }\n\n  destroy() {\n    if (this.subscription) {\n      this.subscription.unsubscribe();\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Directive } from '@angular/core';\n\n/**\n * @remark\n * This directive is used only of selectin alert text.\n */\n@Directive({\n  selector: '.alert-text',\n})\nexport class ClrAlertText {}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport {\n  ChangeDetectorRef,\n  ElementRef,\n  Component,\n  EventEmitter,\n  Input,\n  Optional,\n  Output,\n  AfterViewInit,\n  ContentChildren,\n  QueryList,\n  OnInit,\n  OnDestroy,\n} from '@angular/core';\n\n// providers\nimport { AlertIconAndTypesService } from './providers/icon-and-types.service';\nimport { MultiAlertService } from './providers/multi-alert.service';\nimport { isBooleanAttributeSet } from '../../utils/component/is-boolean-attribute-set';\nimport { ClrCommonStringsService } from '../../utils/i18n/common-strings.service';\nimport { ClrAriaLiveService, ClrAriaLivePoliteness } from '../../utils/a11y/aria-live.service';\nimport { ClrAlertText } from './alert-text';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'clr-alert',\n  providers: [AlertIconAndTypesService, ClrAriaLiveService],\n  templateUrl: './alert.html',\n  styles: [':host { display: block; }'],\n})\nexport class ClrAlert implements OnInit, OnDestroy, AfterViewInit {\n  private subscriptions: Subscription[] = [];\n\n  constructor(\n    private iconService: AlertIconAndTypesService,\n    private cdr: ChangeDetectorRef,\n    @Optional() private multiAlertService: MultiAlertService,\n    private commonStrings: ClrCommonStringsService,\n    private ariaLiveService: ClrAriaLiveService\n  ) {}\n\n  ngOnInit() {\n    if (this.multiAlertService) {\n      this.subscriptions.push(\n        this.multiAlertService.changes.subscribe(() => {\n          this.hidden = this.multiAlertService.currentAlert !== this;\n        })\n      );\n    }\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n  }\n\n  ngAfterViewInit() {\n    // Announce the first time the alert is render if it is not hidden\n    this.announceAriaLiveMessage();\n  }\n\n  @Input('clrAlertSizeSmall') isSmall: boolean = false;\n  @Input('clrAlertClosable') closable: boolean = true;\n  @Input('clrAlertAppLevel') isAppLevel: boolean = false;\n\n  // Aria\n  @Input() clrCloseButtonAriaLabel: string = this.commonStrings.keys.alertCloseButtonAriaLabel;\n\n  @Input('clrAlertClosed') _closed: boolean = false;\n  @Output('clrAlertClosedChange') _closedChanged: EventEmitter<boolean> = new EventEmitter<boolean>(false);\n\n  @Input('clrAlertType')\n  set alertType(val: string) {\n    this.iconService.alertType = val;\n  }\n\n  get alertType(): string {\n    return this.iconService.alertType;\n  }\n\n  /**\n   * clrPolite is not used in the code. Is here just to provide\n   * code complition and also mark component what type AriaLive\n   * will be used.\n   */\n  /** @deprecated since 3.0, remove in 4.0 */\n  @Input('clrPolite') polite: boolean = true;\n  /** @deprecated since 3.0, remove in 4.0 */\n  @Input('clrAssertive') assertive: boolean;\n  /** @deprecated since 3.0, remove in 4.0 */\n  @Input('clrOff') off: boolean;\n  /**\n   * There is an order on how the attributes will take effect.\n   * Assertive, Off, Polite.\n   *\n   * Polite is default if non is passed.\n   *\n   * In the case of setting all of them to true. Assertive will be used.\n   *\n   */\n  get ariaLive(): ClrAriaLivePoliteness {\n    if (isBooleanAttributeSet(this.assertive)) {\n      return ClrAriaLivePoliteness.assertive;\n    }\n    if (isBooleanAttributeSet(this.off)) {\n      return ClrAriaLivePoliteness.off;\n    }\n    return ClrAriaLivePoliteness.polite;\n  }\n\n  @Input('clrAlertIcon')\n  set alertIconShape(value: string) {\n    this.iconService.alertIconShape = value;\n  }\n\n  get alertClass(): string {\n    return this.iconService.iconInfoFromType(this.iconService.alertType).cssClass;\n  }\n\n  @ContentChildren(ClrAlertText, { descendants: true, read: ElementRef })\n  alertTexts: QueryList<ElementRef>;\n  /**\n   * This handle the find what content to be annonced withing the aria-live container\n   * alerts that are hidden will be ignored.\n   *\n   * @remark\n   * We depend on the ClrAlertText Directive to find and parse the alert messages.\n   * Also this require the HTML markup for the alert to be\n   * ```html\n   * <div class=\"alert\" role=\"alert\">\n   *    <div class=\"alert-items\">\n   *        <div class=\"alert-item static\">\n   *            <span class=\"alert-text\">\n   *                 ...\n   *            </span>\n   *        </div>\n   *    </div>\n   * </div>\n   * ```\n   */\n  private announceAriaLiveMessage(): void {\n    if (!this.hidden && this.alertTexts.length) {\n      const message = this.alertTexts.map(alertText => alertText.nativeElement.textContent).join(' ');\n      // Don't call announce when there is nothing to say\n      if (message) {\n        this.ariaLiveService.announce(message, this.ariaLive);\n      }\n    }\n  }\n\n  private _hidden: boolean;\n\n  set hidden(value: boolean) {\n    if (value !== this._hidden) {\n      this._hidden = value;\n      this.cdr.detectChanges();\n    }\n  }\n\n  get hidden() {\n    return this._hidden;\n  }\n\n  close(): void {\n    if (!this.closable) {\n      return;\n    }\n    this._closed = true;\n    if (this.multiAlertService) {\n      this.multiAlertService.close();\n    }\n    this._closedChanged.emit(true);\n  }\n\n  open(): void {\n    this._closed = false;\n    this._closedChanged.emit(false);\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component } from '@angular/core';\nimport { AlertIconAndTypesService } from './providers/icon-and-types.service';\n\n@Component({\n  selector: 'clr-alert-item',\n  template: `\n        <div class=\"alert-icon-wrapper\">\n            <clr-icon class=\"alert-icon\" \n              [attr.shape]=\"iconService.alertIconShape\" \n              [attr.title]=\"iconService.alertIconTitle\"></clr-icon>\n        </div>\n        <ng-content></ng-content>\n    `,\n  host: { class: 'alert-item' },\n})\nexport class ClrAlertItem {\n  constructor(public iconService: AlertIconAndTypesService) {}\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport {\n  AfterContentInit,\n  Component,\n  ContentChildren,\n  EventEmitter,\n  Input,\n  OnDestroy,\n  Output,\n  QueryList,\n} from '@angular/core';\nimport { ClrAlert } from './alert';\nimport { MultiAlertService } from './providers/multi-alert.service';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'clr-alerts',\n  templateUrl: './alerts.html',\n  providers: [MultiAlertService],\n  host: {\n    '[class.alerts]': 'true',\n    '[class.alert-danger]': \"this.currentAlertType == 'danger'\",\n    '[class.alert-info]': \"this.currentAlertType == 'info'\",\n    '[class.alert-success]': \"this.currentAlertType == 'success'\",\n    '[class.alert-warning]': \"this.currentAlertType == 'warning'\",\n  },\n  styles: [':host { display: block }'],\n})\nexport class ClrAlerts implements AfterContentInit, OnDestroy {\n  private subscriptions: Subscription[] = [];\n\n  @ContentChildren(ClrAlert)\n  set allAlerts(value: QueryList<ClrAlert>) {\n    this.multiAlertService.manage(value); // provide alerts\n  }\n\n  /**\n   * Input/Output to support two way binding on current alert index\n   */\n  @Input('clrCurrentAlertIndex')\n  public set _inputCurrentIndex(index: number) {\n    if (Number.isInteger(index) && index >= 0) {\n      this.multiAlertService.current = index;\n    }\n  }\n\n  @Output('clrCurrentAlertIndexChange') public currentAlertIndexChange = new EventEmitter<number>(false);\n\n  set currentAlertIndex(index: number) {\n    this.multiAlertService.current = index;\n  }\n  get currentAlertIndex() {\n    return this.multiAlertService.current;\n  }\n\n  /**\n   * Input/Output to support two way binding on current alert instance\n   */\n  @Input('clrCurrentAlert')\n  set currentAlert(alert: ClrAlert) {\n    if (alert) {\n      this.multiAlertService.currentAlert = alert;\n    }\n  }\n  get currentAlert() {\n    return this.multiAlertService.currentAlert;\n  }\n  @Output('clrCurrentAlertChange') public currentAlertChange = new EventEmitter<ClrAlert>(false);\n\n  /**\n   * Ensure we are only dealing with alerts that have not been closed yet\n   */\n  get alerts() {\n    return this.allAlerts.filter(alert => {\n      return alert.hidden === false;\n    });\n  }\n\n  get currentAlertType(): string {\n    if (this.multiAlertService.currentAlert) {\n      return this.multiAlertService.currentAlert.alertType;\n    }\n    return '';\n  }\n\n  constructor(public multiAlertService: MultiAlertService) {}\n\n  ngAfterContentInit() {\n    this.subscriptions.push(\n      this.multiAlertService.changes.subscribe(index => {\n        this.currentAlertIndexChange.next(index);\n        this.currentAlertChange.next(this.multiAlertService.currentAlert);\n      })\n    );\n  }\n\n  ngOnDestroy(): void {\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n    this.multiAlertService.destroy();\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Component, EventEmitter, Input, OnDestroy, OnInit, Output } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { ClrAlert } from './alert';\nimport { MultiAlertService } from './providers/multi-alert.service';\nimport { ClrCommonStringsService } from '../../utils/i18n/common-strings.service';\n\n@Component({\n  selector: 'clr-alerts-pager',\n  templateUrl: './alerts-pager.html',\n  host: { '[class.alerts-pager]': 'true' },\n})\nexport class ClrAlertsPager implements OnInit, OnDestroy {\n  private multiAlertServiceChanges: Subscription;\n\n  /**\n   * Input/Output to support two way binding on current alert instance\n   */\n  @Input('clrCurrentAlert')\n  set currentAlert(alert: ClrAlert) {\n    if (alert) {\n      this.multiAlertService.currentAlert = alert;\n    }\n  }\n  get currentAlert() {\n    return this.multiAlertService.currentAlert;\n  }\n\n  @Output('clrCurrentAlertChange') currentAlertChange = new EventEmitter<ClrAlert>(false);\n\n  /**\n   * Input/Output to support two way binding on current alert index\n   */\n  @Input('clrCurrentAlertIndex')\n  set currentAlertIndex(index: number) {\n    this.multiAlertService.current = index;\n  }\n  get currentAlertIndex() {\n    return this.multiAlertService.current;\n  }\n\n  @Output('clrCurrentAlertIndexChange') currentAlertIndexChange = new EventEmitter<number>();\n\n  constructor(public multiAlertService: MultiAlertService, public commonStrings: ClrCommonStringsService) {}\n\n  ngOnInit() {\n    this.multiAlertServiceChanges = this.multiAlertService.changes.subscribe(index => {\n      this.currentAlertIndexChange.emit(index);\n      this.currentAlertChange.emit(this.multiAlertService.activeAlerts[index]);\n    });\n  }\n\n  pageUp() {\n    this.multiAlertService.next();\n  }\n\n  pageDown() {\n    this.multiAlertService.previous();\n  }\n\n  ngOnDestroy() {\n    this.multiAlertServiceChanges.unsubscribe();\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule, Type } from '@angular/core';\n\nimport { ClrIconModule } from '../../icon/icon.module';\nimport { ClrDropdownModule } from '../../popover/dropdown/dropdown.module';\n\nimport { ClrAlert } from './alert';\nimport { ClrAlertItem } from './alert-item';\nimport { ClrAlerts } from './alerts';\nimport { ClrAlertsPager } from './alerts-pager';\nimport { ClrAlertText } from './alert-text';\n\nexport const CLR_ALERT_DIRECTIVES: Type<any>[] = [ClrAlert, ClrAlertItem, ClrAlerts, ClrAlertsPager, ClrAlertText];\n\n@NgModule({\n  imports: [CommonModule, ClrIconModule, ClrDropdownModule],\n  declarations: [CLR_ALERT_DIRECTIVES],\n  exports: [CLR_ALERT_DIRECTIVES],\n})\nexport class ClrAlertModule {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { NgModule } from '@angular/core';\nimport { ClrAlertModule } from './alert/alert.module';\n\n@NgModule({ exports: [ClrAlertModule] })\nexport class ClrEmphasisModule {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nexport class ResponsiveNavCodes {\n  public static NAV_LEVEL_1: number = 1;\n  public static NAV_LEVEL_2: number = 2;\n  public static NAV_CLOSE_ALL: string = 'NAV_CLOSE_ALL';\n  public static NAV_OPEN: string = 'NAV_OPEN';\n  public static NAV_CLOSE: string = 'NAV_CLOSE';\n  public static NAV_TOGGLE: string = 'NAV_TOGGLE';\n  public static NAV_CLASS_HAMBURGER_MENU: string = 'open-hamburger-menu';\n  public static NAV_CLASS_OVERFLOW_MENU: string = 'open-overflow-menu';\n  public static NAV_CLASS_TRIGGER_1: string = 'header-hamburger-trigger';\n  public static NAV_CLASS_TRIGGER_2: string = 'header-overflow-trigger';\n  public static NAV_CLASS_LEVEL_1: string = 'clr-nav-level-1';\n  public static NAV_CLASS_LEVEL_2: string = 'clr-nav-level-2';\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nexport class ResponsiveNavControlMessage {\n  constructor(private _controlCode: string, private _navLevel: number) {}\n\n  get controlCode(): string {\n    return this._controlCode;\n  }\n\n  get navLevel(): number {\n    return this._navLevel;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { ReplaySubject, Subject } from 'rxjs';\n\nimport { ResponsiveNavCodes } from '../responsive-nav-codes';\nimport { ResponsiveNavControlMessage } from '../responsive-nav-control-message';\n\n@Injectable({ providedIn: 'root' })\nexport class ResponsiveNavigationService {\n  public responsiveNavList: number[] = [];\n  private registerNavSubject = new ReplaySubject<number[]>();\n  private controlNavSubject = new Subject<ResponsiveNavControlMessage>();\n\n  get registeredNavs(): Observable<number[]> {\n    return this.registerNavSubject.asObservable();\n  }\n\n  get navControl(): Observable<ResponsiveNavControlMessage> {\n    return this.controlNavSubject.asObservable();\n  }\n\n  constructor() {\n    this.closeAllNavs(); // We start with all navs closed\n  }\n\n  registerNav(navLevel: number): void {\n    if (!navLevel || this.isNavRegistered(navLevel)) {\n      return;\n    }\n    this.responsiveNavList.push(navLevel);\n    this.registerNavSubject.next(this.responsiveNavList);\n  }\n\n  isNavRegistered(navLevel: number): boolean {\n    if (this.responsiveNavList.indexOf(navLevel) > -1) {\n      console.error('Multiple clr-nav-level ' + navLevel + ' attributes found. Please make sure that only one exists');\n      return true;\n    }\n    return false;\n  }\n\n  unregisterNav(navLevel: number) {\n    const index = this.responsiveNavList.indexOf(navLevel);\n    if (index > -1) {\n      this.responsiveNavList.splice(index, 1);\n      this.registerNavSubject.next(this.responsiveNavList);\n    }\n  }\n\n  sendControlMessage(controlCode: string, navLevel: number) {\n    const message: ResponsiveNavControlMessage = new ResponsiveNavControlMessage(controlCode, navLevel);\n    this.controlNavSubject.next(message);\n  }\n\n  closeAllNavs() {\n    const message: ResponsiveNavControlMessage = new ResponsiveNavControlMessage(\n      ResponsiveNavCodes.NAV_CLOSE_ALL,\n      -999\n    );\n    this.controlNavSubject.next(message);\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Directive, ElementRef, OnDestroy, OnInit } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { ResponsiveNavigationService } from '../nav/providers/responsive-navigation.service';\nimport { ResponsiveNavCodes } from '../nav/responsive-nav-codes';\nimport { ResponsiveNavControlMessage } from '../nav/responsive-nav-control-message';\n\n@Directive({ selector: 'clr-main-container', host: { '[class.main-container]': 'true' } })\nexport class ClrMainContainer implements OnDestroy, OnInit {\n  private _subscription: Subscription;\n  private _classList: DOMTokenList;\n\n  constructor(private elRef: ElementRef, private responsiveNavService: ResponsiveNavigationService) {}\n\n  ngOnInit() {\n    this._classList = this.elRef.nativeElement.classList;\n    this._subscription = this.responsiveNavService.navControl.subscribe({\n      next: (message: ResponsiveNavControlMessage) => {\n        this.processMessage(message);\n      },\n    });\n  }\n\n  processMessage(message: ResponsiveNavControlMessage): void {\n    let navClass: string = ResponsiveNavCodes.NAV_CLASS_HAMBURGER_MENU;\n    if (message.controlCode === ResponsiveNavCodes.NAV_CLOSE_ALL) {\n      this._classList.remove(ResponsiveNavCodes.NAV_CLASS_HAMBURGER_MENU);\n      this._classList.remove(ResponsiveNavCodes.NAV_CLASS_OVERFLOW_MENU);\n    } else if (message.navLevel === ResponsiveNavCodes.NAV_LEVEL_1) {\n      this.controlNav(message.controlCode, navClass);\n    } else if (message.navLevel === ResponsiveNavCodes.NAV_LEVEL_2) {\n      navClass = ResponsiveNavCodes.NAV_CLASS_OVERFLOW_MENU;\n      this.controlNav(message.controlCode, navClass);\n    }\n  }\n\n  controlNav(controlCode: string, navClass: string): void {\n    if (controlCode === ResponsiveNavCodes.NAV_OPEN) {\n      this._classList.add(navClass);\n    } else if (controlCode === ResponsiveNavCodes.NAV_CLOSE) {\n      this._classList.remove(navClass);\n    } else if (controlCode === ResponsiveNavCodes.NAV_TOGGLE) {\n      this._classList.toggle(navClass);\n    }\n  }\n\n  ngOnDestroy() {\n    this._subscription.unsubscribe();\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule, Type } from '@angular/core';\n\nimport { ClrIconModule } from '../../icon/icon.module';\nimport { ClrMainContainer } from './main-container';\n\nexport const CLR_LAYOUT_DIRECTIVES: Type<any>[] = [ClrMainContainer];\n\n@NgModule({\n  imports: [CommonModule, ClrIconModule],\n  declarations: [CLR_LAYOUT_DIRECTIVES],\n  exports: [CLR_LAYOUT_DIRECTIVES],\n})\nexport class ClrMainContainerModule {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Directive } from '@angular/core';\nimport { WillyWonka } from '../../../utils/chocolate/willy-wonka';\n\n@Directive({ selector: 'clr-main-container' })\nexport class MainContainerWillyWonka extends WillyWonka {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { ChangeDetectorRef, Directive, Optional } from '@angular/core';\nimport { OompaLoompa } from '../../../utils/chocolate/oompa-loompa';\nimport { ResponsiveNavigationService } from '../providers/responsive-navigation.service';\nimport { MainContainerWillyWonka } from './main-container-willy-wonka';\n\n@Directive({ selector: 'clr-header' })\nexport class NavDetectionOompaLoompa extends OompaLoompa {\n  private responsiveNavService: ResponsiveNavigationService;\n\n  constructor(\n    cdr: ChangeDetectorRef,\n    @Optional() willyWonka: MainContainerWillyWonka,\n    responsiveNavService: ResponsiveNavigationService\n  ) {\n    if (!willyWonka) {\n      throw new Error('clr-header should only be used inside of a clr-main-container');\n    }\n    super(cdr, willyWonka);\n    this.responsiveNavService = responsiveNavService;\n  }\n\n  // NavDetectionOompaLoompa is the addition of the nav levels\n  // Since we support 2 levels, the possibilities are 0, 1 or 3 (1 + 2)\n  get flavor() {\n    return this.responsiveNavService.responsiveNavList.reduce((sum, navLevel) => sum + navLevel, 0);\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Component, OnDestroy } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { ResponsiveNavigationService } from './providers/responsive-navigation.service';\nimport { ResponsiveNavCodes } from './responsive-nav-codes';\nimport { ClrCommonStringsService } from '../../utils/i18n/common-strings.service';\n\n@Component({\n  selector: 'clr-header',\n  template: `\n        <button\n            type=\"button\"\n            *ngIf=\"isNavLevel1OnPage\"\n            class=\"header-hamburger-trigger\"\n            [attr.aria-label]=\"(openNavLevel !== responsiveNavCodes.NAV_LEVEL_1) ? commonStrings.keys.open : commonStrings.keys.close\"\n            (click)=\"toggleNav(responsiveNavCodes.NAV_LEVEL_1)\">\n            <span></span>\n        </button>\n        <ng-content></ng-content>\n        <button\n            type=\"button\"\n            *ngIf=\"isNavLevel2OnPage\"\n            class=\"header-overflow-trigger\"\n            [attr.aria-label]=\"(openNavLevel !== responsiveNavCodes.NAV_LEVEL_2) ? commonStrings.keys.open : commonStrings.keys.close\"\n            (click)=\"toggleNav(responsiveNavCodes.NAV_LEVEL_2)\">\n            <span></span>\n        </button>\n        <div class=\"header-backdrop\" (click)=\"closeOpenNav()\"></div>\n    `,\n  host: { '[class.header]': 'true' },\n})\nexport class ClrHeader implements OnDestroy {\n  isNavLevel1OnPage = false;\n  isNavLevel2OnPage = false;\n  openNavLevel: number = null;\n  responsiveNavCodes = ResponsiveNavCodes;\n  private _subscription: Subscription;\n\n  constructor(\n    private responsiveNavService: ResponsiveNavigationService,\n    public commonStrings: ClrCommonStringsService\n  ) {\n    this._subscription = this.responsiveNavService.registeredNavs.subscribe({\n      next: (navLevelList: number[]) => {\n        this.initializeNavTriggers(navLevelList);\n      },\n    });\n  }\n\n  // reset triggers. handles cases when an application has different nav levels on different pages.\n  resetNavTriggers() {\n    this.isNavLevel1OnPage = false;\n    this.isNavLevel2OnPage = false;\n  }\n\n  // decides which triggers to show on the header\n  initializeNavTriggers(navList: number[]): void {\n    this.resetNavTriggers();\n    if (navList.length > 2) {\n      console.error('More than 2 Nav Levels detected.');\n      return;\n    }\n    navList.forEach(navLevel => {\n      if (navLevel === ResponsiveNavCodes.NAV_LEVEL_1) {\n        this.isNavLevel1OnPage = true;\n      } else if (navLevel === ResponsiveNavCodes.NAV_LEVEL_2) {\n        this.isNavLevel2OnPage = true;\n      }\n    });\n  }\n\n  // closes the nav that is open\n  closeOpenNav() {\n    this.responsiveNavService.closeAllNavs();\n  }\n\n  // toggles the nav that is open\n  toggleNav(navLevel: number) {\n    this.openNavLevel = this.openNavLevel === navLevel ? null : navLevel;\n    this.responsiveNavService.sendControlMessage(ResponsiveNavCodes.NAV_TOGGLE, navLevel);\n  }\n\n  ngOnDestroy() {\n    this._subscription.unsubscribe();\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Directive, ElementRef, HostListener, Input, OnInit } from '@angular/core';\n\nimport { ResponsiveNavigationService } from './providers/responsive-navigation.service';\nimport { ResponsiveNavCodes } from './responsive-nav-codes';\n\n@Directive({ selector: '[clr-nav-level]' })\nexport class ClrNavLevel implements OnInit {\n  @Input('clr-nav-level') _level: number;\n\n  constructor(private responsiveNavService: ResponsiveNavigationService, private elementRef: ElementRef) {}\n\n  ngOnInit() {\n    if (this.level !== ResponsiveNavCodes.NAV_LEVEL_1 && this.level !== ResponsiveNavCodes.NAV_LEVEL_2) {\n      console.error('Nav Level can only be 1 or 2');\n      return;\n    }\n    this.responsiveNavService.registerNav(this.level);\n    this.addNavClass(this.level);\n  }\n\n  addNavClass(level: number) {\n    const navHostClassList = this.elementRef.nativeElement.classList;\n    if (level === ResponsiveNavCodes.NAV_LEVEL_1) {\n      navHostClassList.add(ResponsiveNavCodes.NAV_CLASS_LEVEL_1);\n    } else if (level === ResponsiveNavCodes.NAV_LEVEL_2) {\n      navHostClassList.add(ResponsiveNavCodes.NAV_CLASS_LEVEL_2);\n    }\n  }\n\n  get level(): number {\n    return this._level;\n  }\n\n  // getter to access the responsive navigation codes from the template\n  get responsiveNavCodes(): ResponsiveNavCodes {\n    return ResponsiveNavCodes;\n  }\n\n  open(): void {\n    this.responsiveNavService.sendControlMessage(ResponsiveNavCodes.NAV_OPEN, this.level);\n  }\n\n  close(): void {\n    this.responsiveNavService.sendControlMessage(ResponsiveNavCodes.NAV_CLOSE, this.level);\n  }\n\n  // TODO: Figure out whats the best way to do this. Possible methods\n  // 1. HostListener (current solution)\n  // 2. Directives on the .nav-link class. We discussed on moving away from class selectors but I forget the reason\n  // why\n  @HostListener('click', ['$event.target'])\n  onMouseClick(target: any) {\n    let current: any = target; // Get the element in the DOM on which the mouse was clicked\n    const navHost: any = this.elementRef.nativeElement; // Get the current nav native HTML element\n\n    // Start checking if current and navHost are equal.\n    // If not traverse to the parentNode and check again.\n    while (current) {\n      if (current === navHost) {\n        return;\n      } else if (current.classList.contains('nav-link')) {\n        this.close();\n        return;\n      }\n      current = current.parentNode;\n    }\n  }\n\n  ngOnDestroy() {\n    this.responsiveNavService.unregisterNav(this.level);\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule, Type } from '@angular/core';\n\nimport { ClrIconModule } from '../../icon/icon.module';\nimport { ClrDropdownModule } from '../../popover/dropdown/dropdown.module';\n\nimport { MainContainerWillyWonka } from './chocolate/main-container-willy-wonka';\nimport { NavDetectionOompaLoompa } from './chocolate/nav-detection-oompa-loompa';\nimport { ClrHeader } from './header';\nimport { ClrNavLevel } from './nav-level';\n\nexport const CLR_NAVIGATION_DIRECTIVES: Type<any>[] = [\n  ClrHeader,\n  ClrNavLevel,\n  NavDetectionOompaLoompa,\n  MainContainerWillyWonka,\n];\n\n@NgModule({\n  imports: [CommonModule, ClrIconModule, ClrDropdownModule],\n  declarations: [CLR_NAVIGATION_DIRECTIVES],\n  exports: [CLR_NAVIGATION_DIRECTIVES],\n})\nexport class ClrNavigationModule {}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Component, TemplateRef, ViewChild } from '@angular/core';\n\n@Component({\n  template: `\n      <ng-template>\n        <ng-content></ng-content>\n      </ng-template>\n    `,\n})\nexport class TemplateRefContainer {\n  @ViewChild(TemplateRef) template: TemplateRef<any>;\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Type } from '@angular/core';\nimport { TemplateRefContainer } from './template-ref-container';\n\nexport * from './template-ref-container';\n\nexport const TEMPLATE_REF_DIRECTIVES: Type<any>[] = [TemplateRefContainer];\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { TEMPLATE_REF_DIRECTIVES } from './index';\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [TEMPLATE_REF_DIRECTIVES],\n  entryComponents: [TEMPLATE_REF_DIRECTIVES],\n  exports: [TEMPLATE_REF_DIRECTIVES],\n})\nexport class ClrTemplateRefModule {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Directive } from '@angular/core';\nimport { WillyWonka } from '../../../utils/chocolate/willy-wonka';\n\n@Directive({ selector: 'clr-tabs' })\nexport class TabsWillyWonka extends WillyWonka {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { ChangeDetectorRef, Directive, Inject, Optional } from '@angular/core';\n\nimport { OompaLoompa } from '../../../utils/chocolate/oompa-loompa';\nimport { IF_ACTIVE_ID, IfActiveService } from '../../../utils/conditional/if-active.service';\n\nimport { TabsWillyWonka } from './tabs-willy-wonka';\n\n@Directive({ selector: '[clrTabLink], clr-tab-content' })\nexport class ActiveOompaLoompa extends OompaLoompa {\n  private ifActive: IfActiveService;\n  private id: number;\n\n  constructor(\n    cdr: ChangeDetectorRef,\n    @Optional() willyWonka: TabsWillyWonka,\n    @Inject(IF_ACTIVE_ID) id: number,\n    ifActive: IfActiveService\n  ) {\n    if (!willyWonka) {\n      throw new Error('clrTabLink and clr-tab-content should only be used inside of a clr-tabs');\n    }\n    super(cdr, willyWonka);\n    this.ifActive = ifActive;\n    this.id = id;\n  }\n\n  get flavor() {\n    return this.ifActive.current === this.id;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Injectable } from '@angular/core';\n\n// TODO: if we find more components that could use this, consider moving this to utils\n@Injectable()\nexport class AriaService {\n  public ariaLabelledBy: string;\n  public ariaControls: string;\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nexport enum TabsLayout {\n  HORIZONTAL = 'horizontal',\n  VERTICAL = 'vertical',\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Injectable, ViewContainerRef } from '@angular/core';\nimport { ClrTab } from '../tab';\nimport { TabsLayout } from '../enums/tabs-layout.enum';\n\n@Injectable()\nexport class TabsService {\n  private _children: ClrTab[] = [];\n\n  layout: TabsLayout = TabsLayout.HORIZONTAL;\n\n  register(tab: ClrTab) {\n    this._children.push(tab);\n  }\n\n  get children() {\n    return this._children;\n  }\n\n  get activeTab() {\n    return this.children.find((tab: ClrTab) => {\n      return tab.active;\n    });\n  }\n\n  get overflowTabs() {\n    if (this.layout === TabsLayout.VERTICAL) {\n      return [];\n    } else {\n      return this.children.filter((tab: ClrTab) => tab.tabLink.inOverflow === true);\n    }\n  }\n\n  unregister(tab: ClrTab) {\n    const index = this.children.indexOf(tab);\n    if (index > -1) {\n      this.children.splice(index, 1);\n    }\n  }\n\n  tabContentViewContainer: ViewContainerRef;\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Component, EmbeddedViewRef, Inject, Input, OnDestroy, TemplateRef, ViewChild } from '@angular/core';\nimport { IF_ACTIVE_ID, IfActiveService } from '../../utils/conditional/if-active.service';\nimport { AriaService } from './providers/aria.service';\nimport { TabsService } from './providers/tabs.service';\n\nlet nbTabContentComponents: number = 0;\n\n@Component({\n  selector: 'clr-tab-content',\n  template: `\n    <ng-template #tabContentProjectedRef>\n      <section [id]=\"tabContentId\" role=\"tabpanel\" class=\"tab-content\" [class.active]=\"active\"\n               [hidden]=\"!active\"\n               [attr.aria-labelledby]=\"ariaLabelledBy\"\n               [attr.aria-expanded]=\"active\"\n               [attr.aria-hidden]=\"!active\">\n        <ng-content></ng-content>\n      </section>\n    </ng-template>\n    `,\n})\nexport class ClrTabContent implements OnDestroy {\n  constructor(\n    public ifActiveService: IfActiveService,\n    @Inject(IF_ACTIVE_ID) public id: number,\n    private ariaService: AriaService,\n    private tabsService: TabsService\n  ) {\n    if (!this.tabContentId) {\n      this.tabContentId = 'clr-tab-content-' + nbTabContentComponents++;\n    }\n  }\n\n  private viewRef: EmbeddedViewRef<ClrTabContent>;\n\n  // The template must be applied on the top-down phase of view-child initialization to prevent\n  // components in the content from initializing before a content container exists.\n  // Some child components need their container for sizing calculations.\n  /* tslint:disable:no-unused-variable */\n  @ViewChild('tabContentProjectedRef', { static: true })\n  private set templateRef(value: TemplateRef<ClrTabContent>) {\n    this.viewRef = this.tabsService.tabContentViewContainer.createEmbeddedView(value);\n  }\n  /* tslint:enable:no-unused-variable */\n\n  get ariaLabelledBy(): string {\n    return this.ariaService.ariaLabelledBy;\n  }\n\n  get tabContentId(): string {\n    return this.ariaService.ariaControls;\n  }\n\n  @Input('id')\n  set tabContentId(id: string) {\n    this.ariaService.ariaControls = id;\n  }\n\n  get active() {\n    return this.ifActiveService.current === this.id;\n  }\n\n  ngOnDestroy(): void {\n    const index = this.tabsService.tabContentViewContainer.indexOf(this.viewRef);\n    if (index > -1) {\n      this.tabsService.tabContentViewContainer.remove(index);\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { InjectionToken } from '@angular/core';\n\nlet nbTabsComponent = 0;\n\nexport const TABS_ID = new InjectionToken<number>('TABS_ID');\n\nexport function tokenFactory() {\n  return 'clr-tabs-' + nbTabsComponent++;\n}\n\nexport const TABS_ID_PROVIDER = {\n  provide: TABS_ID,\n  useFactory: tokenFactory,\n};\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport {\n  ComponentFactoryResolver,\n  Directive,\n  ElementRef,\n  HostBinding,\n  HostListener,\n  Inject,\n  Input,\n  ViewContainerRef,\n} from '@angular/core';\n\nimport { IF_ACTIVE_ID, IfActiveService } from '../../utils/conditional/if-active.service';\nimport { TemplateRefContainer } from '../../utils/template-ref/template-ref-container';\nimport { TabsService } from './providers/tabs.service';\n\nimport { AriaService } from './providers/aria.service';\nimport { TABS_ID } from './tabs-id.provider';\nimport { TabsLayout } from './enums/tabs-layout.enum';\n\nlet nbTabLinkComponents: number = 0;\n\n@Directive({\n  selector: '[clrTabLink]',\n  host: {\n    '[attr.aria-hidden]': 'false',\n    '[class.btn]': 'true',\n    role: 'tab',\n    type: 'button',\n  },\n})\nexport class ClrTabLink {\n  private _inOverflow: boolean;\n\n  @Input('clrTabLinkInOverflow')\n  set inOverflow(inOverflow) {\n    this._inOverflow = inOverflow;\n  }\n\n  get inOverflow(): boolean {\n    return this._inOverflow && this.tabsService.layout !== TabsLayout.VERTICAL;\n  }\n\n  @HostBinding('class.btn-link')\n  @HostBinding('class.nav-link')\n  get addLinkClasses() {\n    return !this.inOverflow;\n  }\n\n  templateRefContainer: TemplateRefContainer;\n\n  constructor(\n    public ifActiveService: IfActiveService,\n    @Inject(IF_ACTIVE_ID) private id: number,\n    private ariaService: AriaService,\n    public el: ElementRef,\n    private cfr: ComponentFactoryResolver,\n    private viewContainerRef: ViewContainerRef,\n    private tabsService: TabsService,\n    @Inject(TABS_ID) public tabsId: number\n  ) {\n    if (!this.tabLinkId) {\n      this.tabLinkId = 'clr-tab-link-' + nbTabLinkComponents++;\n    }\n\n    // Tab links can be rendered in one of two places: in the main area or inside the overflow dropdown menu.\n    // Here, we create a container so that its template can be used to create embeddedView on the fly.\n    // See TabsService's renderView() method and how it's used in Tabs class for an example.\n    const factory = this.cfr.resolveComponentFactory(TemplateRefContainer);\n    this.templateRefContainer = this.viewContainerRef.createComponent(factory, undefined, undefined, [\n      [this.el.nativeElement],\n    ]).instance;\n  }\n\n  @HostBinding('attr.aria-controls')\n  get ariaControls(): string {\n    return this.ariaService.ariaControls;\n  }\n\n  get tabLinkId(): string {\n    return this.ariaService.ariaLabelledBy;\n  }\n\n  @HostBinding('id')\n  @Input('id')\n  set tabLinkId(id: string) {\n    this.ariaService.ariaLabelledBy = id;\n  }\n\n  @HostListener('click')\n  activate() {\n    this.ifActiveService.current = this.id;\n  }\n\n  @HostBinding('class.active')\n  @HostBinding('attr.aria-selected')\n  get active() {\n    return this.ifActiveService.current === this.id;\n  }\n\n  @HostBinding('attr.tabindex')\n  get tabindex() {\n    return this.active ? 0 : -1;\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Component, ContentChild, Inject } from '@angular/core';\n\nimport { IF_ACTIVE_ID, IF_ACTIVE_ID_PROVIDER, IfActiveService } from '../../utils/conditional/if-active.service';\n\nimport { AriaService } from './providers/aria.service';\nimport { TabsService } from './providers/tabs.service';\nimport { ClrTabContent } from './tab-content';\nimport { ClrTabLink } from './tab-link.directive';\n\n@Component({\n  selector: 'clr-tab',\n  template: `\n        <ng-content></ng-content>\n    `,\n  providers: [IF_ACTIVE_ID_PROVIDER, AriaService],\n})\nexport class ClrTab {\n  @ContentChild(ClrTabLink, { static: true })\n  tabLink: ClrTabLink;\n  @ContentChild(ClrTabContent, { static: true })\n  tabContent: ClrTabContent;\n\n  constructor(\n    public ifActiveService: IfActiveService,\n    @Inject(IF_ACTIVE_ID) public id: number,\n    private tabsService: TabsService\n  ) {\n    tabsService.register(this);\n  }\n\n  ngOnDestroy() {\n    this.tabsService.unregister(this);\n  }\n\n  get active() {\n    return this.ifActiveService.current === this.id;\n  }\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Component } from '@angular/core';\n\n@Component({\n  selector: 'clr-tab-overflow-content',\n  template: `\n        <ng-content></ng-content>\n    `,\n  host: {\n    '[class.dropdown-menu]': 'true',\n  },\n})\nexport class ClrTabOverflowContent {}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nexport enum ClrFocusDirection {\n  VERTICAL = 'vertical',\n  HORIZONTAL = 'horizontal',\n  BOTH = 'both',\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Directive, ElementRef, Inject, PLATFORM_ID, HostBinding } from '@angular/core';\nimport { isPlatformBrowser } from '@angular/common';\n\n@Directive({\n  selector: '[clrKeyFocusItem]',\n})\nexport class ClrKeyFocusItem {\n  @HostBinding('attr.tabindex') tabIndex: number;\n\n  get nativeElement() {\n    return this.elementRef.nativeElement;\n  }\n\n  constructor(private elementRef: ElementRef, @Inject(PLATFORM_ID) private platformId: Object) {}\n\n  focus() {\n    if (isPlatformBrowser(this.platformId)) {\n      this.elementRef.nativeElement.focus();\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport {\n  Component,\n  ContentChildren,\n  EventEmitter,\n  HostListener,\n  Input,\n  Output,\n  QueryList,\n  ElementRef,\n} from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { ClrFocusDirection } from './enums/focus-direction.enum';\nimport { FocusableItem } from './interfaces';\n\nimport { KeyCodes } from './../../enums/key-codes.enum';\nimport { ClrKeyFocusItem } from './key-focus-item';\nimport { getKeyCodes, preventArrowKeyScroll } from './util';\n\n@Component({\n  selector: '[clrKeyFocus]',\n  template: '<ng-content></ng-content>',\n})\nexport class ClrKeyFocus {\n  constructor(private elementRef: ElementRef) {}\n  @Input('clrDirection') direction = ClrFocusDirection.VERTICAL;\n  @Input('clrFocusOnLoad') focusOnLoad = false;\n  @Output('clrFocusChange') private focusChange: EventEmitter<number> = new EventEmitter<number>();\n  @ContentChildren(ClrKeyFocusItem, { descendants: true })\n  private clrKeyFocusItems: QueryList<ClrKeyFocusItem>;\n\n  private _focusableItems: Array<FocusableItem>;\n  @Input('clrKeyFocus')\n  set focusableItems(elements: Array<FocusableItem>) {\n    // We accept a list of focusable elements (HTMLElements or existing Directives) or auto query for clrKeyFocusItem\n    // We accept a list reference in the cases where we cannot use ContentChildren to query\n    // ContentChildren can be unavailable if content is projected outside the scope of the component (see tabs).\n    if (elements && elements.length) {\n      this._focusableItems = elements;\n      this.initializeFocus();\n    }\n  }\n\n  get nativeElement(): HTMLElement {\n    return this.elementRef.nativeElement;\n  }\n\n  get focusableItems() {\n    if (this._focusableItems) {\n      return this._focusableItems;\n    } else {\n      return this.clrKeyFocusItems.toArray();\n    }\n  }\n\n  private _current: number = 0;\n\n  get current() {\n    return this._current;\n  }\n\n  set current(value: number) {\n    if (this._current !== value) {\n      this._current = value;\n    }\n  }\n\n  get currentItem() {\n    return this.focusableItems[this._current];\n  }\n\n  get currentItemElement(): HTMLElement {\n    return this.currentItem.nativeElement ? this.currentItem.nativeElement : <HTMLElement>this.currentItem;\n  }\n\n  focusCurrent() {\n    this.currentItem.focus();\n    this.focusChange.next(this._current);\n  }\n\n  moveTo(position: number) {\n    if (this.positionInRange(position)) {\n      this.current = position;\n      this.focusCurrent();\n    }\n  }\n\n  private subscriptions: Subscription[] = [];\n\n  ngAfterContentInit() {\n    this.subscriptions.push(this.listenForItemUpdates());\n    this.initializeFocus();\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(s => s.unsubscribe());\n  }\n\n  @HostListener('keydown', ['$event'])\n  handleKeyboardEvent(event: KeyboardEvent) {\n    // Make sure event was originated on the current item's element\n    if (this.currentItemElement !== event.target) {\n      const position = this.getItemPosition(<HTMLElement>event.target);\n      if (this.positionInRange(position)) {\n        this.current = position;\n      }\n    }\n\n    if (this.prevKeyPressed(event) && this.currentFocusIsNotFirstItem()) {\n      this.moveTo(this.current - 1);\n    } else if (this.nextKeyPressed(event) && this.currentFocusIsNotLastItem()) {\n      this.moveTo(this.current + 1);\n    } else if (event.code === KeyCodes.Home) {\n      this.moveTo(0);\n    } else if (event.code === KeyCodes.End) {\n      this.moveTo(this.focusableItems.length - 1);\n    }\n\n    preventArrowKeyScroll(event);\n  }\n\n  @HostListener('click', ['$event'])\n  setClickedItemCurrent(event: any) {\n    const position = this.getItemPosition(event.target);\n\n    if (position > -1) {\n      this.moveTo(position);\n    }\n  }\n\n  private getItemPosition(item: HTMLElement) {\n    if (this._focusableItems) {\n      return this.focusableItems.indexOf(item);\n    } else {\n      return this.focusableItems.map(_item => _item.nativeElement).indexOf(item);\n    }\n  }\n\n  private positionInRange(position: number) {\n    return position >= 0 && position < this.focusableItems.length;\n  }\n\n  private currentFocusIsNotFirstItem() {\n    return this._current - 1 >= 0;\n  }\n\n  private currentFocusIsNotLastItem() {\n    return this._current + 1 < this.focusableItems.length;\n  }\n\n  private initializeFocus() {\n    if (this.focusableItems && this.focusableItems.length) {\n      // It is possible that the focus was on an element, whose index is no longer available.\n      // This can happen when some of the focusable elements are being removed.\n      // In such cases, the new focus is initialized on the last focusable element.\n      if (this._current >= this.focusableItems.length) {\n        this._current = this.focusableItems.length - 1;\n      }\n\n      if (this.focusOnLoad) {\n        this.currentItem.focus();\n        this.focusChange.next();\n      }\n    }\n  }\n\n  private listenForItemUpdates() {\n    return this.clrKeyFocusItems.changes.subscribe(() => {\n      this.initializeFocus();\n    });\n  }\n\n  private nextKeyPressed(event: KeyboardEvent) {\n    const keyCodes = getKeyCodes(event);\n\n    switch (this.direction) {\n      case ClrFocusDirection.VERTICAL:\n        return event.key === keyCodes.ArrowDown;\n      case ClrFocusDirection.HORIZONTAL:\n        return event.key === keyCodes.ArrowRight;\n      case ClrFocusDirection.BOTH:\n        return event.key === keyCodes.ArrowDown || event.key === keyCodes.ArrowRight;\n      default:\n        return false;\n    }\n  }\n\n  private prevKeyPressed(event: KeyboardEvent) {\n    const keyCodes = getKeyCodes(event);\n\n    switch (this.direction) {\n      case ClrFocusDirection.VERTICAL:\n        return event.key === keyCodes.ArrowUp;\n      case ClrFocusDirection.HORIZONTAL:\n        return event.key === keyCodes.ArrowLeft;\n      case ClrFocusDirection.BOTH:\n        return event.key === keyCodes.ArrowUp || event.key === keyCodes.ArrowLeft;\n      default:\n        return false;\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport {\n  AfterContentInit,\n  Component,\n  ContentChildren,\n  ElementRef,\n  Inject,\n  Input,\n  OnDestroy,\n  QueryList,\n  ViewChild,\n  ViewContainerRef,\n  HostBinding,\n} from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { startWith } from 'rxjs/operators';\nimport { IfActiveService } from '../../utils/conditional/if-active.service';\nimport { ClrKeyFocus } from '../../utils/focus/key-focus/key-focus';\nimport { ClrCommonStringsService } from '../../utils/i18n/common-strings.service';\nimport { ClrPopoverToggleService } from '../../utils/popover/providers/popover-toggle.service';\nimport { TabsLayout } from './enums/tabs-layout.enum';\nimport { TabsService } from './providers/tabs.service';\nimport { ClrTab } from './tab';\nimport { ClrTabLink } from './tab-link.directive';\nimport { TABS_ID, TABS_ID_PROVIDER } from './tabs-id.provider';\nimport { ClrTabOverflowContent } from './tab-overflow-content';\n\n@Component({\n  selector: 'clr-tabs',\n  template: `\n        <ul class=\"nav\" role=\"tablist\" [attr.aria-owns]=\"tabIds\" [clrKeyFocus]=\"tabLinkElements\" clrDirection=\"both\" (clrFocusChange)=\"toggleOverflowOnPosition($event)\" (focusout)=\"resetKeyFocusCurrentToActive($event)\">\n            <!--tab links-->\n            <ng-container *ngFor=\"let link of tabLinkDirectives\">\n                <ng-container *ngIf=\"link.tabsId === tabsId && !link.inOverflow\">\n                    <li role=\"presentation\" class=\"nav-item\">\n                        <ng-container [ngTemplateOutlet]=\"link.templateRefContainer.template\"></ng-container>\n                    </li>\n                </ng-container>\n            </ng-container>\n            <ng-container *ngIf=\"tabsService.overflowTabs.length > 0\">\n                <div class=\"tabs-overflow bottom-right\" role=\"presentation\" \n                  [class.open]=\"toggleService.open\">\n                    <li role=\"application\" class=\"nav-item\">\n                        <button #tabOverflowTrigger class=\"btn btn-link nav-link dropdown-toggle\" type=\"button\" aria-hidden=\"true\" \n                        [attr.tabindex]=\"activeTabInOverflow && !toggleService.open? 0: -1\"\n                        [class.active]=\"activeTabInOverflow\"\n                        [class.open]=\"toggleService.open\"\n                        (mousedown)=\"_mousedown = true\"\n                        (focus)=\"openOverflowOnFocus()\"\n                        (click)=\"toggleOverflowOnClick()\">\n                            <clr-icon shape=\"ellipsis-horizontal\"\n                              [class.is-info]=\"toggleService.open\"\n                              [attr.title]=\"commonStrings.keys.more\"></clr-icon>\n                        </button>\n                    </li>\n                    <!--tab links in overflow menu-->\n                    <clr-tab-overflow-content *ngIf=\"toggleService.open\"  \n                      (document:keydown.esc)=\"closeOnEscapeKey()\" \n                      (document:click)=\"closeOnOutsideClick($event, tabOverflowTrigger)\"\n                      (focusout)=\"closeOnFocusOut($event)\">\n                        <ng-container *ngFor=\"let link of tabLinkDirectives\">\n                            <ng-container *ngIf=\"link.tabsId === tabsId && link.inOverflow\"\n                                          [ngTemplateOutlet]=\"link.templateRefContainer.template\">\n                            </ng-container>\n                        </ng-container>\n                    </clr-tab-overflow-content>\n                </div>\n            </ng-container>\n        </ul>\n        <ng-container #tabContentViewContainer></ng-container>\n    `,\n  providers: [IfActiveService, ClrPopoverToggleService, TabsService, TABS_ID_PROVIDER],\n})\nexport class ClrTabs implements AfterContentInit, OnDestroy {\n  private subscriptions: Subscription[] = [];\n\n  private get overflowPosition() {\n    return this._tabLinkDirectives.filter(link => !link.inOverflow).length;\n  }\n\n  /* tslint:disable:no-unused-variable */\n  @ViewChild('tabContentViewContainer', { static: true, read: ViewContainerRef })\n  private set tabContentViewContainer(value: ViewContainerRef) {\n    this.tabsService.tabContentViewContainer = value;\n  }\n  /* tslint:enable:no-unused-variable */\n\n  @Input('clrLayout')\n  set layout(layout: TabsLayout) {\n    if (\n      Object.keys(TabsLayout)\n        .map(key => {\n          return TabsLayout[key];\n        })\n        .indexOf(layout) >= 0\n    ) {\n      this.tabsService.layout = layout;\n    }\n  }\n  get layout(): TabsLayout {\n    return this.tabsService.layout;\n  }\n\n  @ContentChildren(ClrTab) private tabs: QueryList<ClrTab>;\n\n  private _tabLinkDirectives: ClrTabLink[] = [];\n  get tabLinkDirectives(): ClrTabLink[] {\n    return this._tabLinkDirectives;\n  }\n\n  tabLinkElements: HTMLElement[] = [];\n\n  @ViewChild(ClrKeyFocus, { static: true })\n  keyFocus: ClrKeyFocus;\n\n  constructor(\n    public ifActiveService: IfActiveService,\n    public toggleService: ClrPopoverToggleService,\n    public tabsService: TabsService,\n    @Inject(TABS_ID) public tabsId: number,\n    public commonStrings: ClrCommonStringsService\n  ) {}\n\n  get activeTabInOverflow() {\n    return this.tabsService.overflowTabs.indexOf(this.tabsService.activeTab) > -1;\n  }\n\n  get activeTabPosition() {\n    return this._tabLinkDirectives.findIndex(link => link.active);\n  }\n\n  get tabIds() {\n    return this.tabsService.children.map(tab => tab.tabLink.tabLinkId).join(' ');\n  }\n\n  get isCurrentInOverflow() {\n    return this.keyFocus.current >= this.overflowPosition;\n  }\n\n  @HostBinding('class.tabs-vertical')\n  get isVertical() {\n    return this.layout === TabsLayout.VERTICAL;\n  }\n\n  toggleOverflowOnPosition(position: number) {\n    // we need to check current position to determine\n    // whether we need to open the tab overflow or not\n    this.toggleService.open = position >= this.overflowPosition;\n  }\n\n  private _tabOverflowEl: HTMLElement;\n\n  @ViewChild(ClrTabOverflowContent, { read: ElementRef })\n  set tabOverflowEl(value: ElementRef) {\n    this._tabOverflowEl = value && value.nativeElement;\n    if (this.toggleService.open && value) {\n      // only when tab overflow view element is registered,\n      // we need to move the focus to the first item\n      this.keyFocus.focusCurrent();\n    }\n  }\n\n  resetKeyFocusCurrentToActive(event: FocusEvent) {\n    const keyFocusContainsFocus = this.keyFocus.nativeElement.contains(<HTMLElement>event.relatedTarget);\n    if (!keyFocusContainsFocus && this.keyFocus.current !== this.activeTabPosition) {\n      this.keyFocus.current = this.activeTabPosition;\n    }\n  }\n\n  toggleOverflowOnClick() {\n    if (this.isCurrentInOverflow && this.toggleService.open) {\n      this.keyFocus.moveTo(this.overflowPosition - 1);\n    } else {\n      this.keyFocus.moveTo(this.overflowPosition);\n    }\n\n    // once click handler completes running,\n    // reset the _mousedown flag\n    this._mousedown = false;\n  }\n\n  // in order to check focus is triggered by click\n  // we are using this _mousedown flag\n  _mousedown = false;\n\n  openOverflowOnFocus() {\n    // This method should be called only on keyboard generated focus\n    // when the active tab is in the overflow\n    if (!this._mousedown && !this.toggleService.open) {\n      this.keyFocus.moveTo(this.activeTabPosition);\n    }\n  }\n\n  closeOnFocusOut(event: FocusEvent) {\n    if (\n      !this._tabOverflowEl.contains(<HTMLElement>event.relatedTarget) &&\n      this.toggleService.open &&\n      !this._mousedown\n    ) {\n      this.toggleService.open = false;\n\n      // if the focus is out of overflow and lands on the active tab link\n      // which is currently visible, set the key focus current to activeTabPosition\n      if (this.tabLinkElements[this.activeTabPosition] === event.relatedTarget) {\n        this.keyFocus.current = this.activeTabPosition;\n      }\n    }\n  }\n\n  closeOnEscapeKey() {\n    // Move current to the last visible focusable item\n    this.keyFocus.moveTo(this.overflowPosition - 1);\n  }\n\n  closeOnOutsideClick(event: Event, tabOverflowTrigger: HTMLElement) {\n    // Exit early if the event target is the trigger element itself or element that's inside the trigger element.\n    // This is because we have another handler on the tabOverflowTrigger element itself.\n    // As this handler method is on the document level so the event bubbles up to it and conflicts\n    // with the tabOverflowTrigger handler resulting in opening the tab overflow and closing it right away consecutively.\n    if (event.target === tabOverflowTrigger || tabOverflowTrigger.contains(<HTMLElement>event.target)) {\n      return;\n    }\n\n    // Move current to the last visible focusable item\n    if (!this._tabOverflowEl.contains(<HTMLElement>event.target) && this.isCurrentInOverflow) {\n      this.keyFocus.moveTo(this.overflowPosition - 1);\n    }\n  }\n\n  private listenForTabLinkChanges() {\n    return this.tabs.changes.pipe(startWith(this.tabs.map(tab => tab.tabLink))).subscribe(() => {\n      this._tabLinkDirectives = this.tabs.map(tab => tab.tabLink);\n      this.tabLinkElements = this._tabLinkDirectives.map(tab => tab.el.nativeElement);\n    });\n  }\n\n  ngAfterContentInit() {\n    this.subscriptions.push(this.listenForTabLinkChanges());\n\n    if (typeof this.ifActiveService.current === 'undefined' && this.tabLinkDirectives[0]) {\n      this.tabLinkDirectives[0].activate();\n    }\n\n    // set initial current position\n    this.keyFocus.current = this.activeTabPosition;\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(sub => {\n      sub.unsubscribe();\n    });\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { CommonModule } from '@angular/common';\nimport { NgModule, Type } from '@angular/core';\n\nimport { ClrKeyFocus } from './key-focus';\nimport { ClrKeyFocusItem } from './key-focus-item';\n\nconst KEY_FOCUS_DIRECTIVES: Type<any>[] = [ClrKeyFocus, ClrKeyFocusItem];\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [KEY_FOCUS_DIRECTIVES],\n  exports: [KEY_FOCUS_DIRECTIVES],\n})\nexport class ClrKeyFocusModule {}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule, Type } from '@angular/core';\n\nimport { ClrIconModule } from '../../icon/icon.module';\nimport { ClrConditionalModule } from '../../utils/conditional/conditional.module';\nimport { ClrTemplateRefModule } from '../../utils/template-ref/template-ref.module';\n\nimport { ActiveOompaLoompa } from './chocolate/active-oompa-loompa';\nimport { TabsWillyWonka } from './chocolate/tabs-willy-wonka';\nimport { ClrTab } from './tab';\nimport { ClrTabContent } from './tab-content';\nimport { ClrTabLink } from './tab-link.directive';\nimport { ClrTabOverflowContent } from './tab-overflow-content';\nimport { ClrTabs } from './tabs';\nimport { ClrKeyFocusModule } from '../../utils/focus/key-focus/key-focus.module';\n\nexport const CLR_TABS_DIRECTIVES: Type<any>[] = [\n  ClrTabContent,\n  ClrTab,\n  ClrTabs,\n  ClrTabOverflowContent,\n  ClrTabLink,\n  TabsWillyWonka,\n  ActiveOompaLoompa,\n];\n\n@NgModule({\n  imports: [CommonModule, ClrConditionalModule, ClrIconModule, ClrTemplateRefModule, ClrKeyFocusModule],\n  declarations: [CLR_TABS_DIRECTIVES],\n  exports: [CLR_TABS_DIRECTIVES, ClrConditionalModule],\n})\nexport class ClrTabsModule {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable } from '@angular/core';\n\n@Injectable()\nexport class VerticalNavGroupRegistrationService {\n  public navGroupCount: number = 0;\n\n  registerNavGroup() {\n    this.navGroupCount++;\n  }\n\n  unregisterNavGroup(): void {\n    this.navGroupCount--;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable } from '@angular/core';\n\n@Injectable()\nexport class VerticalNavIconService {\n  private _icons: number = 0;\n\n  get hasIcons(): boolean {\n    return this._icons > 0;\n  }\n\n  registerIcon(): void {\n    this._icons++;\n  }\n\n  unregisterIcon(): void {\n    this._icons--;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { Subject } from 'rxjs';\n\n@Injectable()\nexport class VerticalNavService {\n  private _animateOnCollapsed: Subject<boolean> = new Subject<boolean>();\n\n  get animateOnCollapsed(): Observable<boolean> {\n    return this._animateOnCollapsed.asObservable();\n  }\n\n  private _collapsedChanged: Subject<boolean> = new Subject<boolean>();\n\n  get collapsedChanged(): Observable<boolean> {\n    return this._collapsedChanged.asObservable();\n  }\n\n  private _collapsed: boolean = false;\n\n  get collapsed(): boolean {\n    return this._collapsed;\n  }\n\n  set collapsed(value: boolean) {\n    value = !!value;\n    if (this.collapsible && this._collapsed !== value) {\n      this.updateCollapseBehavior(value);\n    }\n  }\n\n  private _collapsible: boolean = false;\n\n  get collapsible(): boolean {\n    return this._collapsible;\n  }\n\n  set collapsible(value: boolean) {\n    value = !!value;\n    if (this._collapsible !== value) {\n      if (!value && this.collapsed) {\n        this.updateCollapseBehavior(false);\n      }\n      this._collapsible = value;\n    }\n  }\n\n  private updateCollapseBehavior(value: boolean): void {\n    this._animateOnCollapsed.next(value);\n    this._collapsed = value;\n    this._collapsedChanged.next(value);\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component, EventEmitter, Input, OnDestroy, Output } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { VerticalNavGroupRegistrationService } from './providers/vertical-nav-group-registration.service';\nimport { VerticalNavIconService } from './providers/vertical-nav-icon.service';\nimport { VerticalNavService } from './providers/vertical-nav.service';\nimport { ClrCommonStringsService } from '../../utils/i18n/common-strings.service';\n\n@Component({\n  selector: 'clr-vertical-nav',\n  templateUrl: './vertical-nav.html',\n  providers: [VerticalNavService, VerticalNavIconService, VerticalNavGroupRegistrationService],\n  host: {\n    class: 'clr-vertical-nav',\n    '[class.is-collapsed]': 'collapsed',\n    '[class.has-nav-groups]': 'hasNavGroups',\n    '[class.has-icons]': 'hasIcons',\n  },\n})\nexport class ClrVerticalNav implements OnDestroy {\n  get collapsible(): boolean {\n    return this._navService.collapsible;\n  }\n\n  @Input('clrVerticalNavCollapsible')\n  set collapsible(value: boolean) {\n    this._navService.collapsible = value;\n  }\n\n  get collapsed(): boolean {\n    return this._navService.collapsed;\n  }\n\n  @Input('clrVerticalNavCollapsed')\n  set collapsed(value: boolean) {\n    this._navService.collapsed = value;\n  }\n\n  @Output('clrVerticalNavCollapsedChange')\n  private _collapsedChanged: EventEmitter<boolean> = new EventEmitter<boolean>(true);\n\n  get hasNavGroups(): boolean {\n    return this._navGroupRegistrationService.navGroupCount > 0;\n  }\n\n  get hasIcons(): boolean {\n    return this._navIconService.hasIcons;\n  }\n\n  get ariaExpanded(): string {\n    if (!this.collapsible) {\n      return null;\n    }\n    return !this.collapsed ? 'true' : 'false';\n  }\n\n  private _sub: Subscription;\n\n  constructor(\n    private _navService: VerticalNavService,\n    private _navIconService: VerticalNavIconService,\n    private _navGroupRegistrationService: VerticalNavGroupRegistrationService,\n    public commonStrings: ClrCommonStringsService\n  ) {\n    this._sub = this._navService.collapsedChanged.subscribe(value => {\n      this._collapsedChanged.emit(value);\n    });\n  }\n\n  toggleByButton() {\n    this.collapsed = !this.collapsed;\n  }\n\n  ngOnDestroy() {\n    this._sub.unsubscribe();\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { Subject } from 'rxjs';\n\n@Injectable()\nexport class VerticalNavGroupService {\n  private _expandChange: Subject<boolean> = new Subject<boolean>();\n\n  get expandChange(): Observable<boolean> {\n    return this._expandChange.asObservable();\n  }\n\n  expand(): void {\n    this._expandChange.next(true);\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { animate, AnimationEvent, state, style, transition, trigger } from '@angular/animations';\nimport { AfterContentInit, Component, EventEmitter, HostBinding, Input, OnDestroy, Output } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { IfExpandService } from '../../utils/conditional/if-expanded.service';\n\nimport { VerticalNavGroupRegistrationService } from './providers/vertical-nav-group-registration.service';\nimport { VerticalNavGroupService } from './providers/vertical-nav-group.service';\nimport { VerticalNavService } from './providers/vertical-nav.service';\nimport { ClrCommonStringsService } from '../../utils/i18n/common-strings.service';\n\nconst EXPANDED_STATE: string = 'expanded';\nconst COLLAPSED_STATE: string = 'collapsed';\n\n@Component({\n  selector: 'clr-vertical-nav-group',\n  templateUrl: './vertical-nav-group.html',\n  providers: [IfExpandService, VerticalNavGroupService],\n  animations: [\n    trigger('clrExpand', [\n      state(EXPANDED_STATE, style({ height: '*' })),\n      state(COLLAPSED_STATE, style({ height: 0, 'overflow-y': 'hidden', visibility: 'hidden' })),\n      transition(`${EXPANDED_STATE} <=> ${COLLAPSED_STATE}`, animate('0.2s ease-in-out')),\n    ]),\n  ],\n  host: { class: 'nav-group' },\n})\nexport class ClrVerticalNavGroup implements AfterContentInit, OnDestroy {\n  constructor(\n    private _itemExpand: IfExpandService,\n    private _navGroupRegistrationService: VerticalNavGroupRegistrationService,\n    private _navGroupService: VerticalNavGroupService,\n    private _navService: VerticalNavService,\n    public commonStrings: ClrCommonStringsService\n  ) {\n    this._navGroupRegistrationService.registerNavGroup();\n\n    // FIXME: This subscription handles a corner case\n    // Vertical Nav collapse requires the animation to run first and then\n    // remove the nodes from the DOM. If the user directly sets the input\n    // on the clrIfExpanded directive, we have no chance to run the animation\n    // and wait for it to complete. This subscription makes sure that the\n    // animation states are correct for that edge case.\n    this._subscriptions.push(\n      this._itemExpand.expandChange.subscribe(value => {\n        if (value && this.expandAnimationState === COLLAPSED_STATE) {\n          if (this._navService.collapsed) {\n            this._navService.collapsed = false;\n          }\n          this.expandAnimationState = EXPANDED_STATE;\n        } else if (!value && this.expandAnimationState === EXPANDED_STATE) {\n          this.expandAnimationState = COLLAPSED_STATE;\n        }\n      })\n    );\n\n    // 1. If the nav is collapsing, close the open nav group + save its state\n    // 2. If the nav is expanding, expand the nav group if the previous state was expanded\n    this._subscriptions.push(\n      this._navService.animateOnCollapsed.subscribe((goingToCollapse: boolean) => {\n        if (goingToCollapse && this.expanded) {\n          this.wasExpanded = true;\n          this.expandAnimationState = COLLAPSED_STATE;\n        } else if (!goingToCollapse && this.wasExpanded) {\n          this.expandGroup();\n          this.wasExpanded = false;\n        }\n      })\n    );\n\n    // If a link is clicked, expand the nav group\n    this._subscriptions.push(\n      this._navGroupService.expandChange.subscribe((expand: boolean) => {\n        if (expand && !this.expanded) {\n          this.expandGroup();\n        }\n      })\n    );\n  }\n\n  private wasExpanded: boolean = false;\n\n  @HostBinding('class.is-expanded')\n  get expanded(): boolean {\n    return this._itemExpand.expanded;\n  }\n\n  set expanded(value: boolean) {\n    if (this._itemExpand.expanded !== value) {\n      this._itemExpand.expanded = value;\n      this.expandedChange.emit(value);\n    }\n  }\n\n  @Input('clrVerticalNavGroupExpanded')\n  set userExpandedInput(value: boolean) {\n    value = !!value;\n    if (this.expanded !== value) {\n      // We have to call toggleExpand because some cases require animations to occur first\n      // Directly setting the Expand service value skips the animation and can result in\n      // nodes in the DOM but the nav group still being collapsed\n      this.toggleExpand();\n    }\n  }\n\n  @Output('clrVerticalNavGroupExpandedChange') expandedChange: EventEmitter<boolean> = new EventEmitter<boolean>(true);\n\n  private _subscriptions: Subscription[] = [];\n\n  private _expandAnimationState: string = COLLAPSED_STATE;\n\n  expandGroup(): void {\n    this.expanded = true;\n    // Expanded animation occurs after Expand.expand is set to true\n    this.expandAnimationState = EXPANDED_STATE;\n  }\n\n  collapseGroup(): void {\n    // If a Vertical Nav Group toggle button is clicked while the Vertical Nav is in Collapsed state,\n    // the Vertical Nav should be expanded first.\n    this.expandAnimationState = COLLAPSED_STATE;\n  }\n\n  // closes a group after the collapse animation\n  expandAnimationDone($event: AnimationEvent) {\n    if ($event.toState === COLLAPSED_STATE) {\n      this.expanded = false;\n    }\n  }\n\n  get expandAnimationState(): string {\n    return this._expandAnimationState;\n  }\n\n  set expandAnimationState(value: string) {\n    if (value !== this._expandAnimationState) {\n      this._expandAnimationState = value;\n    }\n  }\n\n  toggleExpand(): void {\n    if (this.expanded) {\n      this.collapseGroup();\n    } else {\n      // If nav is collasped, first open the nav\n      if (this._navService.collapsed) {\n        this._navService.collapsed = false;\n      }\n      // then expand the nav group\n      this.expandGroup();\n    }\n  }\n\n  ngAfterContentInit() {\n    // This makes sure that if someone marks a nav group expanded in a collapsed nav\n    // the expanded property is switched back to collapsed state.\n    if (this._navService.collapsed && this.expanded) {\n      this.wasExpanded = true;\n      this.expandAnimationState = COLLAPSED_STATE;\n    }\n  }\n\n  ngOnDestroy() {\n    this._subscriptions.forEach((sub: Subscription) => sub.unsubscribe());\n    this._navGroupRegistrationService.unregisterNavGroup();\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component } from '@angular/core';\n\n@Component({\n  selector: 'clr-vertical-nav-group-children',\n  template: `\n        <ng-content></ng-content>\n    `,\n})\nexport class ClrVerticalNavGroupChildren {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Directive, OnDestroy } from '@angular/core';\nimport { VerticalNavIconService } from './providers/vertical-nav-icon.service';\n\n@Directive({ selector: '[clrVerticalNavIcon]', host: { class: 'nav-icon' } })\nexport class ClrVerticalNavIcon implements OnDestroy {\n  constructor(private _verticalNavIconService: VerticalNavIconService) {\n    this._verticalNavIconService.registerIcon();\n  }\n\n  ngOnDestroy() {\n    this._verticalNavIconService.unregisterIcon();\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Component, HostListener, Optional } from '@angular/core';\nimport { VerticalNavGroupService } from './providers/vertical-nav-group.service';\n\n@Component({\n  selector: '[clrVerticalNavLink]',\n  template: `\n        <ng-content select=\"[clrVerticalNavIcon]\"></ng-content>\n        <span class=\"nav-text\">\n            <ng-content></ng-content>    \n        </span>\n    `,\n  host: { class: 'nav-link' },\n})\nexport class ClrVerticalNavLink {\n  constructor(@Optional() private _navGroupService: VerticalNavGroupService) {}\n\n  @HostListener('click')\n  public expandParentNavGroup(): void {\n    if (this._navGroupService) {\n      this._navGroupService.expand();\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule, Type } from '@angular/core';\n\nimport { ClrIconModule } from '../../icon/icon.module';\nimport { ClrConditionalModule } from '../../utils/conditional/conditional.module';\nimport { ClrFocusOnViewInitModule } from '../../utils/focus/focus-on-view-init/focus-on-view-init.module';\n\nimport { ClrVerticalNav } from './vertical-nav';\nimport { ClrVerticalNavGroup } from './vertical-nav-group';\nimport { ClrVerticalNavGroupChildren } from './vertical-nav-group-children';\nimport { ClrVerticalNavIcon } from './vertical-nav-icon';\nimport { ClrVerticalNavLink } from './vertical-nav-link';\n\nexport const CLR_VERTICAL_NAV_DIRECTIVES: Type<any>[] = [\n  ClrVerticalNav,\n  ClrVerticalNavLink,\n  ClrVerticalNavGroup,\n  ClrVerticalNavGroupChildren,\n  ClrVerticalNavIcon,\n];\n\n@NgModule({\n  imports: [CommonModule, ClrIconModule, ClrConditionalModule, ClrFocusOnViewInitModule],\n  declarations: [CLR_VERTICAL_NAV_DIRECTIVES],\n  exports: [CLR_VERTICAL_NAV_DIRECTIVES, ClrConditionalModule, ClrIconModule, ClrFocusOnViewInitModule],\n})\nexport class ClrVerticalNavModule {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { NgModule } from '@angular/core';\n\nimport { ClrMainContainerModule } from './main-container/main-container.module';\nimport { ClrNavigationModule } from './nav/navigation.module';\nimport { ClrTabsModule } from './tabs/tabs.module';\nimport { ClrVerticalNavModule } from './vertical-nav/vertical-nav.module';\n\n@NgModule({ exports: [ClrMainContainerModule, ClrNavigationModule, ClrTabsModule, ClrVerticalNavModule] })\nexport class ClrLayoutModule {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { DOCUMENT } from '@angular/common';\nimport { Inject, Injectable } from '@angular/core';\n\n@Injectable()\nexport class ScrollingService {\n  constructor(@Inject(DOCUMENT) private _document: any) {}\n\n  stopScrolling(): void {\n    this._document.body.classList.add('no-scrolling');\n  }\n\n  resumeScrolling(): void {\n    if (this._document.body.classList.contains('no-scrolling')) {\n      this._document.body.classList.remove('no-scrolling');\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { animate, AnimationEvent, style, transition, trigger } from '@angular/animations';\nimport {\n  Component,\n  EventEmitter,\n  HostBinding,\n  HostListener,\n  Inject,\n  Input,\n  OnChanges,\n  OnDestroy,\n  Output,\n  SimpleChange,\n  ViewChild,\n} from '@angular/core';\nimport { FocusTrapDirective } from '../utils/focus-trap/focus-trap.directive';\nimport { ClrCommonStringsService } from '../utils/i18n/common-strings.service';\nimport { UNIQUE_ID, UNIQUE_ID_PROVIDER } from '../utils/id-generator/id-generator.service';\nimport { ScrollingService } from '../utils/scrolling/scrolling-service';\n\n@Component({\n  selector: 'clr-modal',\n  viewProviders: [ScrollingService],\n  templateUrl: './modal.html',\n  styles: [\n    `\n        :host { display: none; }\n        :host.open { display: inline; }\n    `,\n  ],\n  animations: [\n    trigger('fadeDown', [\n      transition('* => false', [style({ opacity: 0, transform: 'translate(0, -25%)' }), animate('0.2s ease-in-out')]),\n      transition('false => *', [animate('0.2s ease-in-out', style({ opacity: 0, transform: 'translate(0, -25%)' }))]),\n    ]),\n    trigger('fade', [\n      transition('void => *', [style({ opacity: 0 }), animate('0.2s ease-in-out', style({ opacity: 0.85 }))]),\n      transition('* => void', [animate('0.2s ease-in-out', style({ opacity: 0 }))]),\n    ]),\n  ],\n  providers: [UNIQUE_ID_PROVIDER],\n})\nexport class ClrModal implements OnChanges, OnDestroy {\n  @ViewChild(FocusTrapDirective) focusTrap: FocusTrapDirective;\n\n  @HostBinding('class.open')\n  @Input('clrModalOpen')\n  _open: boolean = false;\n  @Output('clrModalOpenChange') _openChanged: EventEmitter<boolean> = new EventEmitter<boolean>(false);\n\n  @Input('clrModalClosable') closable: boolean = true;\n  @Input('clrModalSize') size: string;\n  @Input('clrModalStaticBackdrop') staticBackdrop: boolean = true;\n  @Input('clrModalSkipAnimation') skipAnimation: string = 'false';\n\n  // presently this is only used by wizards\n  @Input('clrModalOverrideScrollService') bypassScrollService: boolean = false;\n  @Input('clrModalPreventClose') stopClose: boolean = false;\n  @Output('clrModalAlternateClose') altClose: EventEmitter<boolean> = new EventEmitter<boolean>(false);\n\n  constructor(\n    private _scrollingService: ScrollingService,\n    public commonStrings: ClrCommonStringsService,\n    @Inject(UNIQUE_ID) public modalId: string\n  ) {}\n\n  // Detect when _open is set to true and set no-scrolling to true\n  ngOnChanges(changes: { [propName: string]: SimpleChange }): void {\n    if (!this.bypassScrollService && changes && changes.hasOwnProperty('_open')) {\n      if (changes._open.currentValue) {\n        this._scrollingService.stopScrolling();\n      } else {\n        this._scrollingService.resumeScrolling();\n      }\n    }\n  }\n\n  ngOnDestroy(): void {\n    this._scrollingService.resumeScrolling();\n  }\n\n  open(): void {\n    if (this._open) {\n      return;\n    }\n    this._open = true;\n    this._openChanged.emit(true);\n  }\n\n  @HostListener('body:keyup.escape')\n  close(): void {\n    if (this.stopClose) {\n      this.altClose.emit(false);\n      return;\n    }\n    if (!this.closable || !this._open) {\n      return;\n    }\n    this._open = false;\n    // SPECME\n    this.focusTrap.setPreviousFocus(); // Handles moving focus back to the element that had it before.\n  }\n\n  fadeDone(e: AnimationEvent) {\n    if (e.toState === 'void') {\n      // TODO: Investigate if we can decouple from animation events\n      this._openChanged.emit(false);\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Directive, HostListener } from '@angular/core';\n\n/**\n * Allows modal overflow area to be scrollable via keyboard.\n * The modal body will focus with keyboard navigation only.\n * This allows inner focusable items to be focused without\n * the overflow scroll being focused.\n */\n@Directive({\n  selector: '.modal-body',\n  host: {\n    '[attr.tabindex]': 'tabindex',\n  },\n})\nexport class ClrModalBody {\n  tabindex = 0;\n\n  @HostListener('mousedown')\n  mouseDown() {\n    // tabindex = 0 binding should be removed\n    // so it won't be focused when click starts with mousedown\n    delete this.tabindex;\n  }\n\n  @HostListener('mouseup')\n  mouseUp() {\n    // set the tabindex binding back when click is completed with mouseup\n    this.tabindex = 0;\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule, Type } from '@angular/core';\n\nimport { ClrIconModule } from '../icon/icon.module';\nimport { ClrFocusTrapModule } from '../utils/focus-trap/focus-trap.module';\nimport { ClrModal } from './modal';\nimport { ClrModalBody } from './modal-body';\nimport { ClrFocusOnViewInitModule } from '../utils/focus/focus-on-view-init/focus-on-view-init.module';\n\nexport const CLR_MODAL_DIRECTIVES: Type<any>[] = [ClrModal, ClrModalBody];\n\n@NgModule({\n  imports: [CommonModule, ClrIconModule, ClrFocusTrapModule, ClrFocusOnViewInitModule],\n  declarations: [CLR_MODAL_DIRECTIVES],\n  exports: [CLR_MODAL_DIRECTIVES, ClrIconModule, ClrFocusOnViewInitModule],\n})\nexport class ClrModalModule {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Point } from '../common/popover';\n\nexport interface Position {\n  anchorPoint: Point;\n  popoverPoint: Point;\n  offsetY: number;\n  offsetX: number;\n}\n\nexport const SIGNPOST_POSITIONS: { [input: string]: Position } = {\n  'top-left': { anchorPoint: Point.TOP_CENTER, popoverPoint: Point.BOTTOM_RIGHT, offsetY: -10, offsetX: 0 },\n  'top-middle': { anchorPoint: Point.TOP_CENTER, popoverPoint: Point.BOTTOM_CENTER, offsetY: -10, offsetX: 0 },\n  'top-right': { anchorPoint: Point.TOP_CENTER, popoverPoint: Point.BOTTOM_LEFT, offsetY: -10, offsetX: 0 },\n  'right-top': { anchorPoint: Point.RIGHT_CENTER, popoverPoint: Point.LEFT_BOTTOM, offsetY: 2, offsetX: 14 },\n  'right-middle': { anchorPoint: Point.RIGHT_CENTER, popoverPoint: Point.LEFT_CENTER, offsetY: 6, offsetX: 14 },\n  'right-bottom': { anchorPoint: Point.RIGHT_CENTER, popoverPoint: Point.LEFT_TOP, offsetY: -1, offsetX: 14 },\n  'bottom-right': { anchorPoint: Point.BOTTOM_CENTER, popoverPoint: Point.TOP_LEFT, offsetY: 9, offsetX: -1 },\n  'bottom-middle': { anchorPoint: Point.BOTTOM_CENTER, popoverPoint: Point.TOP_CENTER, offsetY: 9, offsetX: 12 },\n  'bottom-left': { anchorPoint: Point.BOTTOM_CENTER, popoverPoint: Point.TOP_RIGHT, offsetY: 9, offsetX: 0 },\n  'left-bottom': { anchorPoint: Point.LEFT_CENTER, popoverPoint: Point.RIGHT_TOP, offsetY: 0, offsetX: -14 },\n  'left-middle': { anchorPoint: Point.LEFT_CENTER, popoverPoint: Point.RIGHT_CENTER, offsetY: 4, offsetX: -14 },\n  'left-top': { anchorPoint: Point.LEFT_CENTER, popoverPoint: Point.RIGHT_BOTTOM, offsetY: 0, offsetX: -14 },\n  default: { anchorPoint: Point.RIGHT_CENTER, popoverPoint: Point.LEFT_CENTER, offsetY: 6, offsetX: 14 },\n};\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Component, ElementRef, Inject, Injector, Input, Optional, OnDestroy, PLATFORM_ID } from '@angular/core';\n\nimport { AbstractPopover } from '../common/abstract-popover';\nimport { POPOVER_HOST_ANCHOR } from '../common/popover-host-anchor.token';\n\nimport { SIGNPOST_POSITIONS } from './signpost-positions';\nimport { ClrCommonStringsService } from '../../utils/i18n/common-strings.service';\nimport { UNIQUE_ID, UNIQUE_ID_PROVIDER } from '../../utils/id-generator/id-generator.service';\nimport { SignpostIdService } from './providers/signpost-id.service';\nimport { SignpostFocusManager } from './providers/signpost-focus-manager.service';\nimport { DOCUMENT, isPlatformBrowser } from '@angular/common';\n\n// aka where the arrow / pointer is at in relation to the anchor\nconst POSITIONS: string[] = [\n  'top-left',\n  'top-middle',\n  'top-right',\n  'right-top',\n  'right-middle', // default\n  'right-bottom',\n  'bottom-right',\n  'bottom-middle',\n  'bottom-left',\n  'left-bottom',\n  'left-middle',\n  'left-top',\n];\n\n@Component({\n  selector: 'clr-signpost-content',\n  template: `\n      <div class=\"signpost-wrap\">\n          <div class=\"popover-pointer\"></div>\n          <div class=\"signpost-content-header\">\n              <button type=\"button\" [attr.aria-label]=\"commonStrings.keys.signpostClose\" class=\"signpost-action close\"\n                      (click)=\"close()\" [attr.aria-controls]=\"signpostContentId\">\n                  <clr-icon shape=\"close\" [attr.title]=\"commonStrings.keys.close\"></clr-icon>\n              </button>\n          </div>\n          <div class=\"signpost-content-body\">\n              <ng-content></ng-content>\n          </div>\n      </div>\n  `,\n  host: { '[class.signpost-content]': 'true', '[id]': 'signpostContentId' },\n  providers: [UNIQUE_ID_PROVIDER],\n})\nexport class ClrSignpostContent extends AbstractPopover implements OnDestroy {\n  private document: Document;\n\n  constructor(\n    injector: Injector,\n    @Optional()\n    @Inject(POPOVER_HOST_ANCHOR)\n    parentHost: ElementRef,\n    public commonStrings: ClrCommonStringsService,\n    @Inject(UNIQUE_ID) public signpostContentId: string,\n    private signpostIdService: SignpostIdService,\n    private signpostFocusManager: SignpostFocusManager,\n    @Inject(PLATFORM_ID) private platformId: Object,\n    @Inject(DOCUMENT) document: any\n  ) {\n    super(injector, parentHost);\n    if (!parentHost) {\n      throw new Error('clr-signpost-content should only be used inside of a clr-signpost');\n    }\n    // Defaults\n    this.position = 'right-middle';\n    this.closeOnOutsideClick = true;\n    this.signpostIdService.setId(signpostContentId);\n\n    this.document = document;\n  }\n\n  /**********\n   *\n   * @description\n   * Close function that uses the signpost instance to toggle the state of the content popover.\n   *\n   */\n  close() {\n    this.toggleService.open = false;\n  }\n\n  private _position: string;\n\n  get position() {\n    return this._position;\n  }\n\n  /*********\n   *\n   * @description\n   * A setter for the position of the ClrSignpostContent popover. This is a combination of the following:\n   * - anchorPoint - where on the trigger to anchor the ClrSignpostContent\n   * - popoverPoint - where on the ClrSignpostContent container to align with the anchorPoint\n   * - offsetY - where on the Y axis to align the ClrSignpostContent so it meets specs\n   * - offsetX - where on the X axis to align the ClrSignpostContent so it meets specs\n   * There are 12 possible positions to place a ClrSignpostContent container:\n   * - top-left\n   * - top-middle\n   * - top-right\n   * - right-top\n   * - right-middle\n   * - right-bottom\n   * - bottom-right\n   * - bottom-middle\n   * - bottom-left\n   * - left-bottom\n   * - left-middle\n   * - left-top\n   *\n   * I think of it as follows for 'top-left' -> CONTAINER_SIDE-SIDE_POSITION. In this case CONTAINER_SIDE is 'top'\n   * meaning the top of the trigger icon (above the icon that hides/shows) the ClrSignpostContent. And, SIDE_POSITION\n   * is 'left' meaning two things: 1) the ClrSignpostContent container extends to the left and 2) the 'arrow/pointer'\n   * linking the SingpostContent to the trigger points down at the horizontal center of the trigger icon.\n   *\n   * @param newPosition\n   */\n  @Input('clrPosition')\n  set position(position: string) {\n    // Ugh\n    this.renderer.removeClass(this.el.nativeElement, this.position);\n    if (position && POSITIONS.indexOf(position) > -1) {\n      this._position = position;\n    } else {\n      this._position = 'right-middle';\n    }\n    // Ugh\n    this.renderer.addClass(this.el.nativeElement, this.position);\n\n    const setPosition = SIGNPOST_POSITIONS[this.position];\n    this.anchorPoint = setPosition.anchorPoint;\n    this.popoverPoint = setPosition.popoverPoint;\n    this.popoverOptions.offsetY = setPosition.offsetY;\n    this.popoverOptions.offsetX = setPosition.offsetX;\n  }\n\n  ngOnDestroy() {\n    if (isPlatformBrowser(this.platformId) && this.el.nativeElement.contains(this.document.activeElement)) {\n      this.signpostFocusManager.focusTrigger();\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule, Type } from '@angular/core';\n\nimport { ClrIconModule } from '../../icon/icon.module';\nimport { ClrConditionalModule } from '../../utils/conditional/conditional.module';\nimport { ClrFocusOnViewInitModule } from '../../utils/focus/focus-on-view-init/focus-on-view-init.module';\n\nimport { ClrSignpost } from './signpost';\nimport { ClrSignpostContent } from './signpost-content';\nimport { ClrSignpostTrigger } from './signpost-trigger';\n\nexport const CLR_SIGNPOST_DIRECTIVES: Type<any>[] = [ClrSignpost, ClrSignpostContent, ClrSignpostTrigger];\n\n@NgModule({\n  imports: [CommonModule, ClrIconModule, ClrFocusOnViewInitModule],\n  declarations: [CLR_SIGNPOST_DIRECTIVES],\n  exports: [CLR_SIGNPOST_DIRECTIVES, ClrConditionalModule],\n})\nexport class ClrSignpostModule {}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable } from '@angular/core';\nimport { Observable, Subject } from 'rxjs';\n\n@Injectable()\nexport class TooltipIdService {\n  private _id: Subject<string> = new Subject<string>();\n\n  updateId(id: string) {\n    this._id.next(id);\n  }\n\n  get id(): Observable<string> {\n    return this._id.asObservable();\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Component, ElementRef } from '@angular/core';\nimport { ClrPopoverToggleService } from '../../utils/popover/providers/popover-toggle.service';\nimport { POPOVER_HOST_ANCHOR } from '../common/popover-host-anchor.token';\nimport { UNIQUE_ID_PROVIDER } from '../../utils/id-generator/id-generator.service';\nimport { TooltipIdService } from './providers/tooltip-id.service';\n\n@Component({\n  selector: 'clr-tooltip',\n  template: `\n        <ng-content></ng-content>\n    `,\n  host: {\n    '[class.tooltip]': 'true',\n  },\n  providers: [\n    ClrPopoverToggleService,\n    { provide: POPOVER_HOST_ANCHOR, useExisting: ElementRef },\n    // TODO: consider centralizing the unique id string on a service that provides ariaAttributes that need it\n    // AriaService in layout/tabs/providers might be a good starting point.\n    UNIQUE_ID_PROVIDER,\n    TooltipIdService,\n  ],\n})\nexport class ClrTooltip {}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Component, ElementRef, Inject, Injector, Input, Optional } from '@angular/core';\nimport { AbstractPopover } from '../common/abstract-popover';\nimport { Point } from '../common/popover';\nimport { POPOVER_HOST_ANCHOR } from '../common/popover-host-anchor.token';\nimport { UNIQUE_ID } from '../../utils/id-generator/id-generator.service';\nimport { TooltipIdService } from './providers/tooltip-id.service';\n\nconst POSITIONS: string[] = ['bottom-left', 'bottom-right', 'top-left', 'top-right', 'right', 'left'];\n\nconst SIZES: string[] = ['xs', 'sm', 'md', 'lg'];\n\n@Component({\n  selector: 'clr-tooltip-content',\n  template: `\n        <ng-content></ng-content>\n    `,\n  host: {\n    '[class.tooltip-content]': 'true',\n    '[style.opacity]': '1',\n    '[attr.role]': '\"tooltip\"',\n    '[id]': 'id',\n  },\n})\nexport class ClrTooltipContent extends AbstractPopover {\n  constructor(\n    injector: Injector,\n    @Optional()\n    @Inject(POPOVER_HOST_ANCHOR)\n    parentHost: ElementRef,\n    @Inject(UNIQUE_ID) public uniqueId: string,\n    private tooltipIdService: TooltipIdService\n  ) {\n    super(injector, parentHost);\n\n    if (!parentHost) {\n      throw new Error('clr-tooltip-content should only be used inside of a clr-tooltip');\n    }\n\n    // Defaults\n    this.position = 'right';\n    this.size = 'sm';\n\n    // Set the default id in case consumer does not supply a custom id.\n    this.updateId(uniqueId);\n  }\n\n  private _position: string;\n\n  get position() {\n    return this._position;\n  }\n\n  get id(): string {\n    return this._id;\n  }\n\n  @Input()\n  set id(value: string) {\n    value ? this.updateId(value) : this.updateId('');\n  }\n  private _id;\n\n  private updateId(id: string) {\n    this._id = id;\n    this.tooltipIdService.updateId(id);\n  }\n\n  @Input('clrPosition')\n  set position(position: string) {\n    // Ugh\n    this.renderer.removeClass(this.el.nativeElement, 'tooltip-' + this.position);\n    if (position && POSITIONS.indexOf(position) > -1) {\n      this._position = position;\n    } else {\n      this._position = 'right';\n    }\n    // Ugh\n    this.renderer.addClass(this.el.nativeElement, 'tooltip-' + this.position);\n\n    // set the popover values based on direction\n    switch (position) {\n      case 'top-right':\n        this.anchorPoint = Point.TOP_CENTER;\n        this.popoverPoint = Point.LEFT_BOTTOM;\n        break;\n      case 'top-left':\n        this.anchorPoint = Point.TOP_CENTER;\n        this.popoverPoint = Point.RIGHT_BOTTOM;\n        break;\n      case 'bottom-right':\n        this.anchorPoint = Point.BOTTOM_CENTER;\n        this.popoverPoint = Point.LEFT_TOP;\n        break;\n      case 'bottom-left':\n        this.anchorPoint = Point.BOTTOM_CENTER;\n        this.popoverPoint = Point.RIGHT_TOP;\n        break;\n      case 'right':\n        this.anchorPoint = Point.RIGHT_CENTER;\n        this.popoverPoint = Point.LEFT_TOP;\n        break;\n      case 'left':\n        this.anchorPoint = Point.LEFT_CENTER;\n        this.popoverPoint = Point.RIGHT_TOP;\n        break;\n      default:\n        this.anchorPoint = Point.RIGHT_CENTER;\n        this.popoverPoint = Point.LEFT_TOP;\n        break;\n    }\n  }\n\n  private _size: string;\n\n  get size() {\n    return this._size;\n  }\n\n  @Input('clrSize')\n  set size(size: string) {\n    // Ugh\n    this.renderer.removeClass(this.el.nativeElement, 'tooltip-' + this.size);\n    if (size && SIZES.indexOf(size) > -1) {\n      this._size = size;\n    } else {\n      this._size = 'sm';\n    }\n    // Ugh\n    this.renderer.addClass(this.el.nativeElement, 'tooltip-' + this.size);\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Directive, HostListener } from '@angular/core';\nimport { ClrPopoverToggleService } from '../../utils/popover/providers/popover-toggle.service';\nimport { TooltipIdService } from './providers/tooltip-id.service';\nimport { Subscription } from 'rxjs';\n\n@Directive({\n  selector: '[clrTooltipTrigger]',\n  host: {\n    tabindex: '0',\n    '[class.tooltip-trigger]': 'true',\n    '[attr.aria-describedby]': 'ariaDescribedBy',\n    '[attr.role]': '\"button\"',\n  },\n})\nexport class ClrTooltipTrigger {\n  public ariaDescribedBy;\n  private subs: Subscription[] = [];\n  constructor(private toggleService: ClrPopoverToggleService, private tooltipIdService: TooltipIdService) {\n    // The aria-described by comes from the id of content. It\n    this.subs.push(this.tooltipIdService.id.subscribe(tooltipId => (this.ariaDescribedBy = tooltipId)));\n  }\n\n  @HostListener('mouseenter')\n  @HostListener('focus')\n  showTooltip(): void {\n    this.toggleService.open = true;\n  }\n\n  @HostListener('mouseleave')\n  @HostListener('blur')\n  hideTooltip(): void {\n    this.toggleService.open = false;\n  }\n\n  ngOnDestroy() {\n    this.subs.forEach(sub => sub.unsubscribe());\n  }\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule, Type } from '@angular/core';\n\nimport { ClrIconModule } from '../../icon/icon.module';\nimport { ClrConditionalModule } from '../../utils/conditional/conditional.module';\n\nimport { ClrTooltip } from './tooltip';\nimport { ClrTooltipContent } from './tooltip-content';\nimport { ClrTooltipTrigger } from './tooltip-trigger';\n\nexport const CLR_TOOLTIP_DIRECTIVES: Type<any>[] = [ClrTooltip, ClrTooltipTrigger, ClrTooltipContent];\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [CLR_TOOLTIP_DIRECTIVES],\n  exports: [CLR_TOOLTIP_DIRECTIVES, ClrConditionalModule, ClrIconModule],\n})\nexport class ClrTooltipModule {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { NgModule } from '@angular/core';\n\nimport { ClrDropdownModule } from './dropdown/dropdown.module';\nimport { ClrSignpostModule } from './signpost/signpost.module';\nimport { ClrTooltipModule } from './tooltip/tooltip.module';\n\n@NgModule({ exports: [ClrDropdownModule, ClrSignpostModule, ClrTooltipModule] })\nexport class ClrPopoverModule {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { Subject } from 'rxjs';\n\n@Injectable()\nexport class ButtonHubService {\n  public buttonsReady: boolean = false;\n\n  private _previousBtnClicked = new Subject<any>();\n  public get previousBtnClicked(): Observable<any> {\n    return this._previousBtnClicked.asObservable();\n  }\n\n  private _nextBtnClicked = new Subject<any>();\n  public get nextBtnClicked(): Observable<any> {\n    return this._nextBtnClicked.asObservable();\n  }\n\n  private _dangerBtnClicked = new Subject<any>();\n  public get dangerBtnClicked(): Observable<any> {\n    return this._dangerBtnClicked.asObservable();\n  }\n\n  private _cancelBtnClicked = new Subject<any>();\n  public get cancelBtnClicked(): Observable<any> {\n    return this._cancelBtnClicked.asObservable();\n  }\n\n  private _finishBtnClicked = new Subject<any>();\n  public get finishBtnClicked(): Observable<any> {\n    return this._finishBtnClicked.asObservable();\n  }\n\n  private _customBtnClicked = new Subject<any>();\n  public get customBtnClicked(): Observable<any> {\n    return this._customBtnClicked.asObservable();\n  }\n\n  public buttonClicked(buttonType: string): void {\n    if ('previous' === buttonType) {\n      this._previousBtnClicked.next();\n    } else if ('next' === buttonType) {\n      this._nextBtnClicked.next();\n    } else if ('finish' === buttonType) {\n      this._finishBtnClicked.next();\n    } else if ('danger' === buttonType) {\n      this._dangerBtnClicked.next();\n    } else if ('cancel' === buttonType) {\n      this._cancelBtnClicked.next();\n    } else {\n      this._customBtnClicked.next(buttonType);\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable, QueryList } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { Subject } from 'rxjs';\n\nimport { ClrWizardPage } from '../wizard-page';\n\n/**\n * PageCollectionService manages the collection of pages assigned to the wizard and offers\n * a number of functions useful across the wizards providers and subcomponents -- all related\n * to essentially lookups on the collection of pages.\n *\n * The easiest way to access PageCollectionService is via the wizard. The\n * following example would allow you to access your instance of the wizard from your host\n * component and thereby access the page collection via YourHostComponent.wizard.pageCollection.\n *\n * @example\n * <clr-wizard #wizard ...>\n *\n * @example\n * export class YourHostComponent {\n *   @ViewChild(\"wizard\") wizard: Wizard;\n *   ...\n * }\n *\n * The heart of the page collection is the query list of pages, which it is assigned as a\n * reference to the Wizard.pages QueryList when the wizard is created.\n *\n */\n@Injectable()\nexport class PageCollectionService {\n  /**\n   * A reference to the Wizard.pages QueryList.\n   *\n   * Populated when the wizard is created.\n   *\n   * @memberof PageCollectionService\n   */\n  public pages: QueryList<ClrWizardPage>;\n\n  /**\n   * Converts the PageCollectionService.pages QueryList to an array and returns it.\n   *\n   * Useful for many instances when you would prefer a QueryList to act like an array.\n   *\n   * @memberof PageCollectionService\n   */\n  public get pagesAsArray(): ClrWizardPage[] {\n    return this.pages ? this.pages.toArray() : [];\n  }\n\n  /**\n   * Returns the length of the pages query list.\n   *\n   * @memberof PageCollectionService\n   */\n  public get pagesCount(): number {\n    return this.pages ? this.pages.length : 0;\n  }\n\n  /**\n   * Returns the next-to-last page in the query list of pages. Operates as a getter\n   * so that it isn't working with stale data.\n   *\n   * @memberof PageCollectionService\n   */\n  public get penultimatePage(): ClrWizardPage {\n    const pageCount = this.pagesCount;\n\n    if (pageCount < 2) {\n      return;\n    }\n\n    return this.pagesAsArray[pageCount - 2];\n  }\n\n  /**\n   * Returns the last page in the query list of pages. Operates as a getter\n   * so that it isn't working with stale data.\n   *\n   * @memberof PageCollectionService\n   */\n  public get lastPage(): ClrWizardPage {\n    const pageCount = this.pagesCount;\n\n    if (pageCount < 1) {\n      return;\n    }\n\n    return this.pagesAsArray[pageCount - 1];\n  }\n\n  /**\n   * Returns the first page in the query list of pages. Operates as a getter\n   * so that it isn't working with stale data.\n   *\n   * @memberof PageCollectionService\n   */\n  public get firstPage(): ClrWizardPage {\n    if (!this.pagesCount) {\n      return;\n    }\n\n    return this.pagesAsArray[0];\n  }\n\n  /**\n   * Used mostly internally, but accepts a string ID and returns a ClrWizardPage\n   * object that matches the ID passed. Note that IDs here should include the prefix\n   * \"clr-wizard-page-\".\n   *\n   * Returns the next-to-last page in the query list of pages. Operates as a getter\n   * so that it isn't working with stale data.\n   *\n   * @memberof PageCollectionService\n   */\n  public getPageById(id: string): ClrWizardPage {\n    const foundPages: ClrWizardPage[] = this.pages.filter((page: ClrWizardPage) => id === page.id);\n    return this.checkResults(foundPages, id);\n  }\n\n  /**\n   * Accepts s number as a parameter and treats that number as the index of the page\n   * you're looking for in the collection of pages. Returns a  wizard page object.\n   *\n   * @memberof PageCollectionService\n   */\n  public getPageByIndex(index: number): ClrWizardPage {\n    const pageCount = this.pagesCount;\n    const pagesLastIndex: number = pageCount > 1 ? pageCount - 1 : 0;\n\n    if (index < 0) {\n      throw new Error('Cannot retrieve page with index of ' + index);\n    }\n\n    if (index > pagesLastIndex) {\n      throw new Error('Page index is greater than length of pages array.');\n    }\n\n    return this.pagesAsArray[index];\n  }\n\n  /**\n   * Takes a wizard page object as a parameter and returns its index in the\n   * collection of pages.\n   *\n   * @memberof PageCollectionService\n   */\n  public getPageIndex(page: ClrWizardPage): number {\n    const index = this.pagesAsArray.indexOf(page);\n\n    if (index < 0) {\n      throw new Error('Requested page cannot be found in collection of pages.');\n    }\n\n    return index;\n  }\n\n  /**\n   * Consolidates guard logic that prevents a couple of unfortunate edge cases with\n   * look ups on the collection of pages.\n   *\n   * @memberof PageCollectionService\n   */\n  private checkResults(results: ClrWizardPage[], requestedPageId: string) {\n    const foundPagesCount: number = results.length || 0;\n\n    if (foundPagesCount > 1) {\n      throw new Error('More than one page has the requested id ' + requestedPageId + '.');\n    } else if (foundPagesCount < 1) {\n      throw new Error('No page can be found with the id ' + requestedPageId + '.');\n    } else {\n      return results[0];\n    }\n  }\n\n  /**\n   * Accepts two numeric indexes and returns an array of wizard page objects that include\n   * all wizard pages in the page collection from the first index to the second.\n   *\n   * @memberof PageCollectionService\n   */\n  public pageRange(start: number, end: number): ClrWizardPage[] {\n    let pages: ClrWizardPage[] = [];\n\n    if (start < 0 || end < 0) {\n      return [];\n    }\n\n    if (start === null || typeof start === 'undefined' || isNaN(start)) {\n      return [];\n    }\n\n    if (end === null || typeof end === 'undefined' || isNaN(end)) {\n      return [];\n    }\n\n    if (end > this.pagesCount) {\n      end = this.pagesCount;\n    }\n\n    pages = this.pagesAsArray;\n\n    if (end - start === 0) {\n      // just return the one page they want\n      return [this.getPageByIndex(start)];\n    }\n\n    // slice end does not include item referenced by end index, which is weird for users\n    // incrementing end index here to correct that so users and other methods\n    // don't have to think about it\n    end = end + 1;\n\n    // slice does not return the last one in the range but it does include the first one\n    // does not modify original array\n    return pages.slice(start, end);\n  }\n\n  /**\n   * Accepts two wizard page objects and returns those page objects with all other page\n   * objects between them in the page collection. It doesn't care which page is ahead of the\n   * other in the parameters. It will be smart enough to figure that out  on its own.\n   *\n   * @memberof PageCollectionService\n   */\n  public getPageRangeFromPages(page: ClrWizardPage, otherPage: ClrWizardPage): ClrWizardPage[] {\n    const pageIndex = this.getPageIndex(page);\n    const otherPageIndex = this.getPageIndex(otherPage);\n    let startIndex: number;\n    let endIndex: number;\n\n    if (pageIndex <= otherPageIndex) {\n      startIndex = pageIndex;\n      endIndex = otherPageIndex;\n    } else {\n      startIndex = otherPageIndex;\n      endIndex = pageIndex;\n    }\n    return this.pageRange(startIndex, endIndex);\n  }\n\n  /**\n   * Takes a wizard page object as a parameter and returns the wizard page object of\n   * the page immediately before it in the page collection. Returns null if there is\n   * no page before the page it is passed.\n   *\n   * @memberof PageCollectionService\n   */\n  public getPreviousPage(page: ClrWizardPage) {\n    const myPageIndex = this.getPageIndex(page);\n    const previousPageIndex = myPageIndex - 1;\n    if (previousPageIndex < 0) {\n      return null;\n    }\n    return this.getPageByIndex(previousPageIndex);\n  }\n\n  /**\n   * Accepts a wizard page object as a parameter and returns a Boolean that says if\n   * the page you sent it is complete.\n   *\n   * @memberof PageCollectionService\n   */\n  public previousPageIsCompleted(page: ClrWizardPage) {\n    let previousPage: ClrWizardPage;\n\n    if (!page) {\n      return false;\n    }\n\n    previousPage = this.getPreviousPage(page);\n\n    if (null === previousPage) {\n      // page is the first page. no previous page.\n      return true;\n    }\n\n    return previousPage.completed;\n  }\n\n  /**\n   * Takes a wizard page object as a parameter and returns the wizard page object of\n   * the page immediately after it in the page collection. Returns null if there is\n   * no page after the page it is passed.\n   *\n   * @memberof PageCollectionService\n   */\n  public getNextPage(page: ClrWizardPage) {\n    const myPageIndex = this.getPageIndex(page);\n    const nextPageIndex = myPageIndex + 1;\n\n    if (nextPageIndex >= this.pagesAsArray.length) {\n      return null;\n    }\n    return this.getPageByIndex(nextPageIndex);\n  }\n\n  /**\n   * Takes a wizard page object as a parameter and generates a step item id from the\n   * page ID. Returns the generated step item ID as a string.\n   *\n   * @memberof PageCollectionService\n   */\n  public getStepItemIdForPage(page: ClrWizardPage) {\n    const pageId = page.id;\n    const pageIdParts = pageId.split('-').reverse();\n\n    pageIdParts[1] = 'step';\n    return pageIdParts.reverse().join('-');\n  }\n\n  /**\n   * Generally only used internally to mark that a specific page has been \"committed\".\n   * This involves marking the page complete and firing the ClrWizardPage.onCommit\n   * (clrWizardPageOnCommit) output. Takes the wizard page object that you intend to\n   * mark completed as a parameter.\n   *\n   * @memberof PageCollectionService\n   */\n  public commitPage(page: ClrWizardPage) {\n    const pageHasOverrides = page.stopNext || page.preventDefault;\n    page.completed = true;\n\n    if (!pageHasOverrides) {\n      // prevent loop of event emission; alternate flows work off\n      // of event emitters this is how they break that cycle.\n      page.onCommit.emit(page.id);\n    }\n  }\n\n  // used by the navService to navigate back to first possible step after\n  // pages are reset\n\n  /**\n   *\n   * @memberof PageCollectionService\n   */\n  private _pagesReset = new Subject<boolean>();\n\n  /**\n   * An observable that the navigation service listens to in order to know when\n   * the page collection completed states have been reset to false so that way it\n   * can also reset the navigation to make the first page in the page collection\n   * current/active.\n   *\n   * @memberof PageCollectionService\n   */\n  public get pagesReset(): Observable<boolean> {\n    return this._pagesReset.asObservable();\n  }\n\n  /**\n   * Sets all completed states of the pages in the page collection to false and\n   * notifies the navigation service to likewise reset the navigation.\n   *\n   * @memberof PageCollectionService\n   */\n  public reset() {\n    this.pagesAsArray.forEach((page: ClrWizardPage) => {\n      page.completed = false;\n    });\n    this._pagesReset.next(true);\n  }\n\n  /**\n   * Rolls through all the pages in the page collection to make sure there are no\n   * incomplete pages sandwiched between completed pages in the workflow. Identifies\n   * the first incomplete page index and sets all pages behind it to a completed\n   * state of false.\n   *\n   * @memberof PageCollectionService\n   */\n  public updateCompletedStates(): void {\n    const firstIncompleteIndex = this.findFirstIncompletePageIndex();\n\n    if (firstIncompleteIndex === this.pagesAsArray.length - 1) {\n      // all complete no need to do anything\n      return;\n    }\n\n    this.pagesAsArray.forEach((page: ClrWizardPage, index: number) => {\n      if (index > firstIncompleteIndex) {\n        page.completed = false;\n      }\n    });\n  }\n\n  /**\n   * Retrieves the index of the first incomplete page in the page collection.\n   *\n   * @memberof PageCollectionService\n   */\n  public findFirstIncompletePageIndex(): number {\n    let returnIndex: number = null;\n    this.pagesAsArray.forEach((page: ClrWizardPage, index: number) => {\n      if (null === returnIndex && false === page.completed) {\n        returnIndex = index;\n      }\n    });\n\n    // fallthrough, all completed, return last page\n    if (null === returnIndex) {\n      returnIndex = this.pagesCount - 1;\n    }\n\n    return returnIndex;\n  }\n\n  public findFirstIncompletePage(): ClrWizardPage {\n    const myIncompleteIndex = this.findFirstIncompletePageIndex();\n    return this.pagesAsArray[myIncompleteIndex];\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable, OnDestroy, TemplateRef } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { Subject } from 'rxjs';\nimport { Subscription } from 'rxjs';\n\nimport { ClrWizardPage } from '../wizard-page';\n\nimport { ButtonHubService } from './button-hub.service';\nimport { PageCollectionService } from './page-collection.service';\n\n/**\n * Performs navigation functions for a wizard and manages the current page. Presented as a\n * separate service to encapsulate the behavior of navigating and completing the wizard so\n * that it can be shared across the wizard and its sub-components.\n *\n * The easiest way to access the navigation service is there a reference on your wizard. The\n * Following example would allow you to access your instance of the wizard from your host\n * component and thereby access the navigation service via YourHostComponent.wizard.navService.\n *\n * @example\n * <clr-wizard #wizard ...>\n *\n * @example\n * export class YourHostComponent {\n *   @ViewChild(\"wizard\") wizard: Wizard;\n *   ...\n * }\n *\n */\n@Injectable()\nexport class WizardNavigationService implements OnDestroy {\n  /**\n   * Is notified when a previous button is clicked in the wizard. Performs checks\n   * before alerting the current page of the button click. Enacts navigation to\n   * the previous page if not overridden at the page level.\n   *\n   * @memberof WizardNavigationService\n   */\n  public previousButtonSubscription: Subscription;\n\n  /**\n   * Is notified when a Next button is clicked in the wizard.\n   *\n   * @memberof WizardNavigationService\n   */\n  public nextButtonSubscription: Subscription;\n\n  /**\n   * Is notified when a danger button is clicked in the wizard.\n   *\n   * @memberof WizardNavigationService\n   */\n  public dangerButtonSubscription: Subscription;\n\n  /**\n   * Is notified when a  finish button is clicked in the wizard.\n   *\n   * @memberof WizardNavigationService\n   */\n  public finishButtonSubscription: Subscription;\n\n  /**\n   * Is notified when a Custom button is clicked in the wizard.\n   *\n   * @memberof WizardNavigationService\n   */\n  public customButtonSubscription: Subscription;\n\n  /**\n   * Is notified when a Cancel button is clicked in the wizard. Notifies the wizard,\n   * which handles all cancel functionality, if cancel is not overridden at the page\n   * level.\n   *\n   * @memberof WizardNavigationService\n   */\n  public cancelButtonSubscription: Subscription;\n\n  /**\n   * Resets navigation to make the first page current when the page collection service\n   * emits an event notifying WizardNavigationService that it has reset all pages\n   * to their pristine, incomplete state.\n   *\n   * @memberof WizardNavigationService\n   */\n  public pagesResetSubscription: Subscription;\n\n  /**\n   * Creates an instance of WizardNavigationService. Also sets up subscriptions\n   * that listen to the button service to determine when a button has been clicked\n   * in the wizard. Is also responsible for taking action when the page collection\n   * requests that navigation be reset to its pristine state.\n   *\n   * @memberof WizardNavigationService\n   */\n  constructor(public pageCollection: PageCollectionService, public buttonService: ButtonHubService) {\n    this.previousButtonSubscription = this.buttonService.previousBtnClicked.subscribe(() => {\n      const currentPage = this.currentPage;\n      if (this.currentPageIsFirst || currentPage.previousStepDisabled) {\n        return;\n      }\n      currentPage.previousButtonClicked.emit(currentPage);\n      if (!currentPage.preventDefault) {\n        this.previous();\n      }\n    });\n\n    this.nextButtonSubscription = this.buttonService.nextBtnClicked.subscribe(() => {\n      this.checkAndCommitCurrentPage('next');\n    });\n\n    this.dangerButtonSubscription = this.buttonService.dangerBtnClicked.subscribe(() => {\n      this.checkAndCommitCurrentPage('danger');\n    });\n\n    this.finishButtonSubscription = this.buttonService.finishBtnClicked.subscribe(() => {\n      this.checkAndCommitCurrentPage('finish');\n    });\n\n    this.customButtonSubscription = this.buttonService.customBtnClicked.subscribe((type: string) => {\n      if (!this.wizardStopNavigation) {\n        this.currentPage.customButtonClicked.emit(type);\n      }\n    });\n\n    this.cancelButtonSubscription = this.buttonService.cancelBtnClicked.subscribe(() => {\n      if (this.wizardStopNavigation) {\n        return;\n      }\n\n      if (this.currentPage.preventDefault) {\n        this.currentPage.pageOnCancel.emit(this.currentPage);\n      } else {\n        this.cancel();\n      }\n    });\n\n    this.pagesResetSubscription = this.pageCollection.pagesReset.subscribe(() => {\n      this.setFirstPageCurrent();\n    });\n  }\n\n  /**\n   *\n   * @memberof WizardNavigationService\n   */\n  ngOnDestroy(): void {\n    this.previousButtonSubscription.unsubscribe();\n    this.nextButtonSubscription.unsubscribe();\n    this.dangerButtonSubscription.unsubscribe();\n    this.finishButtonSubscription.unsubscribe();\n    this.customButtonSubscription.unsubscribe();\n    this.cancelButtonSubscription.unsubscribe();\n    this.pagesResetSubscription.unsubscribe();\n  }\n\n  /**\n   *\n   * @memberof WizardNavigationService\n   */\n  private _currentChanged = new Subject<ClrWizardPage>();\n\n  /**\n   * An Observable that is predominantly used amongst the subcomponents and services\n   * of the wizard. It is recommended that users listen to the ClrWizardPage.onLoad\n   * (clrWizardPageOnLoad) output instead of this Observable.\n   *\n   * @memberof WizardNavigationService\n   */\n  public get currentPageChanged(): Observable<ClrWizardPage> {\n    // TODO: MAKE SURE EXTERNAL OUTPUTS SAY 'CHANGE' NOT 'CHANGED'\n    // A BREAKING CHANGE SO AWAITING MINOR RELEASE\n    return this._currentChanged.asObservable();\n  }\n\n  /**\n   * A Boolean flag used by the ClrWizardPage to avoid a race condition when pages are\n   * loading and there is no current page defined.\n   *\n   * @memberof WizardNavigationService\n   */\n  public navServiceLoaded = false;\n\n  /**\n   * A boolean flag shared across the Wizard subcomponents that follows the value\n   * of the Wizard.forceForward (clrWizardForceForwardNavigation) input. When true,\n   * navigating backwards in the stepnav menu will reset any skipped pages' completed\n   * state to false.\n   *\n   * This is useful when a wizard executes validation on a page-by-page basis when\n   * the next button is clicked.\n   *\n   * @memberof WizardNavigationService\n   */\n  public forceForwardNavigation = false;\n\n  /**\n   * @memberof WizardNavigationService\n   */\n  public get currentPageTitle(): TemplateRef<any> {\n    // when the querylist of pages is empty. this is the first place it fails...\n    if (!this.currentPage) {\n      return null;\n    }\n    return this.currentPage.title;\n  }\n\n  /**\n   * Returns a Boolean that tells you whether or not the current page is the first\n   * page in the Wizard.\n   *\n   * This is helpful for determining whether a page is navigable.\n   *\n   * @memberof WizardNavigationService\n   */\n  public get currentPageIsFirst(): boolean {\n    return this.pageCollection.firstPage === this.currentPage;\n  }\n\n  /**\n   * Returns a Boolean that tells you whether or not the current page is the\n   * last page in the Wizard.\n   *\n   * This is used to determine which buttons should display in the wizard footer.\n   *\n   * @memberof WizardNavigationService\n   */\n  public get currentPageIsLast(): boolean {\n    return this.pageCollection.lastPage === this.currentPage;\n  }\n\n  /**\n   * @memberof WizardNavigationService\n   */\n  private _currentPage: ClrWizardPage;\n\n  /**\n   * Returns the ClrWizardPage object of the current page or null.\n   *\n   * @memberof WizardNavigationService\n   */\n  get currentPage(): ClrWizardPage {\n    if (!this._currentPage) {\n      return null;\n    }\n    return this._currentPage;\n  }\n\n  /**\n   * Accepts a ClrWizardPage object, since that object to be the current/active\n   * page in the wizard, and emits the ClrWizardPage.onLoad (clrWizardPageOnLoad)\n   * event for that page.\n   *\n   * Note that all of this work is bypassed if the ClrWizardPage object is already\n   * the current page.\n   *\n   * @memberof WizardNavigationService\n   */\n  set currentPage(page: ClrWizardPage) {\n    if (this._currentPage !== page && !this.wizardStopNavigation) {\n      this._currentPage = page;\n      page.onLoad.emit(page.id);\n      this._currentChanged.next(page);\n    }\n  }\n\n  /**\n   * @memberof WizardNavigationService\n   */\n  private _movedToNextPage = new Subject<boolean>();\n\n  /**\n   * An observable used internally to alert the wizard that forward navigation\n   * has occurred. It is recommended that you use the Wizard.onMoveNext\n   * (clrWizardOnNext) output instead of this one.\n   *\n   * @memberof WizardNavigationService\n   */\n  public get movedToNextPage(): Observable<boolean> {\n    return this._movedToNextPage.asObservable();\n  }\n\n  /**\n   * @memberof WizardNavigationService\n   */\n  private _wizardFinished = new Subject<boolean>();\n\n  /**\n   * An observable used internally to alert the wizard that the nav service\n   * has approved completion of the wizard.\n   *\n   * It is recommended that you use the Wizard.wizardFinished (clrWizardOnFinish)\n   * output instead of this one.\n   *\n   * @memberof WizardNavigationService\n   */\n  public get wizardFinished(): Observable<boolean> {\n    return this._wizardFinished.asObservable();\n  }\n\n  /**\n   * This is a public function that can be used to programmatically advance\n   * the user to the next page.\n   *\n   * When invoked, this method will move the wizard to the next page after\n   * successful validation. Note that this method goes through all checks\n   * and event emissions as if Wizard.next(false) had been called.\n   *\n   * In most cases, it makes more sense to use Wizard.next(false).\n   *\n   * @memberof WizardNavigationService\n   */\n  public next(): void {\n    if (this.currentPageIsLast) {\n      this.checkAndCommitCurrentPage('finish');\n    } else {\n      this.checkAndCommitCurrentPage('next');\n    }\n  }\n\n  /**\n   * Bypasses checks and most event emissions to force a page to navigate forward.\n   *\n   * Comparable to calling Wizard.next() or Wizard.forceNext().\n   *\n   * @memberof WizardNavigationService\n   */\n  public forceNext(): void {\n    const currentPage: ClrWizardPage = this.currentPage;\n    const nextPage: ClrWizardPage = this.pageCollection.getNextPage(currentPage);\n\n    // catch errant null or undefineds that creep in\n    if (!nextPage) {\n      throw new Error('The wizard has no next page to go to.');\n    }\n\n    if (this.wizardStopNavigation) {\n      return;\n    }\n\n    if (!currentPage.completed) {\n      // this is a state that alt next flows can get themselves in...\n      this.pageCollection.commitPage(currentPage);\n    }\n    this.currentPage = nextPage;\n  }\n\n  /**\n   * Accepts a button/action type as a parameter. Encapsulates all logic for\n   * event emissions, state of the current page, and wizard and page level overrides.\n   *\n   * Avoid calling this function directly unless you really know what you're doing.\n   *\n   * @memberof WizardNavigationService\n   */\n  public checkAndCommitCurrentPage(buttonType: string): void {\n    const currentPage: ClrWizardPage = this.currentPage;\n    let iAmTheLastPage: boolean;\n\n    let isNext: boolean;\n    let isDanger: boolean;\n    let isDangerNext: boolean;\n    let isDangerFinish: boolean;\n    let isFinish: boolean;\n\n    if (!currentPage.readyToComplete || this.wizardStopNavigation) {\n      return;\n    }\n\n    iAmTheLastPage = this.currentPageIsLast;\n\n    isNext = buttonType === 'next';\n    isDanger = buttonType === 'danger';\n    isDangerNext = isDanger && !iAmTheLastPage;\n    isDangerFinish = isDanger && iAmTheLastPage;\n    isFinish = buttonType === 'finish' || isDangerFinish;\n\n    if (isFinish && !iAmTheLastPage) {\n      return;\n    }\n\n    currentPage.primaryButtonClicked.emit(buttonType);\n\n    if (isFinish) {\n      currentPage.finishButtonClicked.emit(currentPage);\n    } else if (isDanger) {\n      currentPage.dangerButtonClicked.emit();\n    } else if (isNext) {\n      currentPage.nextButtonClicked.emit();\n    }\n\n    if (currentPage.stopNext || currentPage.preventDefault) {\n      currentPage.onCommit.emit(currentPage.id);\n      return;\n    }\n\n    // order is very important with these emitters!\n    if (isFinish) {\n      // mark page as complete\n      if (!this.wizardHasAltNext) {\n        this.pageCollection.commitPage(currentPage);\n      }\n      this._wizardFinished.next();\n    }\n\n    if (this.wizardHasAltNext) {\n      this.pageCollection.commitPage(currentPage);\n\n      if (isNext || isDangerNext) {\n        this._movedToNextPage.next(true);\n      }\n      // jump out here, no matter what type we're looking at\n      return;\n    }\n\n    if (isNext || isDangerNext) {\n      this.forceNext();\n    }\n\n    if (!this.wizardHasAltNext && !this.wizardStopNavigation) {\n      this._movedToNextPage.next(true);\n    }\n  }\n\n  /**\n   * This is a public function that can be used to programmatically conclude\n   * the wizard.\n   *\n   * When invoked, this method will  initiate the work involved with finalizing\n   * and finishing the wizard workflow. Note that this method goes through all\n   * checks and event emissions as if Wizard.finish(false) had been called.\n   *\n   * In most cases, it makes more sense to use Wizard.finish(false).\n   *\n   * @memberof WizardNavigationService\n   */\n  public finish(): void {\n    this.checkAndCommitCurrentPage('finish');\n  }\n\n  /**\n   * @memberof WizardNavigationService\n   */\n  private _movedToPreviousPage = new Subject<boolean>();\n\n  /**\n   * Notifies the wizard when backwards navigation has occurred via the\n   * previous button.\n   *\n   * @memberof WizardNavigationService\n   */\n  public get movedToPreviousPage(): Observable<boolean> {\n    return this._movedToPreviousPage.asObservable();\n  }\n\n  /**\n   * Programmatically moves the wizard to the page before the current page.\n   *\n   * In most instances, it makes more sense to call Wizard.previous()\n   * which does the same thing.\n   *\n   * @memberof WizardNavigationService\n   */\n  public previous(): void {\n    let previousPage: ClrWizardPage;\n\n    if (this.currentPageIsFirst || this.wizardStopNavigation) {\n      return;\n    }\n\n    previousPage = this.pageCollection.getPreviousPage(this.currentPage);\n\n    if (!previousPage) {\n      return;\n    }\n\n    this._movedToPreviousPage.next(true);\n\n    if (this.forceForwardNavigation) {\n      this.currentPage.completed = false;\n    }\n\n    this.currentPage = previousPage;\n  }\n\n  /**\n   * @memberof WizardNavigationService\n   */\n  private _cancelWizard = new Subject<any>();\n\n  /**\n   * Notifies the wizard that a user is trying to cancel it.\n   *\n   * @memberof WizardNavigationService\n   */\n  public get notifyWizardCancel(): Observable<any> {\n    return this._cancelWizard.asObservable();\n  }\n\n  /**\n   * Allows a hook into the cancel workflow of the wizard from the nav service. Note that\n   * this route goes through all checks and event emissions as if a cancel button had\n   * been clicked.\n   *\n   * In most cases, users looking for a hook into the cancel routine are actually looking\n   * for a way to close the wizard from their host component because they have prevented\n   * the default cancel action.\n   *\n   * In this instance, it is recommended that you use Wizard.close() to avoid any event\n   * emission loop resulting from an event handler calling back into routine that will\n   * again evoke the events it handles.\n   *\n   * @memberof WizardNavigationService\n   */\n  public cancel(): void {\n    this._cancelWizard.next();\n  }\n\n  /**\n   * A boolean flag shared across the Wizard subcomponents that follows the value\n   * of the Wizard.stopCancel (clrWizardPreventDefaultCancel) input. When true, the cancel\n   * routine is subverted and must be reinstated in the host component calling Wizard.close()\n   * at some point.\n   *\n   * @memberof WizardNavigationService\n   */\n  public wizardHasAltCancel: boolean = false;\n\n  /**\n   * A boolean flag shared across the Wizard subcomponents that follows the value\n   * of the Wizard.stopNext (clrWizardPreventDefaultNext) input. When true, the next and finish\n   * routines are subverted and must be reinstated in the host component calling Wizard.next(),\n   * Wizard.forceNext(), Wizard.finish(), or Wizard.forceFinish().\n   *\n   * @memberof WizardNavigationService\n   */\n  public wizardHasAltNext: boolean = false;\n\n  /**\n   * A boolean flag shared across the Wizard subcomponents that follows the value\n   * of the Wizard.stopNavigation (clrWizardPreventNavigation) input. When true, all\n   * navigational elements in the wizard are disabled.\n   *\n   * This is intended to freeze the wizard in place. Events are not fired so this is\n   * not a way to implement alternate functionality for navigation.\n   *\n   * @memberof WizardNavigationService\n   */\n  public wizardStopNavigation: boolean = false;\n\n  /**\n   * A boolean flag shared with the stepnav items that prevents user clicks on\n   * stepnav items from navigating the wizard.\n   *\n   * @memberof WizardNavigationService\n   */\n  public wizardDisableStepnav: boolean = false;\n\n  /**\n   * Performs all required checks to determine if a user can navigate to a page. Checking at each\n   * point if a page is navigable -- completed where the page immediately after the last completed\n   * page.\n   *\n   * Takes two parameters. The first one must be either the ClrWizardPage object or the ID of the\n   * ClrWizardPage object that you want to make the current page.\n   *\n   * The second parameter is optional and is a Boolean flag for \"lazy completion\". What this means\n   * is the Wizard will mark all pages between the current page and the page you want to navigate\n   * to as completed. This is useful for informational wizards that do not require user action,\n   * allowing an easy means for users to jump ahead.\n   *\n   * To avoid checks on navigation, use ClrWizardPage.makeCurrent() instead.\n   *\n   * @memberof WizardNavigationService\n   */\n  public goTo(pageToGoToOrId: any, lazyComplete: boolean = false) {\n    let pageToGoTo: ClrWizardPage;\n    let currentPage: ClrWizardPage;\n    let myPages: PageCollectionService;\n    let pagesToCheck: ClrWizardPage[];\n    let okayToMove: boolean;\n    let goingForward: boolean;\n    let currentPageIndex: number;\n    let goToPageIndex: number;\n\n    myPages = this.pageCollection;\n    pageToGoTo = typeof pageToGoToOrId === 'string' ? myPages.getPageById(pageToGoToOrId) : pageToGoToOrId;\n    currentPage = this.currentPage;\n\n    // no point in going to the current page. you're there already!\n    // also hard block on any navigation when stopNavigation is true\n    if (pageToGoTo === currentPage || this.wizardStopNavigation) {\n      return;\n    }\n\n    currentPageIndex = myPages.getPageIndex(currentPage);\n    goToPageIndex = myPages.getPageIndex(pageToGoTo);\n    goingForward = goToPageIndex > currentPageIndex;\n    pagesToCheck = myPages.getPageRangeFromPages(this.currentPage, pageToGoTo);\n\n    okayToMove = lazyComplete || this.canGoTo(pagesToCheck);\n\n    if (!okayToMove) {\n      return;\n    }\n\n    if (goingForward && lazyComplete) {\n      pagesToCheck.forEach((page: ClrWizardPage) => {\n        if (page !== pageToGoTo) {\n          page.completed = true;\n        }\n      });\n    } else if (!goingForward && this.forceForwardNavigation) {\n      pagesToCheck.forEach((page: ClrWizardPage) => {\n        page.completed = false;\n      });\n    }\n\n    this.currentPage = pageToGoTo;\n  }\n\n  /**\n   * Accepts a range of ClrWizardPage objects as a parameter. Performs the work of checking\n   * those objects to determine if navigation can be accomplished.\n   *\n   * @memberof WizardNavigationService\n   */\n  public canGoTo(pagesToCheck: ClrWizardPage[]): boolean {\n    let okayToMove = true;\n    const myPages = this.pageCollection;\n\n    // previous page can be important when moving because if it's completed it\n    // allows us to move to the page even if it's incomplete...\n    let previousPagePasses: boolean;\n\n    if (!pagesToCheck || pagesToCheck.length < 1) {\n      return false;\n    }\n\n    pagesToCheck.forEach((page: ClrWizardPage) => {\n      let previousPage: ClrWizardPage;\n\n      if (!okayToMove) {\n        return;\n      }\n\n      if (page.completed) {\n        // default is true. just jump out instead of complicating it.\n        return;\n      }\n\n      // so we know our page is not completed...\n      previousPage = myPages.getPageIndex(page) > 0 ? myPages.getPreviousPage(page) : null;\n      previousPagePasses = previousPage === null || previousPage.completed === true;\n\n      // we are false if not the current page AND previous page is not completed\n      // (but must have a previous page)\n      if (!page.current && !previousPagePasses) {\n        okayToMove = false;\n      }\n      // falls through to true as default\n    });\n\n    return okayToMove;\n  }\n\n  /**\n   * Looks through the collection of pages to find the first one that is incomplete\n   * and makes that page the current/active page.\n   *\n   * @memberof WizardNavigationService\n   */\n  public setLastEnabledPageCurrent(): void {\n    const allPages: ClrWizardPage[] = this.pageCollection.pagesAsArray;\n    let lastCompletedPageIndex: number = null;\n\n    allPages.forEach((page: ClrWizardPage, index: number) => {\n      if (page.completed) {\n        lastCompletedPageIndex = index;\n      }\n    });\n\n    if (lastCompletedPageIndex === null) {\n      // always is at least the first item...\n      lastCompletedPageIndex = 0;\n    } else if (lastCompletedPageIndex + 1 < allPages.length) {\n      lastCompletedPageIndex = lastCompletedPageIndex + 1;\n    }\n\n    this.currentPage = allPages[lastCompletedPageIndex];\n  }\n\n  /**\n   * Finds the first page in the collection of pages and makes that page the\n   * current/active page.\n   *\n   * @memberof WizardNavigationService\n   */\n  public setFirstPageCurrent(): void {\n    this.currentPage = this.pageCollection.pagesAsArray[0];\n  }\n\n  /**\n   * Updates the stepnav on the left side of the wizard when pages are dynamically\n   * added or removed from the collection of pages.\n   *\n   * @memberof WizardNavigationService\n   */\n  public updateNavigation(): void {\n    let toSetCurrent: ClrWizardPage;\n    let currentPageRemoved: boolean;\n\n    this.pageCollection.updateCompletedStates();\n\n    currentPageRemoved = this.pageCollection.pagesAsArray.indexOf(this.currentPage) < 0;\n    if (currentPageRemoved) {\n      toSetCurrent = this.pageCollection.findFirstIncompletePage();\n      this.currentPage = toSetCurrent;\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable, QueryList } from '@angular/core';\nimport { ClrWizardHeaderAction } from '../wizard-header-action';\nimport { WizardNavigationService } from './wizard-navigation.service';\n\n@Injectable()\nexport class HeaderActionService {\n  // this service communicates information about the presence/display of header actions\n  // across the wizard\n\n  constructor(public navService: WizardNavigationService) {}\n\n  public wizardHeaderActions: QueryList<ClrWizardHeaderAction>;\n\n  public get wizardHasHeaderActions(): boolean {\n    const wizardHdrActions = this.wizardHeaderActions;\n    if (!wizardHdrActions) {\n      return false;\n    }\n    return wizardHdrActions.toArray().length > 0;\n  }\n\n  public get currentPageHasHeaderActions(): boolean {\n    return this.navService.currentPage ? this.navService.currentPage.hasHeaderActions : false;\n  }\n\n  public get showWizardHeaderActions(): boolean {\n    return !this.currentPageHasHeaderActions && this.wizardHasHeaderActions;\n  }\n\n  public get displayHeaderActionsWrapper(): boolean {\n    return this.currentPageHasHeaderActions || this.wizardHasHeaderActions;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component, EventEmitter, Input, Output } from '@angular/core';\n\nlet wizardHeaderActionIndex = 0;\n\n@Component({\n  selector: 'clr-wizard-header-action',\n  template: `\n        <button \n            type=\"button\"\n            class=\"btn clr-wizard-header-action btn-link\"\n            [id]=\"id\"\n            [class.disabled]=\"disabled\"\n            (click)=\"click()\"\n            [title]=\"title\">\n            <ng-content></ng-content>\n        </button>\n    `,\n  host: { class: 'clr-wizard-header-action-wrapper' },\n})\nexport class ClrWizardHeaderAction {\n  // title is explanatory text added to the header action\n  @Input('title') title: string = '';\n\n  // If our host has an ID attribute, we use this instead of our index.\n  @Input('id') _id: string = (wizardHeaderActionIndex++).toString();\n\n  public get id(): string {\n    return `clr-wizard-header-action-${this._id}`;\n  }\n\n  @Input('clrWizardHeaderActionDisabled') public disabled: boolean = false;\n\n  @Output('actionClicked') headerActionClicked: EventEmitter<string> = new EventEmitter(false);\n\n  click(): void {\n    if (this.disabled) {\n      return;\n    }\n\n    // passing the header action id allows users to have one method that\n    // routes to many different actions based on the type of header action\n    // clicked. this is further aided by users being able to specify ids\n    // for their header actions.\n    this.headerActionClicked.emit(this._id);\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Directive, TemplateRef } from '@angular/core';\n\n@Directive({ selector: '[clrPageButtons]' })\nexport class ClrWizardPageButtons {\n  constructor(public pageButtonsTemplateRef: TemplateRef<any>) {}\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Directive, TemplateRef } from '@angular/core';\n\n@Directive({ selector: '[clrPageHeaderActions]' })\nexport class ClrWizardPageHeaderActions {\n  constructor(public pageHeaderActionsTemplateRef: TemplateRef<any>) {}\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Directive, TemplateRef } from '@angular/core';\n\n@Directive({ selector: '[clrPageNavTitle]' })\nexport class ClrWizardPageNavTitle {\n  constructor(public pageNavTitleTemplateRef: TemplateRef<any>) {}\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Directive, TemplateRef } from '@angular/core';\n\n@Directive({ selector: '[clrPageTitle]' })\nexport class ClrWizardPageTitle {\n  constructor(public pageTitleTemplateRef: TemplateRef<any>) {}\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component, ContentChild, EventEmitter, Input, OnInit, Output, TemplateRef } from '@angular/core';\n\nimport { ButtonHubService } from './providers/button-hub.service';\nimport { PageCollectionService } from './providers/page-collection.service';\nimport { WizardNavigationService } from './providers/wizard-navigation.service';\nimport { ClrWizardPageButtons } from './wizard-page-buttons';\nimport { ClrWizardPageHeaderActions } from './wizard-page-header-actions';\nimport { ClrWizardPageNavTitle } from './wizard-page-navtitle';\nimport { ClrWizardPageTitle } from './wizard-page-title';\n\nlet wizardPageIndex = 0;\n\n/**\n * The ClrWizardPage component is responsible for displaying the content of each step\n * in the wizard workflow.\n *\n * ClrWizardPage component has hooks into the navigation service (ClrWizardPage.navService),\n * page collection (ClrWizardPage.pageCollection), and button service\n * (ClrWizardPage.buttonService). These three providers are shared across the components\n * within each instance of a Wizard.\n *\n */\n@Component({\n  selector: 'clr-wizard-page',\n  template: '<ng-content></ng-content>',\n  host: {\n    '[id]': 'id',\n    '[attr.aria-hidden]': '!current',\n    '[attr.aria-labelledby]': 'stepItemId',\n    '[class.active]': 'current',\n    '[class.clr-wizard-page]': 'true',\n  },\n})\nexport class ClrWizardPage implements OnInit {\n  /**\n   * Creates an instance of ClrWizardPage.\n   *\n   * @memberof WizardPage\n   */\n  constructor(\n    private navService: WizardNavigationService,\n    public pageCollection: PageCollectionService,\n    public buttonService: ButtonHubService\n  ) {}\n\n  /**\n   * Contains a reference to the page title which is used for a number\n   * of different tasks for display in the wizard.\n   *\n   * @memberof WizardPage\n   *\n   */\n  @ContentChild(ClrWizardPageTitle, { static: true })\n  public pageTitle: ClrWizardPageTitle;\n\n  /**\n   * Contains a reference to the desired title for the page's step in the\n   * navigation on the left side of the wizard. Can be projected to change the\n   * navigation link's text.\n   *\n   * If not defined, then ClrWizardPage.pageTitle will be displayed in the stepnav.\n   *\n   * @memberof WizardPage\n   *\n   */\n  @ContentChild(ClrWizardPageNavTitle, { static: true })\n  public pageNavTitle: ClrWizardPageNavTitle;\n\n  /**\n   * Contains a reference to the buttons defined within the page. If not defined,\n   * the wizard defaults to the set of buttons defined as a direct child of the\n   * wizard.\n   *\n   * @memberof WizardPage\n   *\n   */\n  @ContentChild(ClrWizardPageButtons, { static: true })\n  public _buttons: ClrWizardPageButtons;\n\n  /**\n   * Contains a reference to the header actions defined within the page. If not defined,\n   * the wizard defaults to the set of header actions defined as a direct child of the\n   * wizard.\n   *\n   * @memberof WizardPage\n   *\n   */\n  @ContentChild(ClrWizardPageHeaderActions, { static: true })\n  public _headerActions: ClrWizardPageHeaderActions;\n\n  /**\n   *\n   * @memberof WizardPage\n   *\n   */\n  private _nextStepDisabled = false;\n\n  /**\n   * A getter that tells whether or not the wizard should be allowed\n   * to move to the next page.\n   *\n   * Useful for in-page validation because it prevents forward navigation\n   * and visibly disables the next button.\n   *\n   * Does not require that you re-implement navigation routines like you\n   * would if you were using ClrWizardPage.preventDefault or\n   * Wizard.preventDefault.\n   *\n   * @memberof WizardPage\n   *\n   */\n  public get nextStepDisabled(): boolean {\n    return this._nextStepDisabled;\n  }\n\n  /**\n   * Sets whether the page should allow forward navigation.\n   *\n   * @memberof WizardPage\n   *\n   */\n  @Input('clrWizardPageNextDisabled')\n  public set nextStepDisabled(val: boolean) {\n    const valBool = !!val;\n    if (valBool !== this._nextStepDisabled) {\n      this._nextStepDisabled = valBool;\n      this.nextStepDisabledChange.emit(valBool);\n    }\n  }\n\n  /**\n   * Emits when the value of ClrWizardPage.nextStepDisabled changes.\n   * Should emit the new value of nextStepDisabled.\n   *\n   * @memberof WizardPage\n   *\n   */\n  @Output('clrWizardPageNextDisabledChange') nextStepDisabledChange: EventEmitter<boolean> = new EventEmitter();\n\n  /**\n   *\n   * @memberof WizardPage\n   *\n   */\n  private _previousStepDisabled = false;\n\n  /**\n   * A getter that tells whether or not the wizard should be allowed\n   * to move to the previous page.\n   *\n   * Useful for in-page validation because it prevents backward navigation\n   * and visibly disables the previous button.\n   *\n   * Does not require that you re-implement navigation routines like you\n   * would if you were using ClrWizardPage.preventDefault or\n   * Wizard.preventDefault.\n   *\n   * @memberof WizardPage\n   *\n   */\n  public get previousStepDisabled(): boolean {\n    return this._previousStepDisabled;\n  }\n\n  /**\n   * Sets whether the page should allow backward navigation.\n   *\n   * @memberof WizardPage\n   *\n   */\n  @Input('clrWizardPagePreviousDisabled')\n  public set previousStepDisabled(val: boolean) {\n    const valBool = !!val;\n    if (valBool !== this._previousStepDisabled) {\n      this._previousStepDisabled = valBool;\n      this.previousStepDisabledChange.emit(valBool);\n    }\n  }\n\n  /**\n   * Emits when the value of ClrWizardPage.previousStepDisabled changes.\n   * Should emit the new value of previousStepDisabled.\n   *\n   * @memberof WizardPage\n   *\n   */\n  @Output('clrWizardPagePreviousDisabledChange')\n  public previousStepDisabledChange: EventEmitter<boolean> = new EventEmitter();\n\n  /**\n   *\n   * @memberof WizardPage\n   *\n   */\n  private _hasError = false;\n\n  /**\n   * A getter that tells whether or not the page has an error.\n   *\n   * @memberof WizardPage\n   *\n   */\n  public get hasError() {\n    return this._hasError;\n  }\n\n  /**\n   * Sets whether the page has an error and also resolve the \"falsy\" value. The\n   * current logic treat a \"0\" or an empty string as false and likewise will treat any\n   * \"truthy\" value as true.\n   *\n   * @memberof WizardPage\n   *\n   */\n  @Input('clrWizardPageHasError')\n  public set hasError(val: boolean) {\n    const valBool = !!val;\n    if (valBool !== this._hasError) {\n      this._hasError = valBool;\n    }\n  }\n\n  /**\n   * Overrides all actions from the page level, so you can use an alternate function for\n   * validation or data-munging with a ClrWizardPage.onCommit (clrWizardPageOnCommit output),\n   * ClrWizardPage.onCancel (clrWizardPageOnCancel output), or one\n   * of the granular page-level button click event emitters.\n   *\n   * @memberof WizardPage\n   *\n   */\n  @Input('clrWizardPagePreventDefault') public preventDefault: boolean = false;\n\n  /**\n   *\n   * @memberof WizardPage\n   *\n   */\n  private _stopCancel = false;\n\n  /**\n   * A getter that retrieves whether the page is preventing the cancel action.\n   *\n   * @memberof WizardPage\n   *\n   */\n  public get stopCancel(): boolean {\n    return this._stopCancel;\n  }\n\n  /**\n   * Overrides the cancel action from the page level. Allows you to use an\n   * alternate function for validation or data-munging before cancelling the\n   * wizard when combined with the ClrWizardPage.onCancel\n   * (the clrWizardPageOnCancel output).\n   *\n   * Requires that you manually close the wizard from your host component,\n   * usually with a call to Wizard.forceNext() or wizard.next();\n   *\n   * @memberof ClrWizardPage\n   */\n  @Input('clrWizardPagePreventDefaultCancel')\n  public set stopCancel(val: boolean) {\n    const valBool = !!val;\n    if (valBool !== this._stopCancel) {\n      this._stopCancel = valBool;\n      this.stopCancelChange.emit(valBool);\n    }\n  }\n\n  /**\n   *\n   * @memberof WizardPage\n   *\n   */\n  @Output('clrWizardPagePreventDefaultCancelChange') stopCancelChange: EventEmitter<boolean> = new EventEmitter();\n\n  /**\n   *\n   * @memberof WizardPage\n   *\n   */\n  private _stopNext = false;\n\n  /**\n   * A getter that tells you whether the page is preventing the next action.\n   *\n   * @memberof WizardPage\n   *\n   */\n  public get stopNext(): boolean {\n    return this._stopNext;\n  }\n\n  /**\n   * Overrides forward navigation from the page level. Allows you to use an\n   * alternate function for validation or data-munging before moving the\n   * wizard to the next pagewhen combined with the ClrWizardPage.onCommit\n   * (clrWizardPageOnCommit) or ClrWizardPage.nextButtonClicked\n   * (clrWizardPageNext) outputs.\n   *\n   * Requires that you manually tell the wizard to navigate forward from\n   * the hostComponent, usually with a call to Wizard.forceNext() or\n   * wizard.next();\n   *\n   * @memberof ClrWizardPage\n   */\n  @Input('clrWizardPagePreventDefaultNext')\n  public set stopNext(val: boolean) {\n    const valBool = !!val;\n    if (valBool !== this._stopNext) {\n      this._stopNext = valBool;\n    }\n  }\n\n  /**\n   * An event emitter carried over from a legacy version of ClrWizardPage.\n   * Fires an event on ClrWizardPage whenever the next or finish buttons\n   * are clicked and the page is the current page of the Wizard.\n   *\n   * Note that this does not automatically emit an event when a custom\n   * button is used in place of a next or finish button.\n   *\n   * @memberof WizardPage\n   *\n   */\n  @Output('clrWizardPageOnCommit') onCommit: EventEmitter<string> = new EventEmitter<string>(false);\n\n  /**\n   * Emits an event when ClrWizardPage becomes the current page of the\n   * Wizard.\n   *\n   * @memberof WizardPage\n   *\n   */\n  @Output('clrWizardPageOnLoad') onLoad: EventEmitter<string> = new EventEmitter();\n\n  /**\n   * Emits an event when the ClrWizardPage invokes the cancel routine for the wizard.\n   *\n   * Can be used in conjunction with the ClrWizardPage.stopCancel\n   * (clrWizardPagePreventDefaultCancel) or ClrWizardPage.preventDefault\n   * (clrWizardPagePagePreventDefault) inputs to implement custom cancel\n   * functionality at the page level. This is useful if you would like to do\n   * validation, save data, or warn users before cancelling the wizard.\n   *\n   * Note that this requires you to call Wizard.close() from the host component.\n   * This constitues a full replacement of the cancel functionality.\n   *\n   * @memberof WizardPage\n   *\n   */\n  @Output('clrWizardPageOnCancel') pageOnCancel: EventEmitter<ClrWizardPage> = new EventEmitter();\n\n  /**\n   * Emits an event when the finish button is clicked and the ClrWizardPage is\n   * the wizard's current page.\n   *\n   * Can be used in conjunction with the ClrWizardPage.preventDefault\n   * (clrWizardPagePagePreventDefault) input to implement custom finish\n   * functionality at the page level. This is useful if you would like to do\n   * validation, save data, or warn users before allowing them to complete\n   * the wizard.\n   *\n   * Note that this requires you to call Wizard.finish() or Wizard.forceFinish()\n   * from the host component. This combination creates a full replacement of\n   * the finish functionality.\n   *\n   * @memberof WizardPage\n   *\n   */\n  @Output('clrWizardPageFinish') finishButtonClicked: EventEmitter<ClrWizardPage> = new EventEmitter();\n\n  /**\n   * Emits an event when the previous button is clicked and the ClrWizardPage is\n   * the wizard's current page.\n   *\n   * Can be used in conjunction with the ClrWizardPage.preventDefault\n   * (clrWizardPagePagePreventDefault) input to implement custom backwards\n   * navigation at the page level. This is useful if you would like to do\n   * validation, save data, or warn users before allowing them to go\n   * backwards in the wizard.\n   *\n   * Note that this requires you to call Wizard.previous()\n   * from the host component. This combination creates a full replacement of\n   * the backwards navigation functionality.\n   *\n   * @memberof WizardPage\n   *\n   */\n  @Output('clrWizardPagePrevious') previousButtonClicked: EventEmitter<ClrWizardPage> = new EventEmitter();\n\n  /**\n   * Emits an event when the next button is clicked and the ClrWizardPage is\n   * the wizard's current page.\n   *\n   * Can be used in conjunction with the ClrWizardPage.preventDefault\n   * (clrWizardPagePagePreventDefault) input to implement custom forwards\n   * navigation at the page level. This is useful if you would like to do\n   * validation, save data, or warn users before allowing them to go\n   * to the next page in the wizard.\n   *\n   * Note that this requires you to call Wizard.forceNext() or Wizard.next()\n   * from the host component. This combination creates a full replacement of\n   * the forward navigation functionality.\n   *\n   * @memberof WizardPage\n   *\n   */\n  @Output('clrWizardPageNext') nextButtonClicked: EventEmitter<ClrWizardPage> = new EventEmitter();\n\n  /**\n   * Emits an event when a danger button is clicked and the ClrWizardPage is\n   * the wizard's current page. By default, a danger button will act as\n   * either a \"next\" or \"finish\" button depending on if the ClrWizardPage is the\n   * last page or not.\n   *\n   * Can be used in conjunction with the ClrWizardPage.preventDefault\n   * (clrWizardPagePagePreventDefault) input to implement custom forwards\n   * or finish navigation at the page level when the danger button is clicked.\n   * This is useful if you would like to do validation, save data, or warn\n   * users before allowing them to go to the next page in the wizard or\n   * finish the wizard.\n   *\n   * Note that this requires you to call Wizard.finish(), Wizard.forceFinish(),\n   * Wizard.forceNext() or Wizard.next() from the host component. This\n   * combination creates a full replacement of the forward navigation and\n   * finish functionality.\n   *\n   * @memberof WizardPage\n   *\n   */\n  @Output('clrWizardPageDanger') dangerButtonClicked: EventEmitter<ClrWizardPage> = new EventEmitter();\n\n  /**\n   * Emits an event when a next, finish, or danger button is clicked and the\n   * ClrWizardPage is the wizard's current page.\n   *\n   * Can be used in conjunction with the ClrWizardPage.preventDefault\n   * (clrWizardPagePagePreventDefault) input to implement custom forwards\n   * or finish navigation at the page level, regardless of the type of\n   * primary button.\n   *\n   * This is useful if you would like to do validation, save data, or warn\n   * users before allowing them to go to the next page in the wizard or\n   * finish the wizard.\n   *\n   * Note that this requires you to call Wizard.finish(), Wizard.forceFinish(),\n   * Wizard.forceNext() or Wizard.next() from the host component. This\n   * combination creates a full replacement of the forward navigation and\n   * finish functionality.\n   *\n   * @memberof WizardPage\n   *\n   */\n  @Output('clrWizardPagePrimary') primaryButtonClicked: EventEmitter<string> = new EventEmitter();\n\n  @Output('clrWizardPageCustomButton') customButtonClicked: EventEmitter<string> = new EventEmitter();\n\n  /**\n   * An input value that is used internally to generate the ClrWizardPage ID as\n   * well as the step nav item ID.\n   *\n   * Typed as any because it should be able to accept numbers as well as\n   * strings. Passing an index for wizard whose pages are created with an\n   * ngFor loop is a common use case.\n   *\n   * @memberof WizardPage\n   *\n   */\n  @Input('id') _id: any = (wizardPageIndex++).toString();\n\n  /**\n   * A read-only getter that generates an ID string for the wizard page from\n   * either the value passed to the ClrWizardPage \"id\" input or a wizard page\n   * counter shared across all wizard pages in the application.\n   *\n   * Note that the value passed into the ID input Will be prefixed with\n   * \"clr-wizard-page-\".\n   *\n   * @readonly\n   *\n   * @memberof ClrWizardPage\n   */\n  public get id() {\n    // covers things like null, undefined, false, and empty string\n    // while allowing zero to pass\n    const idIsNonZeroFalsy = !this._id && this._id !== 0;\n\n    // in addition to non-zero falsy we also want to make sure _id is not a negative\n    // number.\n    if (idIsNonZeroFalsy || this._id < 0) {\n      // guard here in the event that input becomes undefined or null by accident\n      this._id = (wizardPageIndex++).toString();\n    }\n    return `clr-wizard-page-${this._id}`;\n  }\n\n  /**\n   * A read-only getter that serves as a convenience for those who would rather\n   * not think in the terms of !ClrWizardPage.nextStepDisabled. For some use cases,\n   * ClrWizardPage.readyToComplete is more logical and declarative.\n   *\n   * @memberof WizardPage\n   *\n   */\n  public get readyToComplete(): boolean {\n    return !this.nextStepDisabled;\n  }\n\n  /**\n   *\n   * @memberof WizardPage\n   *\n   */\n  private _complete: boolean = false;\n\n  /**\n   * A page is marked as completed if it is both readyToComplete and completed,\n   * as in the next or finish action has been executed while this page was current.\n   *\n   * Note there is and open question about how to handle pages that are marked\n   * complete but who are no longer readyToComplete. This might indicate an error\n   * state for the ClrWizardPage. Currently, the wizard does not acknowledge this state\n   * and only returns that the page is incomplete.\n   *\n   * @memberof WizardPage\n   *\n   */\n  public get completed(): boolean {\n    return this._complete && this.readyToComplete;\n\n    // FOR V2: UNWIND COMPLETED, READYTOCOMPLETE, AND ERRORS\n    // SUCH THAT ERRORS IS ITS OWN INPUT. IF A STEP IS\n    // INCOMPLETE AND ERRORED, ERRORED WILL NOT SHOW.\n    // FIRST QUESTION: AM I GREY OR COLORED?\n    // SECOND QUESTION: AM I GREEN OR RED?\n  }\n\n  /**\n   * A ClrWizardPage can be manually set to completed using this boolean setter.\n   * It is recommended that users rely on the convenience functions in the wizard\n   * and navigation service instead of manually setting pages’ completion state.\n   *\n   * @memberof ClrWizardPage\n   */\n  public set completed(value: boolean) {\n    this._complete = value;\n  }\n\n  /**\n   * Checks with the navigation service to see if it is the current page.\n   *\n   * @memberof WizardPage\n   *\n   */\n  public get current(): boolean {\n    return this.navService.currentPage === this;\n  }\n\n  public get disabled(): boolean {\n    return !this.enabled;\n  }\n\n  /**\n   * A read-only getter that returns whether or not the page is navigable\n   * in the wizard. A wizard page can be navigated to if it is completed\n   * or the page before it is completed.\n   *\n   * This getter handles the logic for enabling or disabling the links in\n   * the step nav on the left Side of the wizard.\n   *\n   * @memberof WizardPage\n   *\n   */\n  public get enabled(): boolean {\n    return this.current || this.completed || this.previousCompleted;\n  }\n\n  /**\n   * A read-only getter that returns whether or not the page before this\n   * ClrWizardPage is completed. This is useful for determining whether or not\n   * a page is navigable if it is not current or already completed.\n   *\n   * @memberof WizardPage\n   *\n   */\n  public get previousCompleted(): boolean {\n    const previousPage = this.pageCollection.getPreviousPage(this);\n\n    if (!previousPage) {\n      return true;\n    }\n\n    return previousPage.completed;\n  }\n\n  /**\n   *\n   * @memberof WizardPage\n   *\n   */\n  public get title(): TemplateRef<any> {\n    return this.pageTitle.pageTitleTemplateRef;\n  }\n\n  /**\n   *\n   * @memberof WizardPage\n   *\n   */\n  public get navTitle(): TemplateRef<any> {\n    if (this.pageNavTitle) {\n      return this.pageNavTitle.pageNavTitleTemplateRef;\n    }\n    return this.pageTitle.pageTitleTemplateRef;\n  }\n\n  /**\n   *\n   * @memberof WizardPage\n   *\n   */\n  public get headerActions(): TemplateRef<any> {\n    if (!this._headerActions) {\n      return;\n    }\n    return this._headerActions.pageHeaderActionsTemplateRef;\n  }\n\n  /**\n   *\n   * @memberof WizardPage\n   *\n   */\n  public get hasHeaderActions(): boolean {\n    return !!this._headerActions;\n  }\n\n  /**\n   *\n   * @memberof WizardPage\n   *\n   */\n  public get buttons(): TemplateRef<any> {\n    if (!this._buttons) {\n      return;\n    }\n    return this._buttons.pageButtonsTemplateRef;\n  }\n\n  /**\n   * A read-only getter that returns a boolean that says whether or\n   * not the ClrWizardPage includes buttons. Used to determine if the\n   * Wizard should override the default button set defined as\n   * its direct children.\n   *\n   * @memberof WizardPage\n   *\n   */\n  public get hasButtons(): boolean {\n    return !!this._buttons;\n  }\n\n  /**\n   * Uses the nav service to make the ClrWizardPage the current page in the\n   * wizard. Bypasses all checks but still emits the ClrWizardPage.onLoad\n   * (clrWizardPageOnLoad) output.\n   *\n   * In most cases, it is better to use the default navigation functions\n   * in Wizard.\n   *\n   * @memberof WizardPage\n   *\n   */\n  public makeCurrent(): void {\n    this.navService.currentPage = this;\n  }\n\n  /**\n   * Links the nav service and establishes the current page if one is not defined.\n   *\n   * @memberof WizardPage\n   *\n   */\n  public ngOnInit(): void {\n    const navService = this.navService;\n    if (!navService.currentPage && !navService.navServiceLoaded) {\n      this.makeCurrent();\n      this.navService.navServiceLoaded = true;\n    }\n  }\n\n  /**\n   * A read-only getter that returns the id used by the step nav item associated with the page.\n   *\n   * ClrWizardPage needs this ID string for aria information.\n   *\n   * @memberof WizardPage\n   *\n   */\n  public get stepItemId(): string {\n    return this.pageCollection.getStepItemIdForPage(this);\n  }\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport {\n  AfterContentInit,\n  Component,\n  ContentChildren,\n  DoCheck,\n  ElementRef,\n  EventEmitter,\n  Input,\n  IterableDiffers,\n  OnDestroy,\n  Output,\n  QueryList,\n  ViewChild,\n  PLATFORM_ID,\n  Inject,\n} from '@angular/core';\nimport { isPlatformBrowser } from '@angular/common';\nimport { Subscription } from 'rxjs';\nimport { filter } from 'rxjs/operators';\n\nimport { ButtonHubService } from './providers/button-hub.service';\nimport { HeaderActionService } from './providers/header-actions.service';\nimport { PageCollectionService } from './providers/page-collection.service';\nimport { WizardNavigationService } from './providers/wizard-navigation.service';\nimport { ClrWizardHeaderAction } from './wizard-header-action';\nimport { ClrWizardPage } from './wizard-page';\n\n@Component({\n  selector: 'clr-wizard',\n  providers: [WizardNavigationService, PageCollectionService, ButtonHubService, HeaderActionService],\n  templateUrl: './wizard.html',\n  host: {\n    '[class.clr-wizard]': 'true',\n    '[class.wizard-md]': \"size == 'md'\",\n    '[class.wizard-lg]': \"size == 'lg'\",\n    '[class.wizard-xl]': \"size == 'xl'\",\n    '[class.lastPage]': 'navService.currentPageIsLast',\n  },\n})\nexport class ClrWizard implements OnDestroy, AfterContentInit, DoCheck {\n  /**\n   * Set the modal size of the wizard. Set using `[clrWizardSize]` input.\n   */\n  @Input('clrWizardSize') size = 'xl';\n\n  /**\n   * Tells the modal part of the wizard whether it should have a close \"X\"\n   * in the top right corner. Set using `[clrWizardClosable]` input.\n   */\n  @Input('clrWizardClosable') closable = true;\n\n  /**\n   * Resets page completed states when navigating backwards.\n   * Set using `[clrWizardForceForwardNavigation]` input.\n   */\n  @Input('clrWizardForceForwardNavigation')\n  set forceForward(value: boolean) {\n    this._forceForward = !!value;\n    this.navService.forceForwardNavigation = value;\n  }\n  private _forceForward: boolean = false;\n  get forceForward(): boolean {\n    return this._forceForward;\n  }\n\n  _open = false;\n  /**\n   * Toggles open/close of the wizard component.\n   * Set using the `[clrWizardOpen]` input.\n   */\n  @Input('clrWizardOpen')\n  set clrWizardOpen(open: boolean) {\n    if (open) {\n      this.buttonService.buttonsReady = true;\n    }\n    this._open = open;\n  }\n\n  /**\n   * Prevents ClrWizard from moving to the next page or closing itself on finishing.\n   * Set using the `[clrWizardPreventDefaultNext]` input. Note that using stopNext\n   * will require you to create your own calls to .next() and .finish() in your\n   * host component to make the ClrWizard work as expected.\n   */\n  @Input('clrWizardPreventDefaultNext')\n  set stopNext(value: boolean) {\n    this._stopNext = !!value;\n    this.navService.wizardHasAltNext = value;\n  }\n  private _stopNext: boolean = false;\n  get stopNext() {\n    return this._stopNext;\n  }\n\n  /**\n   * Prevents ClrWizard from closing when the cancel button or close \"X\" is clicked.\n   * Set using the `[clrWizardPreventDefaultCancel]` input.\n   *\n   * Note that using stopCancel will require you to create your own calls to `close()` in your host compone`nt\n   * to make the ClrWizard work as expected. Useful for doing checks or prompts\n   * before closing a ClrWizard.\n   */\n  @Input('clrWizardPreventDefaultCancel')\n  set stopCancel(value: boolean) {\n    this._stopCancel = !!value;\n    this.navService.wizardHasAltCancel = value;\n  }\n  private _stopCancel: boolean = false;\n  get stopCancel(): boolean {\n    return this._stopCancel;\n  }\n\n  /**\n   * Prevents ClrWizard from performing any form of navigation away from the current\n   * page. Set using the `[clrWizardPreventNavigation]` input.\n   * Note that stopNavigation is meant to freeze the wizard in place, typically\n   * during a long validation or background action where you want the wizard to\n   * display loading content but not allow the user to execute navigation in\n   * the stepnav, close X, or the  back, finish, or next buttons.\n   */\n  @Input('clrWizardPreventNavigation')\n  set stopNavigation(value: boolean) {\n    this._stopNavigation = !!value;\n    this.navService.wizardStopNavigation = value;\n  }\n  private _stopNavigation = false;\n  get stopNavigation() {\n    return this._stopNavigation;\n  }\n\n  /**\n   * Prevents clicks on the links in the stepnav from working.\n   * Set using `[clrWizardDisableStepnav]` input.\n   * A more granular bypassing of navigation which can be useful when your\n   * ClrWizard is in a state of completion and you don't want users to be\n   * able to jump backwards and change things.\n   */\n  @Input('clrWizardDisableStepnav')\n  set disableStepnav(value: boolean) {\n    this._disableStepnav = !!value;\n    this.navService.wizardDisableStepnav = value;\n  }\n  private _disableStepnav: boolean = false;\n  get disableStepnav(): boolean {\n    return this._disableStepnav;\n  }\n\n  /**\n   * Used to communicate to the underlying modal that animations are not\n   * wanted. Primary use is for the display of static/inline wizards.\n   * Set using `[clrWizardPreventModalAnimation]` input.\n   */\n  /** @deprecated since 3.0, input should be removed in 4.0 because is only related to inline wizards */\n  @Input('clrWizardPreventModalAnimation') _stopModalAnimations: boolean = false;\n  get stopModalAnimations(): string {\n    return this._stopModalAnimations ? 'true' : 'false';\n  }\n\n  /**\n   * Emits when the wizard is opened or closed.\n   * Listen via `(clrWizardOpenChange)` event.\n   */\n  @Output('clrWizardOpenChange') _openChanged: EventEmitter<boolean> = new EventEmitter<boolean>(false);\n\n  /**\n   * Emits when the wizard is canceled. Listen via `(clrWizardOnCancel)` event.\n   * Can be combined with the `[clrWizardPreventDefaultCancel]` input to create\n   * wizard-level custom cancel routines.\n   */\n  @Output('clrWizardOnCancel') onCancel: EventEmitter<any> = new EventEmitter<any>(false);\n\n  /**\n   * Emits when the wizard is completed. Listen via `(clrWizardOnFinish)` event.\n   * Can be combined with the `[clrWizardPreventDefaultNext]` input to create\n   * wizard-level custom completion routines.\n   */\n  @Output('clrWizardOnFinish') wizardFinished: EventEmitter<any> = new EventEmitter<any>(false);\n\n  /**\n   * Emits when the wizard is reset. Listen via `(clrWizardOnReset)` event.\n   */\n  @Output('clrWizardOnReset') onReset: EventEmitter<any> = new EventEmitter<any>(false);\n\n  /**\n   * Emits when the current page has changed. Listen via `(clrWizardCurrentPageChanged)` event.\n   * output. Useful for non-blocking validation.\n   */\n  @Output('clrWizardCurrentPageChanged') currentPageChanged: EventEmitter<any> = new EventEmitter<any>(false);\n\n  /**\n   * Emits when the wizard moves to the next page. Listen via `(clrWizardOnNext)` event.\n   * Can be combined with the `[clrWizardPreventDefaultNext]` input to create\n   * wizard-level custom navigation routines, which are useful for validation.\n   */\n  @Output('clrWizardOnNext') onMoveNext: EventEmitter<any> = new EventEmitter<any>(false);\n\n  /**\n   * Emits when the wizard moves to the previous page. Can be useful for validation.\n   * Listen via `(clrWizardOnPrevious)` event.\n   */\n\n  @Output('clrWizardOnPrevious') onMovePrevious: EventEmitter<any> = new EventEmitter<any>(false);\n\n  @ContentChildren(ClrWizardPage, { descendants: true })\n  pages: QueryList<ClrWizardPage>;\n  @ContentChildren(ClrWizardHeaderAction) headerActions: QueryList<ClrWizardHeaderAction>;\n  @ViewChild('wizardTitle') wizardTitle: ElementRef;\n\n  public get currentPage() {\n    return this.navService.currentPage;\n  }\n\n  public set currentPage(page: ClrWizardPage) {\n    this.navService.goTo(page, true);\n  }\n\n  public get isLast() {\n    return this.navService.currentPageIsLast;\n  }\n\n  public get isFirst() {\n    return this.navService.currentPageIsFirst;\n  }\n\n  public get isStatic() {\n    return (this.elementRef.nativeElement as HTMLElement).classList.contains('clr-wizard--inline');\n  }\n\n  private differ: any; // for marking when the collection of wizard pages has been added to or deleted from\n  private subscriptions: Subscription[] = [];\n\n  constructor(\n    @Inject(PLATFORM_ID) private platformId: Object,\n    public navService: WizardNavigationService,\n    public pageCollection: PageCollectionService,\n    public buttonService: ButtonHubService,\n    public headerActionService: HeaderActionService,\n    private elementRef: ElementRef,\n    differs: IterableDiffers\n  ) {\n    this.subscriptions.push(\n      this.listenForNextPageChanges(),\n      this.listenForPreviousPageChanges(),\n      this.listenForCancelChanges(),\n      this.listenForFinishedChanges(),\n      this.listenForPageChanges()\n    );\n\n    this.differ = differs.find([]).create(null);\n  }\n\n  public ngAfterContentInit() {\n    this.pageCollection.pages = this.pages;\n    this.headerActionService.wizardHeaderActions = this.headerActions;\n    this.initializeButtons();\n  }\n\n  public ngDoCheck() {\n    this.updateNavOnPageChanges();\n  }\n\n  public ngOnDestroy() {\n    this.subscriptions.forEach(s => s.unsubscribe());\n  }\n\n  /**\n   * Marks Wizard as finished. By default it does not execute event\n   * emissions or checks before completing and closing. This method is commonly\n   * used as part of an alternative navigation with `[clrWizardPreventDefaultNext]`.\n   *\n   * If `skipChecksAndEmits` is true, the wizard will complete and close\n   * regardless of the state of its current page. This is useful for alternative\n   * navigation where event emissions have already been done and firing them again\n   * may cause an event loop.\n   */\n  public finish(skipChecksAndEmits = true) {\n    if (skipChecksAndEmits) {\n      this.forceFinish();\n    } else {\n      this.navService.finish();\n    }\n  }\n\n  /**\n   * Marks the wizard as finished but does run checks and emissions.\n   * Good for a last step in an alternate workflow. Does the same thing as\n   * calling `ClrWizard.finish(true)` or `ClrWizard.finish()` without a parameter.\n   */\n  public forceFinish() {\n    if (this.stopNavigation) {\n      return;\n    }\n\n    this.close();\n  }\n\n  /**\n   * Opens the wizard. If there is no current page defined, sets the first page in the wizard to be current.\n   */\n  public open(): void {\n    this._open = true;\n\n    if (!this.currentPage) {\n      this.navService.setFirstPageCurrent();\n    }\n\n    // Only render buttons when wizard is opened, to avoid chocolate errors\n    this.buttonService.buttonsReady = true;\n\n    this._openChanged.emit(true);\n  }\n\n  /**\n   * Closes the wizard. Call this directly instead of `cancel()` to implement alternative cancel functionality.\n   */\n  public close(): void {\n    if (this.stopNavigation) {\n      return;\n    }\n\n    this._open = false;\n    this._openChanged.emit(false);\n  }\n\n  /**\n   * Used to open and close the wizard. By default the wizard will\n   * close if invoked with no parameter. If parameter is true wizard will open\n   * else if false will close.\n   */\n  public toggle(open: boolean): void {\n    if (open) {\n      this.open();\n    } else {\n      this.close();\n    }\n  }\n\n  /**\n   * Moves the wizard to the previous page.\n   */\n  public previous(): void {\n    this.navService.previous();\n  }\n\n  /**\n   * By default, `next()` does not execute event emissions.\n   * This method is commonly called as part of an alternative navigation\n   * with `[clrWizardPreventDefaultNext]`. The wizard will move to the next page\n   * regardless of the state of its current page. This is useful for alternative\n   * navigation where event emissions have already been done and firing them again\n   * may cause an event loop.\n   *\n   * If `skipChecksAndEmits` is false, the wizard will execute default checks\n   * and emit events as normal. This is useful for custom buttons or programmatic\n   * workflows that are not executing the wizards default checks and emissions.\n   * It is another way to navigate without having to rewrite the wizard’s default\n   * functionality from scratch.\n   */\n  public next(skipChecksAndEmits: boolean = true): void {\n    if (skipChecksAndEmits) {\n      this.forceNext();\n    } else {\n      this.navService.next();\n    }\n  }\n\n  /**\n   * Moves the wizard to the next page without the checks and emissions.\n   * Good for a last step in an alternate workflow.\n   * Alias for `ClrWizard.next(true)` or `ClrWizard.next()`\n   */\n  public forceNext(): void {\n    this.navService.forceNext();\n  }\n\n  /**\n   * Cancels and closes the wizard. Do not use this for an override of the cancel\n   * the functionality with `[clrWizardPreventDefaultCancel]`, `[clrWizardPreventPageDefaultCancel]`,\n   * or `[clrWizardPagePreventDefault]` because it will initiate the same checks\n   * and event emissions that invoked your event handler. Use `ClrWizard.close()` instead.\n   */\n  public cancel(): void {\n    this.navService.cancel();\n  }\n\n  /**\n   * Overrides behavior of the underlying modal to avoid collisions with\n   * alternative cancel functionality. In most cases, use `ClrWizard.cancel()` instead.\n   */\n  public modalCancel(): void {\n    if (this.closable) {\n      this.checkAndCancel();\n    }\n  }\n\n  /**\n   * Checks for alternative cancel flows defined at the current page or\n   * wizard level. Performs a canceled if not. Emits events that initiate\n   * the alternative cancel outputs `(clrWizardPageOnCancel)` and `(clrWizardOnCancel)`.\n   */\n  public checkAndCancel(): void {\n    const currentPage = this.currentPage;\n    const currentPageHasOverrides = currentPage.stopCancel || currentPage.preventDefault;\n\n    if (this.stopNavigation) {\n      return;\n    }\n\n    currentPage.pageOnCancel.emit();\n    if (!currentPageHasOverrides) {\n      this.onCancel.emit();\n    }\n\n    if (!this.stopCancel && !currentPageHasOverrides) {\n      this.close();\n    }\n  }\n\n  /**\n   * Navigates to a given page in the Wizard. Navigation will invoke the wizard’s default\n   * checks and event emissions.\n   *\n   * The format of the expected ID parameter can be found in the return of the\n   * ClrWizardPage.id getter, usually prefixed with `clr-wizard-page-` and then either a\n   * numeric ID or the ID specified for the `ClrWizardPage` component’s `id` input.\n   */\n  public goTo(pageId: string): void {\n    if (!pageId) {\n      return;\n    }\n\n    this.navService.goTo(pageId);\n  }\n\n  /**\n   * Reset sets all WizardPages to incomplete and sets the first page in the `ClrWizard` to\n   * be the current page, resetting the wizard navigation.\n   * Use `(clrWizardOnReset)` event to reset the data or model of your wizard.\n   */\n  public reset(): void {\n    this.pageCollection.reset();\n    this.onReset.next();\n  }\n\n  private listenForNextPageChanges(): Subscription {\n    return this.navService.movedToNextPage.pipe(filter(() => isPlatformBrowser(this.platformId))).subscribe(() => {\n      this.onMoveNext.emit();\n      this.wizardTitle.nativeElement.focus();\n    });\n  }\n\n  private listenForPreviousPageChanges(): Subscription {\n    return this.navService.movedToPreviousPage.pipe(filter(() => isPlatformBrowser(this.platformId))).subscribe(() => {\n      this.onMovePrevious.emit();\n      this.wizardTitle.nativeElement.focus();\n    });\n  }\n\n  private listenForCancelChanges(): Subscription {\n    return this.navService.notifyWizardCancel.subscribe(() => this.checkAndCancel());\n  }\n\n  private listenForFinishedChanges(): Subscription {\n    return this.navService.wizardFinished.subscribe(() => this.emitWizardFinished());\n  }\n\n  private listenForPageChanges(): Subscription {\n    return this.navService.currentPageChanged.subscribe(() => this.currentPageChanged.emit());\n  }\n\n  private updateNavOnPageChanges(): void {\n    const changes = this.differ.diff(this.pages);\n    if (changes) {\n      changes.forEachAddedItem(() => this.navService.updateNavigation());\n      changes.forEachRemovedItem(() => this.navService.updateNavigation());\n    }\n  }\n\n  private initializeButtons(): void {\n    // Only trigger buttons ready if default is open (inlined)\n    if (this._open) {\n      this.buttonService.buttonsReady = true;\n    }\n  }\n\n  private emitWizardFinished(): void {\n    if (!this.stopNext) {\n      this.forceFinish();\n    }\n    this.wizardFinished.emit();\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component, EventEmitter, Input, Output } from '@angular/core';\n\nimport { ButtonHubService } from './providers/button-hub.service';\nimport { WizardNavigationService } from './providers/wizard-navigation.service';\n\nexport const DEFAULT_BUTTON_TYPES: any = {\n  cancel: 'cancel',\n  previous: 'previous',\n  next: 'next',\n  finish: 'finish',\n  danger: 'danger',\n};\n\nexport const CUSTOM_BUTTON_TYPES: any = {\n  cancel: 'custom-cancel',\n  previous: 'custom-previous',\n  next: 'custom-next',\n  finish: 'custom-finish',\n  danger: 'custom-danger',\n};\n\n@Component({\n  selector: 'clr-wizard-button',\n  template: `\n        <button\n            type=\"button\"\n            class=\"btn clr-wizard-btn\"\n            [class.btn-link]=\"isCancel\"\n            [class.clr-wizard-btn--tertiary]=\"isCancel\"\n            [class.btn-outline]=\"isPrevious\"\n            [class.clr-wizard-btn--secondary]=\"isPrevious\"\n            [class.btn-primary]=\"isPrimaryAction\"\n            [class.clr-wizard-btn--primary]=\"isPrimaryAction\"\n            [class.btn-success]=\"isFinish\"\n            [class.btn-danger]=\"isDanger\"\n            [class.disabled]=\"isDisabled\"\n            [attr.disabled]=\"_disabledAttribute\"\n            (click)=\"click()\">\n            <ng-content></ng-content>\n        </button>\n    `,\n  host: { class: 'clr-wizard-btn-wrapper', '[attr.aria-hidden]': 'isHidden' },\n  styles: ['[aria-hidden=\"true\"] { display: none; }'],\n})\nexport class ClrWizardButton {\n  @Input('type') public type: string = '';\n\n  @Input('clrWizardButtonDisabled') public disabled: boolean = false;\n\n  @Input('clrWizardButtonHidden') public hidden: boolean = false;\n\n  // EventEmitter which is emitted when a button is clicked.\n  @Output('clrWizardButtonClicked') wasClicked: EventEmitter<string> = new EventEmitter<string>(false);\n\n  constructor(public navService: WizardNavigationService, public buttonService: ButtonHubService) {}\n\n  private checkDefaultAndCustomType(valueToCheck: string = '', typeToLookUp: string) {\n    if (DEFAULT_BUTTON_TYPES[typeToLookUp] === valueToCheck) {\n      return true;\n    }\n    if (CUSTOM_BUTTON_TYPES[typeToLookUp] === valueToCheck) {\n      return true;\n    }\n    return false;\n  }\n\n  public get isCancel(): boolean {\n    return this.checkDefaultAndCustomType(this.type, 'cancel');\n  }\n\n  public get isNext(): boolean {\n    return this.checkDefaultAndCustomType(this.type, 'next');\n  }\n\n  public get isPrevious(): boolean {\n    return this.checkDefaultAndCustomType(this.type, 'previous');\n  }\n\n  public get isFinish(): boolean {\n    return this.checkDefaultAndCustomType(this.type, 'finish');\n  }\n\n  public get isDanger(): boolean {\n    return this.checkDefaultAndCustomType(this.type, 'danger');\n  }\n\n  public get isPrimaryAction(): boolean {\n    return this.isNext || this.isDanger || this.isFinish;\n  }\n\n  public get _disabledAttribute(): string | null {\n    if (this.isDisabled) {\n      return '';\n    }\n    return null;\n  }\n\n  public get isDisabled(): boolean {\n    // dealing with negatives here. cognitively easier to think of it like this...\n    const disabled = true;\n    const nav = this.navService;\n    const page = this.navService.currentPage;\n\n    // Ensure we don't change the response until buttons are ready to avoid chocolate\n    if (!this.buttonService.buttonsReady) {\n      return !disabled;\n    }\n\n    if (this.disabled || nav.wizardStopNavigation || !page) {\n      return true;\n    }\n\n    if (this.isCancel) {\n      return !disabled;\n    }\n\n    if (this.isPrevious && (nav.currentPageIsFirst || page.previousStepDisabled)) {\n      return disabled;\n    }\n\n    if (this.isDanger && !page.readyToComplete) {\n      return disabled;\n    }\n\n    if (this.isNext && (nav.currentPageIsLast || !page.readyToComplete)) {\n      return disabled;\n    }\n\n    if (this.isFinish && (!nav.currentPageIsLast || !page.readyToComplete)) {\n      return disabled;\n    }\n\n    return !disabled;\n  }\n\n  public get isHidden(): boolean {\n    // dealing with negatives here. cognitively easier to think of it like this...\n    const hidden = true;\n    const nav = this.navService;\n\n    // Ensure we don't change the response until buttons are ready to avoid chocolate\n    if (!this.buttonService.buttonsReady) {\n      return !hidden;\n    }\n\n    if (this.hidden) {\n      return true;\n    }\n\n    if (this.isCancel) {\n      return !hidden;\n    }\n\n    if (this.isPrevious && nav.currentPageIsFirst) {\n      return hidden;\n    }\n\n    if (this.isNext && nav.currentPageIsLast) {\n      return hidden;\n    }\n\n    if (this.isFinish && !nav.currentPageIsLast) {\n      return hidden;\n    }\n\n    return !hidden;\n  }\n\n  click(): void {\n    if (this.isDisabled) {\n      return;\n    }\n\n    this.wasClicked.emit(this.type);\n    this.buttonService.buttonClicked(this.type);\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Directive } from '@angular/core';\n\n@Directive({ selector: 'clr-wizard-title, clr-wizard-pagetitle' })\nexport class ClrWizardCustomTags {\n  // No behavior\n  // The only purpose is to \"declare\" the tag in Angular\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component } from '@angular/core';\nimport { PageCollectionService } from './providers/page-collection.service';\n\n@Component({\n  selector: 'clr-wizard-stepnav',\n  template: `\n    <div class=\"clr-wizard-stepnav-list\">\n      <div *ngFor=\"let page of pageService.pages; let i = index\" clr-wizard-stepnav-item [page]=\"page\" class=\"clr-wizard-stepnav-item\">{{i + 1}}</div>\n    </div>\n  `,\n  host: { class: 'clr-wizard-stepnav' },\n})\nexport class ClrWizardStepnav {\n  constructor(public pageService: PageCollectionService) {}\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component, Input } from '@angular/core';\n\nimport { PageCollectionService } from './providers/page-collection.service';\nimport { WizardNavigationService } from './providers/wizard-navigation.service';\nimport { ClrWizardPage } from './wizard-page';\n\n@Component({\n  selector: '[clr-wizard-stepnav-item]',\n  template: `\n        <button type=\"button\" class=\"btn btn-link clr-wizard-stepnav-link\" (click)=\"click()\" [attr.disabled]=\"isDisabled ? '' : null\">\n            <span class=\"clr-wizard-stepnav-link-suffix\">\n              <clr-icon shape=\"error-standard\" class=\"is-error clr-wizard-stepnav-item-error-icon\" *ngIf=\"hasError\"></clr-icon>\n              <ng-content *ngIf=\"!hasError\"></ng-content>              \n            </span>\n            <span class=\"clr-wizard-stepnav-link-title\">\n              <ng-template [ngTemplateOutlet]=\"page.navTitle\"></ng-template> \n            </span>\n        </button>\n    `,\n  host: {\n    '[id]': 'id',\n    '[attr.aria-selected]': 'isCurrent',\n    '[attr.aria-controls]': 'id',\n    '[class.clr-nav-link]': 'true',\n    '[class.nav-item]': 'true',\n    '[class.active]': 'isCurrent',\n    '[class.disabled]': 'isDisabled',\n    '[class.no-click]': '!canNavigate',\n    '[class.complete]': 'isComplete',\n    '[class.error]': 'hasError',\n  },\n})\nexport class ClrWizardStepnavItem {\n  @Input('page') public page: ClrWizardPage;\n\n  constructor(public navService: WizardNavigationService, public pageCollection: PageCollectionService) {}\n\n  private pageGuard(): void {\n    if (!this.page) {\n      throw new Error('Wizard stepnav item is not associated with a wizard page.');\n    }\n  }\n\n  public get id(): string {\n    this.pageGuard();\n    return this.pageCollection.getStepItemIdForPage(this.page);\n  }\n\n  public get isDisabled(): boolean {\n    this.pageGuard();\n    return this.page.disabled || this.navService.wizardStopNavigation || this.navService.wizardDisableStepnav;\n  }\n\n  public get isCurrent(): boolean {\n    this.pageGuard();\n    return this.page.current;\n  }\n\n  public get isComplete(): boolean {\n    this.pageGuard();\n    return this.page.completed;\n  }\n\n  public get hasError(): boolean {\n    this.pageGuard();\n    return this.page.hasError && this.isComplete;\n  }\n\n  public get canNavigate(): boolean {\n    this.pageGuard();\n    return this.pageCollection.previousPageIsCompleted(this.page);\n  }\n\n  click(): void {\n    this.pageGuard();\n\n    // if we click on our own stepnav or a disabled stepnav, we don't want to do anything\n    if (this.isDisabled || this.isCurrent) {\n      return;\n    }\n\n    this.navService.goTo(this.page);\n  }\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { ClrAlertModule } from '../emphasis/alert/alert.module';\nimport { ClrModalModule } from '../modal/modal.module';\n\nimport { ClrWizard } from './wizard';\nimport { ClrWizardButton } from './wizard-button';\nimport { ClrWizardCustomTags } from './wizard-custom-tags';\nimport { ClrWizardHeaderAction } from './wizard-header-action';\nimport { ClrWizardPage } from './wizard-page';\nimport { ClrWizardPageButtons } from './wizard-page-buttons';\nimport { ClrWizardPageHeaderActions } from './wizard-page-header-actions';\nimport { ClrWizardPageNavTitle } from './wizard-page-navtitle';\nimport { ClrWizardPageTitle } from './wizard-page-title';\nimport { ClrWizardStepnav } from './wizard-stepnav';\nimport { ClrWizardStepnavItem } from './wizard-stepnav-item';\n\nexport const CLR_WIZARD_DIRECTIVES: any[] = [\n  ClrWizard,\n  ClrWizardPage,\n  ClrWizardStepnav,\n  ClrWizardStepnavItem,\n  ClrWizardButton,\n  ClrWizardHeaderAction,\n  ClrWizardCustomTags,\n  ClrWizardPageTitle,\n  ClrWizardPageNavTitle,\n  ClrWizardPageButtons,\n  ClrWizardPageHeaderActions,\n];\n\n@NgModule({\n  imports: [CommonModule, ClrModalModule, ClrAlertModule],\n  declarations: [CLR_WIZARD_DIRECTIVES],\n  exports: [CLR_WIZARD_DIRECTIVES],\n})\nexport class ClrWizardModule {}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nexport enum AccordionStrategy {\n  Default = 'default', // only one panel at a time\n  Multi = 'multi', // can have multiple panels open at a time\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nexport enum AccordionStatus {\n  Inactive = 'inactive',\n  Error = 'error',\n  Complete = 'complete',\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { AccordionStrategy } from '../enums/accordion-strategy.enum';\nimport { AccordionStatus } from '../enums/accordion-status.enum';\n\nlet accordionCount = 0;\n\nexport class AccordionPanelModel {\n  status = AccordionStatus.Inactive;\n  index: number = null;\n  disabled = false;\n  open = false;\n  templateId = `${this.id}-${this.accordionId}`;\n  constructor(public id: string, public accordionId: number | string) {}\n}\n\nexport class AccordionModel {\n  protected strategy = AccordionStrategy.Default;\n  protected accordionCount = accordionCount++;\n  protected _panels: { [id: string]: AccordionPanelModel } = {};\n\n  get panels(): AccordionPanelModel[] {\n    return Object.keys(this._panels).map(id => this._panels[id]);\n  }\n\n  setStrategy(strategy: AccordionStrategy) {\n    this.strategy = strategy;\n  }\n\n  updatePanelOrder(ids: string[]) {\n    ids.forEach((id, index) => (this._panels[id].index = index));\n    this.removeOldPanels(ids);\n  }\n\n  addPanel(id: string, open = false) {\n    this._panels[id] = new AccordionPanelModel(id, this.accordionCount);\n    this._panels[id].open = open;\n  }\n\n  togglePanel(panelId: string, open?: boolean) {\n    const panelIsOpen = this._panels[panelId].open;\n    if (this.strategy === AccordionStrategy.Default) {\n      this.closeAllPanels();\n    }\n\n    this._panels[panelId].open = open !== undefined ? open : !panelIsOpen;\n  }\n\n  disablePanel(panelId: string, disabled: boolean) {\n    this._panels[panelId].disabled = disabled;\n  }\n\n  private closeAllPanels() {\n    this.panels.forEach(panel => (this._panels[panel.id].open = false));\n  }\n\n  private removeOldPanels(ids: string[]) {\n    this.panels\n      .filter(panel => ids.find(id => id === panel.id) === undefined)\n      .forEach(panel => delete this._panels[panel.id]);\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable } from '@angular/core';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nimport { AccordionModel, AccordionPanelModel } from '../models/accordion.model';\nimport { AccordionStrategy } from '../enums/accordion-strategy.enum';\n\n@Injectable()\nexport class AccordionService {\n  protected accordion = new AccordionModel();\n  protected readonly _panelsChanges = new BehaviorSubject<AccordionPanelModel[]>(this.accordion.panels);\n\n  getPanelChanges(panelId: string): Observable<AccordionPanelModel> {\n    return this._panelsChanges.pipe(map(panels => panels.find(s => s.id === panelId)));\n  }\n\n  setStrategy(strategy: AccordionStrategy) {\n    this.accordion.setStrategy(strategy);\n  }\n\n  addPanel(panelId: string, open = false) {\n    this.accordion.addPanel(panelId, open);\n    this.emitUpdatedPanels();\n  }\n\n  togglePanel(panelId: string, open?: boolean) {\n    this.accordion.togglePanel(panelId, open);\n    this.emitUpdatedPanels();\n  }\n\n  disablePanel(panelId: string, disabled?: boolean) {\n    this.accordion.disablePanel(panelId, disabled);\n    this.emitUpdatedPanels();\n  }\n\n  updatePanelOrder(ids: string[]) {\n    this.accordion.updatePanelOrder(ids);\n    this.emitUpdatedPanels();\n  }\n\n  protected emitUpdatedPanels() {\n    this._panelsChanges.next(this.accordion.panels);\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nexport const defaultAnimationTiming = '0.2s ease-in-out';\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { animate, style, transition, trigger } from '@angular/animations';\n\nimport { defaultAnimationTiming } from '../../utils/animations/constants';\n\nexport const panelAnimation = [\n  trigger('skipInitialRender', [transition(':enter', [])]),\n  trigger('toggle', [\n    transition('void => *', [\n      style({ display: 'block', height: 0 }),\n      animate(defaultAnimationTiming, style({ height: '*' })),\n    ]),\n  ]),\n];\n\nexport const stepAnimation = [\n  trigger('skipInitialRender', [transition(':enter', [])]),\n  trigger('toggle', [\n    transition('void => *', [\n      style({ display: 'block', height: 0 }),\n      animate(defaultAnimationTiming, style({ height: '*' })),\n    ]),\n    transition('* => void', [\n      style({ display: 'block' }),\n      animate(defaultAnimationTiming, style({ height: 0, display: 'none' })),\n    ]),\n  ]),\n];\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component, ChangeDetectionStrategy } from '@angular/core';\n\n@Component({\n  selector: 'clr-accordion-description, clr-step-description',\n  template: `<ng-content></ng-content>`,\n  host: { '[class.clr-accordion-description]': 'true' },\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class ClrAccordionDescription {}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport {\n  Component,\n  ChangeDetectionStrategy,\n  Input,\n  EventEmitter,\n  Output,\n  SimpleChanges,\n  Inject,\n  OnInit,\n  OnChanges,\n  ContentChildren,\n  QueryList,\n} from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { tap } from 'rxjs/operators';\n\nimport { UNIQUE_ID_PROVIDER, UNIQUE_ID } from '../utils/id-generator/id-generator.service';\nimport { ClrCommonStringsService } from '../utils/i18n/common-strings.service';\nimport { AccordionService } from './providers/accordion.service';\nimport { AccordionStatus } from './enums/accordion-status.enum';\nimport { panelAnimation } from './utils/animation';\nimport { IfExpandService } from '../utils/conditional/if-expanded.service';\nimport { AccordionPanelModel } from './models/accordion.model';\nimport { ClrAccordionDescription } from './accordion-description';\n\n@Component({\n  selector: 'clr-accordion-panel',\n  templateUrl: './accordion-panel.html',\n  host: { '[class.clr-accordion-panel]': 'true' },\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  animations: panelAnimation,\n  providers: [IfExpandService, UNIQUE_ID_PROVIDER],\n})\nexport class ClrAccordionPanel implements OnInit, OnChanges {\n  @Input('clrAccordionPanelDisabled') disabled = false;\n  @Input('clrAccordionPanelOpen') panelOpen = false;\n  @Output('clrAccordionPanelOpenChange') panelOpenChange = new EventEmitter<boolean>();\n  @ContentChildren(ClrAccordionDescription) accordionDescription: QueryList<ClrAccordionDescription>;\n\n  panel: Observable<AccordionPanelModel>;\n  readonly AccordionStatus = AccordionStatus;\n  isAccordion = true;\n\n  constructor(\n    public commonStrings: ClrCommonStringsService,\n    private accordionService: AccordionService,\n    private ifExpandService: IfExpandService,\n    @Inject(UNIQUE_ID) public id: string\n  ) {}\n\n  ngOnInit() {\n    this.panel = this.accordionService.getPanelChanges(this.id).pipe(tap(panel => this.emitPanelChange(panel)));\n    this.accordionService.addPanel(this.id, this.panelOpen);\n    this.accordionService.togglePanel(this.id, this.panelOpen);\n    this.accordionService.disablePanel(this.id, this.disabled);\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (this.panel && changes.panelOpen && changes.panelOpen.currentValue !== changes.panelOpen.previousValue) {\n      this.accordionService.togglePanel(this.id, changes.panelOpen.currentValue);\n    }\n\n    if (this.panel && changes.disabled && changes.disabled.currentValue !== changes.disabled.previousValue) {\n      this.accordionService.disablePanel(this.id, changes.disabled.currentValue);\n    }\n  }\n\n  togglePanel() {\n    this.accordionService.togglePanel(this.id);\n  }\n\n  collapsePanelOnAnimationDone(panel: AccordionPanelModel) {\n    if (!panel.open) {\n      this.ifExpandService.expanded = false;\n    }\n  }\n\n  getPanelStateClasses(panel: AccordionPanelModel) {\n    return `clr-accordion-panel-${panel.status} ${panel.open ? 'clr-accordion-panel-open' : ''}`;\n  }\n\n  getAccordionContentId(id: string) {\n    return `clr-accordion-content-${id}'`;\n  }\n\n  getAccordionHeaderId(id: string) {\n    return `clr-accordion-header-${id}`;\n  }\n\n  private emitPanelChange(panel: AccordionPanelModel) {\n    this.panelOpenChange.emit(panel.open);\n\n    if (panel.open) {\n      this.ifExpandService.expanded = true;\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component, ChangeDetectionStrategy } from '@angular/core';\n\n@Component({\n  selector: 'clr-accordion-title, clr-step-title',\n  template: `<ng-content></ng-content>`,\n  host: { '[class.clr-accordion-title]': 'true' },\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class ClrAccordionTitle {}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport {\n  Component,\n  ContentChildren,\n  QueryList,\n  ChangeDetectionStrategy,\n  Input,\n  SimpleChanges,\n  OnInit,\n  OnChanges,\n  AfterViewInit,\n  OnDestroy,\n} from '@angular/core';\nimport { startWith } from 'rxjs/operators';\nimport { Subscription } from 'rxjs';\n\nimport { AccordionService } from './providers/accordion.service';\nimport { ClrAccordionPanel } from './accordion-panel';\nimport { AccordionStrategy } from './enums/accordion-strategy.enum';\n\n@Component({\n  selector: 'clr-accordion',\n  template: `<ng-content></ng-content>`,\n  host: { '[class.clr-accordion]': 'true' },\n  providers: [AccordionService],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class ClrAccordion implements OnInit, OnChanges, AfterViewInit, OnDestroy {\n  @Input('clrAccordionMultiPanel') multiPanel = false;\n  @ContentChildren(ClrAccordionPanel, { descendants: true })\n  panels: QueryList<ClrAccordionPanel>;\n  subscriptions: Subscription[] = [];\n\n  constructor(private accordionService: AccordionService) {}\n\n  ngOnInit() {\n    this.setAccordionStrategy();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.multiPanel.currentValue !== changes.multiPanel.previousValue) {\n      this.setAccordionStrategy();\n    }\n  }\n\n  ngAfterViewInit() {\n    this.subscriptions.push(this.listenForDOMChanges());\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(s => s.unsubscribe());\n  }\n\n  private setAccordionStrategy() {\n    const strategy = this.multiPanel ? AccordionStrategy.Multi : AccordionStrategy.Default;\n    this.accordionService.setStrategy(strategy);\n  }\n\n  private listenForDOMChanges() {\n    return this.panels.changes\n      .pipe(startWith(this.panels))\n      .subscribe(panels => this.accordionService.updatePanelOrder(panels.toArray().map(p => p.id)));\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component, ChangeDetectionStrategy } from '@angular/core';\n\n@Component({\n  selector: 'clr-accordion-content, clr-step-content',\n  template: `<ng-content></ng-content>`,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class ClrAccordionContent {}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Directive } from '@angular/core';\n\nimport { WillyWonka } from '../../utils/chocolate/willy-wonka';\n\n@Directive({ selector: 'clr-accordion' })\nexport class AccordionWillyWonka extends WillyWonka {}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { ChangeDetectorRef, Directive, Optional } from '@angular/core';\n\nimport { OompaLoompa } from '../../utils/chocolate/oompa-loompa';\nimport { AccordionWillyWonka } from './accordion-willy-wonka';\nimport { IfExpandService } from '../../utils/conditional/if-expanded.service';\n\n@Directive({ selector: 'clr-accordion-panel' })\nexport class AccordionOompaLoompa extends OompaLoompa {\n  private expand: IfExpandService;\n\n  constructor(cdr: ChangeDetectorRef, @Optional() willyWonka: AccordionWillyWonka, ifExpandService: IfExpandService) {\n    if (!willyWonka) {\n      throw new Error('clr-accordion-panel should only be used inside of clr-accordion');\n    }\n    super(cdr, willyWonka);\n    this.expand = ifExpandService;\n  }\n\n  get flavor() {\n    return this.expand.expanded;\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { ClrIconModule } from '../icon/icon.module';\nimport { ClrAccordionPanel } from './accordion-panel';\nimport { ClrAccordionTitle } from './accordion-title';\nimport { ClrAccordionDescription } from './accordion-description';\nimport { ClrAccordion } from './accordion';\nimport { ClrAccordionContent } from './accordion-content';\nimport { AccordionOompaLoompa } from './chocolate/accordion-oompa-loompa';\nimport { AccordionWillyWonka } from './chocolate/accordion-willy-wonka';\n\nconst declarations = [\n  ClrAccordion,\n  ClrAccordionPanel,\n  ClrAccordionTitle,\n  ClrAccordionDescription,\n  ClrAccordionContent,\n  AccordionOompaLoompa,\n  AccordionWillyWonka,\n];\n\n@NgModule({\n  imports: [CommonModule, ClrIconModule],\n  declarations: [...declarations],\n  exports: [...declarations],\n})\nexport class ClrAccordionModule {}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { AccordionModel } from '../../models/accordion.model';\nimport { AccordionStatus } from '../../enums/accordion-status.enum';\n\nexport class StepperModel extends AccordionModel {\n  private stepperModelInitialize: boolean = false;\n\n  get allPanelsCompleted(): boolean {\n    return this.panels.length && this.getNumberOfIncompletePanels() === 0 && this.getNumberOfOpenPanels() === 0;\n  }\n\n  addPanel(id: string, open = false) {\n    super.addPanel(id, open);\n    this._panels[id].disabled = true;\n  }\n\n  updatePanelOrder(ids: string[]) {\n    super.updatePanelOrder(ids);\n    if (this.stepperModelInitialize === false) {\n      this.openFirstPanel();\n    }\n  }\n\n  togglePanel(panelId: string) {\n    if (this._panels[panelId].status === AccordionStatus.Complete) {\n      this._panels[panelId].open = !this._panels[panelId].open;\n    }\n  }\n\n  navigateToNextPanel(currentPanelId: string, currentPanelValid = true) {\n    if (currentPanelValid) {\n      this.completePanel(currentPanelId);\n      this.openNextPanel(this._panels[currentPanelId].id);\n    } else {\n      this.setPanelError(currentPanelId);\n    }\n  }\n\n  overrideInitialPanel(panelId: string) {\n    this.panels.filter(() => this._panels[panelId] !== undefined).forEach(panel => {\n      if (panel.index < this._panels[panelId].index) {\n        this.completePanel(panel.id);\n      } else if (panel.id === panelId) {\n        this._panels[panel.id].open = true;\n      } else {\n        this._panels[panel.id].open = false;\n      }\n    });\n  }\n\n  setPanelsWithErrors(ids: string[]) {\n    ids.forEach(id => this.setPanelError(id));\n  }\n\n  resetPanels() {\n    /* return stepper to initialize state */\n    this.stepperModelInitialize = false;\n    this.panels.forEach(p => this.resetPanel(p.id));\n    this.openFirstPanel();\n  }\n\n  getNextPanel(currentPanelId: string) {\n    return this.panels.find(s => s.index === this._panels[currentPanelId].index + 1);\n  }\n\n  private resetAllFuturePanels(panelId: string) {\n    this.panels.filter(panel => panel.index >= this._panels[panelId].index).forEach(panel => this.resetPanel(panel.id));\n  }\n\n  private resetPanel(panelId: string) {\n    this._panels[panelId].status = AccordionStatus.Inactive;\n    this._panels[panelId].open = false;\n    this._panels[panelId].disabled = true;\n  }\n\n  private openFirstPanel() {\n    const firstPanel = this.getFirstPanel();\n    /**\n     * You need to call updatePanelOrder first to get the correct order,\n     * else the list of panels will not have `index` set and we won't know\n     * how to find the first panel.\n     */\n    if (!firstPanel) {\n      return;\n    }\n    this._panels[firstPanel.id].open = true;\n    this._panels[firstPanel.id].disabled = true;\n    this.stepperModelInitialize = true;\n  }\n\n  private completePanel(panelId: string) {\n    this._panels[panelId].status = AccordionStatus.Complete;\n    this._panels[panelId].disabled = false;\n    this._panels[panelId].open = false;\n  }\n\n  private openNextPanel(currentPanelId: string) {\n    const nextPanel = this.getNextPanel(currentPanelId);\n\n    if (nextPanel) {\n      this.resetAllFuturePanels(nextPanel.id);\n      this._panels[nextPanel.id].open = true;\n      this._panels[nextPanel.id].disabled = true;\n    }\n  }\n\n  private setPanelError(panelId: string) {\n    this.resetAllFuturePanels(panelId);\n    this._panels[panelId].open = true;\n    this._panels[panelId].status = AccordionStatus.Error;\n  }\n\n  private getFirstPanel() {\n    return this.panels.find(panel => panel.index === 0);\n  }\n\n  private getNumberOfIncompletePanels() {\n    return this.panels.reduce((prev, next) => (next.status !== AccordionStatus.Complete ? prev + 1 : prev), 0);\n  }\n\n  private getNumberOfOpenPanels() {\n    return this.panels.reduce((prev, next) => (next.open !== false ? prev + 1 : prev), 0);\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Injectable } from '@angular/core';\nimport { map, distinctUntilChanged } from 'rxjs/operators';\nimport { Observable, Subject } from 'rxjs';\n\nimport { AccordionService } from './../../providers/accordion.service';\nimport { StepperModel } from '../models/stepper.model';\n\n@Injectable()\nexport class StepperService extends AccordionService {\n  readonly panelsCompleted = this.getAllCompletedPanelChanges();\n  protected accordion = new StepperModel();\n\n  private _activeStepChanges = new Subject<string>();\n  readonly activeStep = this._activeStepChanges.asObservable();\n\n  resetPanels() {\n    this.accordion.resetPanels();\n    this.emitUpdatedPanels();\n  }\n\n  setPanelsWithErrors(ids: string[]) {\n    this.accordion.setPanelsWithErrors(ids);\n    this.emitUpdatedPanels();\n  }\n\n  navigateToNextPanel(currentPanelId: string, currentPanelValid = true) {\n    this.accordion.navigateToNextPanel(currentPanelId, currentPanelValid);\n    this.updateNextStep(currentPanelId, currentPanelValid);\n    this.emitUpdatedPanels();\n  }\n\n  overrideInitialPanel(panelId: string) {\n    this.accordion.overrideInitialPanel(panelId);\n    this.emitUpdatedPanels();\n  }\n\n  private updateNextStep(currentPanelId: string, currentPanelValid: boolean) {\n    const nextPanel = this.accordion.getNextPanel(currentPanelId);\n\n    if (currentPanelValid && nextPanel) {\n      this._activeStepChanges.next(nextPanel.id);\n    } else if (currentPanelValid) {\n      this._activeStepChanges.next(currentPanelId);\n    }\n  }\n\n  private getAllCompletedPanelChanges(): Observable<boolean> {\n    return this._panelsChanges.pipe(map(() => this.accordion.allPanelsCompleted), distinctUntilChanged());\n  }\n}\n","/*\n* Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n* This software is released under MIT license.\n* The full license information can be found in LICENSE in the root directory of this project.\n*/\n\nimport { FormGroup, FormControl } from '@angular/forms';\n\nexport function triggerAllFormControlValidation(formGroup: FormGroup) {\n  Object.keys(formGroup.controls).forEach(field => {\n    const control = formGroup.get(field);\n    if (control instanceof FormControl) {\n      control.markAsTouched();\n      control.markAsDirty();\n      control.updateValueAndValidity();\n    } else if (control instanceof FormGroup) {\n      triggerAllFormControlValidation(control);\n    }\n  });\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport {\n  Component,\n  ChangeDetectionStrategy,\n  Optional,\n  Inject,\n  OnInit,\n  ViewChild,\n  ElementRef,\n  PLATFORM_ID,\n} from '@angular/core';\nimport { FormGroupName, NgModelGroup } from '@angular/forms';\nimport { tap, filter } from 'rxjs/operators';\nimport { Subscription } from 'rxjs';\n\nimport { UNIQUE_ID_PROVIDER, UNIQUE_ID } from '../../utils/id-generator/id-generator.service';\nimport { ClrCommonStringsService } from '../../utils/i18n/common-strings.service';\nimport { StepperService } from './providers/stepper.service';\nimport { stepAnimation } from '../utils/animation';\nimport { triggerAllFormControlValidation } from '../../utils/forms/validation';\nimport { IfExpandService } from '../../utils/conditional/if-expanded.service';\nimport { AccordionPanelModel } from '../models/accordion.model';\nimport { AccordionStatus } from '../enums/accordion-status.enum';\nimport { ClrAccordionPanel } from '../accordion-panel';\nimport { isPlatformBrowser } from '@angular/common';\n\n@Component({\n  selector: 'clr-stepper-panel',\n  templateUrl: './../accordion-panel.html',\n  host: { '[class.clr-accordion-panel]': 'true' },\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  animations: stepAnimation,\n  providers: [IfExpandService, UNIQUE_ID_PROVIDER],\n})\nexport class ClrStepperPanel extends ClrAccordionPanel implements OnInit {\n  isAccordion = false;\n\n  @ViewChild('headerButton') headerButton: ElementRef;\n  private subscriptions: Subscription[] = [];\n\n  get formGroup() {\n    return this.formGroupName ? this.formGroupName.control : this.ngModelGroup.control;\n  }\n\n  get id(): string {\n    return this.formGroupName ? this.formGroupName.name.toString() : this.ngModelGroup.name;\n  }\n\n  set id(_value: string) {} // overriding parent id required empty setter\n\n  constructor(\n    @Inject(PLATFORM_ID) private platformId: Object,\n    public commonStrings: ClrCommonStringsService,\n    @Optional() private formGroupName: FormGroupName,\n    @Optional() private ngModelGroup: NgModelGroup,\n    private stepperService: StepperService,\n    ifExpandService: IfExpandService,\n    @Inject(UNIQUE_ID) id: string\n  ) {\n    super(commonStrings, stepperService, ifExpandService, id);\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n    this.panel = this.panel.pipe(tap(panel => this.triggerAllFormControlValidationIfError(panel)));\n    this.stepperService.disablePanel(this.id, true);\n    this.listenToFocusChanges();\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(s => s.unsubscribe());\n  }\n\n  private listenToFocusChanges() {\n    this.subscriptions.push(\n      this.stepperService.activeStep\n        .pipe(filter(panelId => isPlatformBrowser(this.platformId) && panelId === this.id))\n        .subscribe(() => this.headerButton.nativeElement.focus())\n    );\n  }\n\n  private triggerAllFormControlValidationIfError(panel: AccordionPanelModel) {\n    if (panel.status === AccordionStatus.Error) {\n      triggerAllFormControlValidation(this.formGroup);\n    }\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Directive, HostListener, HostBinding, Input, OnInit } from '@angular/core';\n\nimport { StepperService } from './providers/stepper.service';\nimport { ClrStepperPanel } from './stepper-panel';\n\nexport enum ClrStepButtonType {\n  Next = 'next',\n  Submit = 'submit',\n}\n\n@Directive({\n  selector: '[clrStepButton]',\n  host: {\n    '[class.clr-step-button]': 'true',\n    '[class.btn]': 'true',\n    '[type]': \"'button'\",\n  },\n})\nexport class ClrStepButton implements OnInit {\n  @Input('clrStepButton') type: ClrStepButtonType | string = ClrStepButtonType.Next;\n  @HostBinding('class.btn-primary') submitButton = false;\n\n  constructor(private clrStep: ClrStepperPanel, private stepperService: StepperService) {}\n\n  ngOnInit() {\n    this.submitButton = this.type === ClrStepButtonType.Submit;\n  }\n\n  @HostListener('click')\n  navigateToNextPanel() {\n    this.stepperService.navigateToNextPanel(this.clrStep.id, this.clrStep.formGroup.valid);\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport {\n  Component,\n  ContentChildren,\n  QueryList,\n  Optional,\n  ChangeDetectionStrategy,\n  Input,\n  SimpleChanges,\n  OnInit,\n  AfterViewInit,\n  OnDestroy,\n  OnChanges,\n} from '@angular/core';\nimport { FormGroupDirective, NgForm } from '@angular/forms';\nimport { startWith, filter } from 'rxjs/operators';\nimport { Subscription } from 'rxjs';\n\nimport { StepperService } from './providers/stepper.service';\nimport { AccordionService } from '../providers/accordion.service';\nimport { ClrStepperPanel } from './stepper-panel';\n\n@Component({\n  selector: 'form[clrStepper]',\n  template: `<ng-content></ng-content>`,\n  host: {\n    '[class.clr-accordion]': 'true',\n    '[class.clr-stepper-forms]': 'true',\n  },\n  providers: [StepperService, { provide: AccordionService, useExisting: StepperService }],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class ClrStepper implements OnInit, OnChanges, AfterViewInit, OnDestroy {\n  @Input('clrInitialStep') initialPanel: string;\n  @ContentChildren(ClrStepperPanel, { descendants: true })\n  panels: QueryList<ClrStepperPanel>;\n  subscriptions: Subscription[] = [];\n  form: FormGroupDirective | NgForm;\n\n  constructor(\n    @Optional() private formGroup: FormGroupDirective,\n    @Optional() private ngForm: NgForm,\n    private stepperService: StepperService\n  ) {}\n\n  ngOnInit() {\n    if (!this.formGroup && !this.ngForm) {\n      throw new Error('To use stepper a Reactive or Template Form is required.');\n    }\n\n    this.form = this.formGroup ? this.formGroup : this.ngForm;\n    this.subscriptions.push(this.listenForPanelsCompleted());\n    this.subscriptions.push(this.listenForFormResetChanges());\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.initialPanel.currentValue !== changes.initialPanel.previousValue) {\n      this.stepperService.overrideInitialPanel(this.initialPanel);\n    }\n  }\n\n  ngAfterViewInit() {\n    this.subscriptions.push(this.listenForDOMChanges());\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.forEach(s => s.unsubscribe());\n  }\n\n  private listenForFormResetChanges() {\n    return this.form.statusChanges\n      .pipe(filter(() => this.form.pristine)) // https://github.com/angular/angular/issues/10887\n      .subscribe(() => this.stepperService.resetPanels());\n  }\n\n  private listenForPanelsCompleted() {\n    return this.stepperService.panelsCompleted.subscribe(panelsCompleted => {\n      if (panelsCompleted && this.form.valid) {\n        this.form.ngSubmit.emit();\n      } else if (!this.form.valid && this.form.touched) {\n        this.setPanelsWithFormErrors();\n      }\n    });\n  }\n\n  private setPanelsWithFormErrors() {\n    const panelsWithErrors = this.panels.reduce((panels, p) => (p.formGroup.invalid ? [...panels, p.id] : panels), []);\n    this.stepperService.setPanelsWithErrors(panelsWithErrors);\n  }\n\n  private listenForDOMChanges() {\n    return this.panels.changes.pipe(startWith(this.panels)).subscribe(panels => {\n      this.stepperService.updatePanelOrder(panels.toArray().map(p => p.id));\n\n      if (this.initialPanel) {\n        this.stepperService.overrideInitialPanel(this.initialPanel);\n      }\n    });\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Directive } from '@angular/core';\n\nimport { WillyWonka } from '../../../utils/chocolate/willy-wonka';\n\n@Directive({ selector: 'form[clrStepper]' })\nexport class StepperWillyWonka extends WillyWonka {}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { ChangeDetectorRef, Directive, Optional } from '@angular/core';\n\nimport { OompaLoompa } from '../../../utils/chocolate/oompa-loompa';\nimport { StepperWillyWonka } from './stepper-willy-wonka';\nimport { IfExpandService } from '../../../utils/conditional/if-expanded.service';\n\n@Directive({ selector: 'clr-stepper-panel, [clrStepButton]' })\nexport class StepperOompaLoompa extends OompaLoompa {\n  private expand: IfExpandService;\n\n  constructor(cdr: ChangeDetectorRef, @Optional() willyWonka: StepperWillyWonka, ifExpandService: IfExpandService) {\n    if (!willyWonka) {\n      throw new Error('clr-stepper-panel should only be used inside of clrStepper');\n    }\n    super(cdr, willyWonka);\n    this.expand = ifExpandService;\n  }\n\n  get flavor() {\n    return this.expand.expanded;\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { ClrAccordionModule } from '../accordion.module';\nimport { ClrIconModule } from '../../icon/icon.module';\nimport { ClrStepButton } from './../stepper/step-button';\nimport { ClrStepper } from './../stepper/stepper';\nimport { ClrStepperPanel } from './stepper-panel';\nimport { StepperOompaLoompa } from './chocolate/stepper-oompa-loompa';\nimport { StepperWillyWonka } from './chocolate/stepper-willy-wonka';\n\nconst declarations = [ClrStepper, ClrStepButton, ClrStepperPanel, StepperOompaLoompa, StepperWillyWonka];\n\n@NgModule({\n  imports: [CommonModule, ClrIconModule, ClrAccordionModule],\n  declarations: [...declarations],\n  exports: [...declarations, ClrAccordionModule],\n})\nexport class ClrStepperModule {}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { Component, Input, HostBinding } from '@angular/core';\nimport { isBooleanAttributeSet } from '../../utils/component/is-boolean-attribute-set';\nimport { ClrAriaLiveService, ClrAriaLivePoliteness } from '../../utils/a11y/aria-live.service';\n\n@Component({\n  providers: [ClrAriaLiveService],\n  selector: 'clr-progress-bar',\n  template: `\n    <progress [id]=\"id\" [attr.max]=\"max\" [attr.value]=\"value\" [attr.data-displayval]=\"displayValue\"></progress>\n    <span *ngIf=\"displayAriaLive()\">{{ displayValue }}</span>\n  `,\n})\nexport class ClrProgressBar {\n  constructor(private ariaLiveService: ClrAriaLiveService) {}\n\n  /**\n   * Handle component ID\n   */\n  private _ID: string;\n  @HostBinding('attr.id') externalId: string = '';\n  @Input()\n  set id(value: string) {\n    this._ID = value;\n    this.externalId = null;\n  }\n  get id() {\n    return this._ID;\n  }\n\n  // Progress\n  @Input('clrMax') max: number = 100;\n  @Input('clrDisplayval') displayval: string;\n\n  private _value: number = 0;\n  @Input('clrValue')\n  get value() {\n    return this._value;\n  }\n\n  set value(value) {\n    this._value = value;\n    if (this.displayAriaLive()) {\n      this.ariaLiveService.announce(this.displayValue, this.ariaLive);\n    }\n  }\n\n  // Styles\n  @HostBinding('class.progress')\n  get progressClass() {\n    return true;\n  }\n\n  private _labeled: boolean;\n  @HostBinding('class.labeled')\n  get labeledClass() {\n    return this._labeled;\n  }\n\n  @Input('clrLabeled')\n  set clrLabeled(value: boolean | string) {\n    this._labeled = isBooleanAttributeSet(value);\n  }\n\n  private _fade: boolean;\n  @HostBinding('class.progress-fade')\n  get fadeClass() {\n    return this._fade;\n  }\n\n  @Input('clrFade')\n  set clrFade(value: boolean | string) {\n    this._fade = isBooleanAttributeSet(value);\n  }\n\n  private _loop: boolean;\n  @HostBinding('class.loop')\n  get loopClass() {\n    return this._loop;\n  }\n\n  @Input('clrLoop')\n  set clrLoop(value: boolean | string) {\n    this._loop = isBooleanAttributeSet(value);\n  }\n\n  private _success: boolean;\n  @HostBinding('class.success')\n  get successClass() {\n    return this._success;\n  }\n\n  /** @deprecated since 2.0, remove in 4.0 */\n  @Input('clrSuccess')\n  set clrSuccess(value: boolean | string) {\n    this._success = isBooleanAttributeSet(value);\n  }\n\n  private _danger: boolean;\n  @HostBinding('class.danger')\n  get dangerClass() {\n    return this._danger;\n  }\n\n  /** @deprecated since 2.0, remove in 4.0 */\n  @Input('clrDanger')\n  set clrDanger(value: boolean | string) {\n    this._danger = isBooleanAttributeSet(value);\n  }\n\n  private _flash: boolean;\n  @HostBinding('class.flash')\n  get flashClass() {\n    return this._flash;\n  }\n\n  @Input('clrFlash')\n  set clrFlash(value: boolean | string) {\n    this._flash = isBooleanAttributeSet(value);\n  }\n\n  private _flashDanger: boolean;\n  @HostBinding('class.flash-danger')\n  get flashDangerClass() {\n    return this._flashDanger;\n  }\n\n  /** @deprecated since 2.0, remove in 4.0 */\n  @Input('clrFlashDanger')\n  set clrFlashDanger(value: boolean | string) {\n    this._flashDanger = isBooleanAttributeSet(value);\n  }\n\n  // Aria Live\n  /** @deprecated since 3.0, remove in 4.0 */\n  @Input('clrAssertive') assertive: boolean;\n  /** @deprecated since 3.0, remove in 4.0 */\n  @Input('clrOff') off: boolean;\n\n  /**\n   * Make sure that we always will have something that is readable\n   * for the screen reader\n   */\n  get displayValue() {\n    if (this.displayval) {\n      return this.displayval;\n    }\n    return `${this.value}%`;\n  }\n\n  /**\n   * Display aria-live only when there is value and it's not 0 or equal to the max value\n   */\n  displayAriaLive() {\n    return (this.value !== undefined || this.value !== 0) && this.value !== this.max;\n  }\n\n  get ariaLive(): ClrAriaLivePoliteness {\n    if (isBooleanAttributeSet(this.assertive)) {\n      return ClrAriaLivePoliteness.assertive;\n    }\n    if (isBooleanAttributeSet(this.off)) {\n      return ClrAriaLivePoliteness.off;\n    }\n    return ClrAriaLivePoliteness.polite;\n  }\n}\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { CommonModule } from '@angular/common';\nimport { NgModule, Type } from '@angular/core';\nimport { ClrProgressBar } from './progress-bar';\n\nexport const CLR_PROGRESS_BAR_DIRECTIVES: Type<any>[] = [ClrProgressBar];\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [CLR_PROGRESS_BAR_DIRECTIVES],\n  exports: [CLR_PROGRESS_BAR_DIRECTIVES],\n})\nexport class ClrProgressBarModule {}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nexport enum ClrTimelineLayout {\n  HORIZONTAL = 'horizontal',\n  VERTICAL = 'vertical',\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nexport enum ClrTimelineStepState {\n  NOT_STARTED = 'not-started',\n  CURRENT = 'current',\n  PROCESSING = 'processing',\n  SUCCESS = 'success',\n  ERROR = 'error',\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { ClrTimelineStepState } from '../enums/timeline-step-state.enum';\nimport { IconAttributes } from '../interface/icon-attribute.iterface';\nimport { ClrCommonStringsService } from '../../utils/i18n/common-strings.service';\nimport { Injectable } from '@angular/core';\n\n@Injectable()\nexport class TimelineIconAttributeService {\n  private attributeMap: Map<ClrTimelineStepState, IconAttributes> = new Map<ClrTimelineStepState, IconAttributes>();\n\n  constructor(commonStrings: ClrCommonStringsService) {\n    this.attributeMap.set(ClrTimelineStepState.NOT_STARTED, {\n      iconShape: 'circle',\n      ariaLabel: commonStrings.keys.timelineStepNotStarted,\n    });\n    this.attributeMap.set(ClrTimelineStepState.CURRENT, {\n      iconShape: 'dot-circle',\n      ariaLabel: commonStrings.keys.timelineStepCurrent,\n    });\n    this.attributeMap.set(ClrTimelineStepState.PROCESSING, {\n      iconShape: undefined,\n      ariaLabel: commonStrings.keys.timelineStepProcessing,\n    });\n    this.attributeMap.set(ClrTimelineStepState.SUCCESS, {\n      iconShape: 'success-standard',\n      ariaLabel: commonStrings.keys.timelineStepSuccess,\n    });\n    this.attributeMap.set(ClrTimelineStepState.ERROR, {\n      iconShape: 'error-standard',\n      ariaLabel: commonStrings.keys.timelineStepError,\n    });\n  }\n\n  public getAriaLabel(step: ClrTimelineStepState): string {\n    return this.attributeMap.get(step).ariaLabel;\n  }\n\n  public getIconShape(step: ClrTimelineStepState): string {\n    return this.attributeMap.get(step).iconShape;\n  }\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component, Input, HostBinding } from '@angular/core';\n\nimport { ClrTimelineLayout } from './enums/timeline-layout.enum';\nimport { TimelineIconAttributeService } from './providers/timeline-icon-attribute.service';\n\n@Component({\n  selector: 'clr-timeline',\n  template: `\n    <ng-content></ng-content>\n  `,\n  host: { '[class.clr-timeline]': 'true' },\n  providers: [TimelineIconAttributeService],\n})\nexport class ClrTimeline {\n  @Input('clrLayout') layout: ClrTimelineLayout = ClrTimelineLayout.HORIZONTAL;\n\n  @HostBinding('class.clr-timeline-vertical')\n  get isVertical(): boolean {\n    return this.layout === ClrTimelineLayout.VERTICAL;\n  }\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component } from '@angular/core';\n\n/**\n * Note: Why does this component have aria-hidden attribute?\n *\n * tl;dr: we want screen readers to ignore this element when its reading out to blind users.\n *\n * In order to make a timeline step accessible to screen readers we need the title read out before the\n * icon. In order to do this, ClrTimeLine step has a ContentChild that queries for the ClrTimelineStepTitle and\n * then adds the projected text into a .clr-sr-only element that is a sibling element to the icon. See the\n * ClrTimlineStep template for the DOM structure.\n */\n@Component({\n  selector: 'clr-timeline-step-title',\n  template: `\n        <ng-content></ng-content>\n    `,\n  host: { '[class.clr-timeline-step-title]': 'true', '[attr.aria-hidden]': 'true' },\n})\nexport class ClrTimelineStepTitle {}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component, ContentChild, ElementRef, Inject, Input, PLATFORM_ID } from '@angular/core';\n\nimport { ClrTimelineStepState } from './enums/timeline-step-state.enum';\nimport { TimelineIconAttributeService } from './providers/timeline-icon-attribute.service';\nimport { ClrTimelineStepTitle } from './timeline-step-title';\nimport { isPlatformBrowser } from '@angular/common';\n\n@Component({\n  selector: 'clr-timeline-step',\n  template: `\n        <ng-content select=\"clr-timeline-step-header\"></ng-content>\n        <span class=\"clr-sr-only\">{{stepTitleText}}</span>\n        <ng-container *ngIf=\"!isProcessing; else processing\">\n            <clr-icon\n                    [attr.shape]=\"iconShape\"\n                    [attr.aria-label]=\"iconAriaLabel\"\n                    [attr.aria-current]=\"iconAriaCurrent\">\n            </clr-icon>\n        </ng-container>\n        <div class=\"clr-timeline-step-body\">\n            <ng-content select=\"clr-timeline-step-title\"></ng-content>\n            <ng-content select=\"clr-timeline-step-description\"></ng-content>\n        </div>\n\n        <ng-template #processing>\n            <clr-spinner clrMedium [attr.aria-label]=\"iconAriaLabel\"></clr-spinner>\n        </ng-template>\n    `,\n  host: { '[class.clr-timeline-step]': 'true' },\n})\nexport class ClrTimelineStep {\n  @Input('clrState') state: ClrTimelineStepState = ClrTimelineStepState.NOT_STARTED;\n\n  public stepTitleText: string;\n  @ContentChild(ClrTimelineStepTitle, { read: ElementRef })\n  stepTitle: ElementRef;\n\n  constructor(\n    private iconAttributeService: TimelineIconAttributeService,\n    @Inject(PLATFORM_ID) private platformId: Object\n  ) {}\n\n  ngAfterContentInit() {\n    if (this.stepTitle && isPlatformBrowser(this.platformId)) {\n      this.stepTitleText = this.stepTitle.nativeElement.innerText;\n    }\n  }\n\n  get iconAriaCurrent(): boolean {\n    return this.state === ClrTimelineStepState.CURRENT;\n  }\n\n  get iconAriaLabel(): string {\n    return this.iconAttributeService.getAriaLabel(this.state);\n  }\n\n  get iconShape(): string {\n    return this.iconAttributeService.getIconShape(this.state);\n  }\n\n  get isProcessing(): boolean {\n    return this.state === ClrTimelineStepState.PROCESSING;\n  }\n}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component } from '@angular/core';\n\n@Component({\n  selector: 'clr-timeline-step-description',\n  template: `\n    <ng-content></ng-content>\n  `,\n  host: { '[class.clr-timeline-step-description]': 'true' },\n})\nexport class ClrTimelineStepDescription {}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { Component } from '@angular/core';\n\n@Component({\n  selector: 'clr-timeline-step-header',\n  template: `\n    <ng-content></ng-content>\n  `,\n  host: { '[class.clr-timeline-step-header]': 'true' },\n})\nexport class ClrTimelineStepHeader {}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule, Type } from '@angular/core';\n\nimport { ClrIconModule } from '../icon/icon.module';\nimport { ClrSpinnerModule } from '../progress/spinner/spinner.module';\n\nimport { ClrTimeline } from './timeline';\nimport { ClrTimelineStep } from './timeline-step';\nimport { ClrTimelineStepDescription } from './timeline-step-description';\nimport { ClrTimelineStepHeader } from './timeline-step-header';\nimport { ClrTimelineStepTitle } from './timeline-step-title';\n\nconst CLR_TIMELINE_DIRECTIVES: Type<any>[] = [\n  ClrTimeline,\n  ClrTimelineStep,\n  ClrTimelineStepDescription,\n  ClrTimelineStepHeader,\n  ClrTimelineStepTitle,\n];\n\n@NgModule({\n  imports: [CommonModule, ClrIconModule, ClrSpinnerModule],\n  exports: [...CLR_TIMELINE_DIRECTIVES, ClrIconModule, ClrSpinnerModule],\n  declarations: [CLR_TIMELINE_DIRECTIVES],\n})\nexport class ClrTimelineModule {}\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { NgModule } from '@angular/core';\n\nimport { ClrButtonModule } from './button/button.module';\nimport { ClrDataModule } from './data/data.module';\nimport { ClrDragAndDropModule } from './utils/drag-and-drop/drag-and-drop.module';\nimport { ClrEmphasisModule } from './emphasis/emphasis.module';\nimport { ClrFormsModule } from './forms/forms.module';\nimport { ClrIconModule } from './icon/icon.module';\nimport { ClrLayoutModule } from './layout/layout.module';\nimport { ClrModalModule } from './modal/modal.module';\nimport { ClrPopoverModule } from './popover/popover.module';\nimport { ClrConditionalModule } from './utils/conditional/conditional.module';\nimport { ClrFocusOnViewInitModule } from './utils/focus/focus-on-view-init/focus-on-view-init.module';\nimport { ClrFocusTrapModule } from './utils/focus-trap/focus-trap.module';\nimport { ClrLoadingModule } from './utils/loading/loading.module';\nimport { ClrWizardModule } from './wizard/wizard.module';\nimport { ClrStepperModule } from './accordion/stepper/stepper.module';\nimport { ClrSpinnerModule } from './progress/spinner/spinner.module';\nimport { ClrProgressBarModule } from './progress/progress-bars/progress-bar.module';\nimport { ClrPopoverModuleNext } from './utils/popover/popover.module';\nimport { ClrTimelineModule } from './timeline/timeline.module';\n\n@NgModule({\n  exports: [\n    ClrEmphasisModule,\n    ClrDataModule,\n    ClrIconModule,\n    ClrModalModule,\n    ClrLoadingModule,\n    ClrConditionalModule,\n    ClrFocusTrapModule,\n    ClrFocusOnViewInitModule,\n    ClrButtonModule,\n    ClrFormsModule,\n    ClrLayoutModule,\n    ClrPopoverModule,\n    ClrWizardModule,\n    ClrDragAndDropModule,\n    ClrStepperModule,\n    ClrSpinnerModule,\n    ClrProgressBarModule,\n    ClrPopoverModuleNext,\n    ClrTimelineModule,\n  ],\n})\nexport class ClarityModule {}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nexport * from './button';\nexport * from './button-group';\nexport * from './button-group.module';\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nexport * from './loading-button';\nexport * from './loading-button.module';\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nexport * from './button.module';\nexport * from './button-group/index';\nexport * from './button-loading/index';\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nexport * from './datagrid';\nexport * from './datagrid-action-bar';\nexport * from './datagrid-action-overflow';\nexport * from './datagrid-column';\nexport * from './datagrid-column-toggle';\nexport * from './datagrid-column-toggle-title';\nexport * from './datagrid-column-toggle-button';\nexport * from './datagrid-column-separator';\nexport * from './datagrid-detail';\nexport * from './datagrid-detail-body';\nexport * from './datagrid-detail-header';\nexport * from './datagrid-hideable-column';\nexport * from './datagrid-filter';\nexport * from './datagrid-if-detail';\nexport * from './datagrid-items';\nexport * from './datagrid-items-trackby';\nexport * from './datagrid-row';\nexport * from './datagrid-row-detail';\nexport * from './datagrid-cell';\nexport * from './datagrid-footer';\nexport * from './datagrid-page-size';\nexport * from './datagrid-pagination';\nexport * from './datagrid-placeholder';\n\nexport * from './interfaces/state.interface';\nexport * from './enums/sort-order.enum';\nexport * from './interfaces/filter.interface';\nexport * from './interfaces/string-filter.interface';\nexport * from './interfaces/numeric-filter.interface';\nexport * from './interfaces/comparator.interface';\n\nexport * from './built-in/filters/datagrid-string-filter';\nexport * from './built-in/filters/datagrid-numeric-filter';\nexport * from './built-in/filters/datagrid-property-string-filter';\nexport * from './built-in/filters/datagrid-property-numeric-filter';\nexport * from './built-in/comparators/datagrid-property-comparator';\n\nexport * from './datagrid.module';\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nexport * from './models/selected-state.enum';\nexport * from './tree';\nexport * from './tree-node';\nexport * from './recursive-for-of';\nexport * from './tree-view.module';\nexport * from './tree-node-link';\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nexport * from './stack-view';\nexport * from './stack-header';\nexport * from './stack-block';\nexport * from './stack-input';\nexport * from './stack-select';\nexport * from './stack-view.module';\nexport * from './stack-view-custom-tags';\nexport * from './stack-content-input';\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nexport * from './data.module';\nexport * from './datagrid/index';\nexport * from './tree-view/index';\nexport * from './stack-view/index';\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nexport * from './alert';\nexport * from './alert-item';\nexport * from './alert-text';\nexport * from './alerts';\nexport * from './alerts-pager';\nexport * from './alert.module';\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nexport * from './emphasis.module';\nexport * from './alert/index';\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nexport * from './if-error/if-error';\nexport * from './error';\nexport * from './form';\nexport * from './helper';\nexport * from './label';\nexport * from './layout';\nexport * from './abstract-container';\nexport * from './control';\nexport * from './control-container';\nexport * from './wrapped-control';\nexport * from './common.module';\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nexport * from './checkbox';\nexport * from './checkbox-container';\nexport * from './checkbox-wrapper';\nexport * from './checkbox.module';\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nexport * from './datalist';\nexport * from './datalist-input';\nexport * from './datalist-container';\nexport * from './datalist.module';\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nexport * from './date-container';\nexport * from './date-input';\nexport * from './datepicker-view-manager';\nexport * from './daypicker';\nexport * from './monthpicker';\nexport * from './yearpicker';\nexport * from './calendar';\nexport * from './day';\n\nexport * from './datepicker.module';\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nexport * from './input';\nexport * from './input-container';\nexport * from './input.module';\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nexport * from './password';\nexport * from './password-container';\nexport * from './password.module';\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nexport * from './radio';\nexport * from './radio-container';\nexport * from './radio-wrapper';\nexport * from './radio.module';\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nexport * from './select';\nexport * from './select-container';\nexport * from './select.module';\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nexport * from './textarea';\nexport * from './textarea-container';\nexport * from './textarea.module';\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nexport * from './range';\nexport * from './range-container';\nexport * from './range.module';\n","/*\n * Copyright (c) 2016-2019 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nexport * from './common/index';\nexport * from './checkbox/index';\nexport * from './datalist/index';\nexport * from './datepicker/index';\nexport * from './input/index';\nexport * from './password/index';\nexport * from './radio/index';\nexport * from './select/index';\nexport * from './textarea/index';\nexport * from './range/index';\nexport * from './forms.module';\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nexport * from './icon';\nexport * from './icon.module';\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nexport * from './main-container';\nexport * from './main-container.module';\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nexport * from './main-container-willy-wonka';\nexport * from './nav-detection-oompa-loompa';\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nexport * from './chocolate/index';\nexport * from './header';\nexport * from './nav-level';\nexport * from './navigation.module';\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nexport * from './tabs';\nexport * from './tab';\nexport * from './tab-content';\nexport * from './tab-overflow-content';\nexport * from './tab-link.directive';\nexport * from './tabs.module';\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nexport * from './vertical-nav-group-children';\nexport * from './vertical-nav-group';\nexport * from './vertical-nav';\nexport * from './vertical-nav-link';\nexport * from './vertical-nav-icon';\nexport * from './vertical-nav.module';\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nexport * from './layout.module';\nexport * from './main-container/index';\nexport * from './nav/index';\nexport * from './tabs/index';\nexport * from './vertical-nav/index';\n","/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nexport * from './modal';\nexport * from './modal.module';\nexport * from './modal-body';\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nexport const CLR_MENU_POSITIONS: string[] = [\n  'bottom-left',\n  'bottom-right',\n  'top-left',\n  'top-right',\n  'left-bottom',\n  'left-top',\n  'right-bottom',\n  'right-top',\n];\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nexport * from './dropdown';\nexport * from './dropdown-menu';\nexport * from './dropdown-trigger';\nexport * from './dropdown-item';\nexport * from './menu-positions';\nexport * from './dropdown.module';\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nexport * from './signpost';\nexport * from './signpost-content';\nexport * from './signpost-trigger';\nexport * from './signpost.module';\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nexport * from './tooltip';\nexport * from './tooltip-trigger';\nexport * from './tooltip-content';\nexport * from './tooltip.module';\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nexport * from './dropdown/index';\nexport * from './popover.module';\nexport * from './signpost/index';\nexport * from './tooltip/index';\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { animate, AnimationMetadata, state, style, transition } from '@angular/animations';\n\nimport { defaultAnimationTiming } from './../constants';\n\nexport function collapse(): AnimationMetadata[] {\n  'use strict';\n  return [\n    state('true', style({ height: 0, 'overflow-y': 'hidden' })),\n    transition('true => false', [animate(defaultAnimationTiming, style({ height: '*', 'overflow-y': 'hidden' }))]),\n    transition('false => true', [style({ height: '*', 'overflow-y': 'hidden' }), animate(defaultAnimationTiming)]),\n  ];\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nexport * from './collapse';\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { animate, AnimationMetadata, style, transition } from '@angular/animations';\n\nimport { defaultAnimationTiming } from './../constants';\n\nexport function fade(opacity: number = 1): AnimationMetadata[] {\n  return [\n    transition('void => *', [style({ opacity: 0 }), animate(defaultAnimationTiming, style({ opacity: opacity }))]),\n    transition('* => void', [animate(defaultAnimationTiming, style({ opacity: 0 }))]),\n  ];\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nexport * from './fade';\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { animate, AnimationMetadata, style, transition } from '@angular/animations';\n\nimport { defaultAnimationTiming } from './../constants';\n\nexport function fadeSlide(direction: string): AnimationMetadata[] {\n  let transform: string = null;\n  if (direction === 'up') {\n    transform = 'translate(0, 25%)';\n  } else if (direction === 'down') {\n    transform = 'translate(0, -25%)';\n  } else if (direction === 'left') {\n    transform = 'translate(25%, 0)';\n  } else if (direction === 'right') {\n    transform = 'translate(-25%, 0)';\n  } else {\n    throw new Error('Unknown direction ' + direction + ' for slide animation.');\n  }\n  return [\n    transition('void => *', [style({ opacity: 0, transform: transform }), animate(defaultAnimationTiming)]),\n    transition('* => void', [animate(defaultAnimationTiming, style({ opacity: 0, transform: transform }))]),\n  ];\n}\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nexport * from './fade-slide';\n","/*\n * Copyright (c) 2016-2018 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { animate, AnimationMetadata, style, transition } from '@angular/animations';\n\nimport { defaultAnimationTiming } from './../constants';\n\nexport function slide(direction: string): AnimationMetadata[] {\n  let transform: string = null;\n  if (direction === 'up') {\n    transform = 'translate(0, 25%)';\n  } else if (direction === 'down') {\n    transform = 'translate(0, -25%)';\n  } else if (direction === 'left') {\n    transform = 'translate(25%, 0)';\n  } else if (direction === 'right') {\n    transform = 'translate(-25%, 0)';\n  } else {\n    throw new Error('Unknown direction ' + direction + ' for slide animation.');\n  }\n  return [\n    transition('void => *', [style({ transform: transform }), animate(defaultAnimationTiming)]),\n    transition('* => void', [animate(defaultAnimationTiming, style({ transform: transform }))]),\n  ];\n}\n"]}