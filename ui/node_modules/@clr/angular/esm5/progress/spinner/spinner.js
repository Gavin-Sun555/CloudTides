import { __decorate } from "tslib";
/*
 * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.
 * This software is released under MIT license.
 * The full license information can be found in LICENSE in the root directory of this project.
 */
import { Component, Input, HostBinding, ElementRef, AfterViewInit } from '@angular/core';
import { isBooleanAttributeSet } from '../../utils/component/is-boolean-attribute-set';
import { ClrAriaLiveService, ClrAriaLivePoliteness } from '../../utils/a11y/aria-live.service';
import * as ɵngcc0 from '@angular/core';

var _c0 = ["*"];
var ClrSpinner = /** @class */ (function () {
    function ClrSpinner(el, ariaLiveService) {
        this.el = el;
        this.ariaLiveService = ariaLiveService;
    }
    ClrSpinner.prototype.ngAfterViewInit = function () {
        this.ariaLiveService.announce(this.el.nativeElement, this.ariaLive);
    };
    Object.defineProperty(ClrSpinner.prototype, "spinnerClass", {
        /**
         * Default class for all spinners. This class is always true
         */
        get: function () {
            return true;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ClrSpinner.prototype, "inlineClass", {
        get: function () {
            return this._inline;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ClrSpinner.prototype, "clrInline", {
        set: function (value) {
            this._inline = isBooleanAttributeSet(value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ClrSpinner.prototype, "inverseClass", {
        get: function () {
            return this._inverse;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ClrSpinner.prototype, "clrInverse", {
        set: function (value) {
            this._inverse = isBooleanAttributeSet(value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ClrSpinner.prototype, "smallClass", {
        get: function () {
            return this._small;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ClrSpinner.prototype, "clrSmall", {
        set: function (value) {
            this._small = isBooleanAttributeSet(value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ClrSpinner.prototype, "mediumClass", {
        get: function () {
            if (this._small) {
                return false;
            }
            return this._medium;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ClrSpinner.prototype, "clrMedium", {
        set: function (value) {
            this._medium = isBooleanAttributeSet(value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ClrSpinner.prototype, "ariaLive", {
        get: function () {
            if (isBooleanAttributeSet(this.assertive)) {
                return ClrAriaLivePoliteness.assertive;
            }
            if (isBooleanAttributeSet(this.off)) {
                return ClrAriaLivePoliteness.off;
            }
            return ClrAriaLivePoliteness.polite;
        },
        enumerable: true,
        configurable: true
    });
    ClrSpinner.ctorParameters = function () { return [
        { type: ElementRef },
        { type: ClrAriaLiveService }
    ]; };
    __decorate([
        HostBinding('class.spinner')
    ], ClrSpinner.prototype, "spinnerClass", null);
    __decorate([
        HostBinding('class.spinner-inline')
    ], ClrSpinner.prototype, "inlineClass", null);
    __decorate([
        Input('clrInline')
    ], ClrSpinner.prototype, "clrInline", null);
    __decorate([
        HostBinding('class.spinner-inverse')
    ], ClrSpinner.prototype, "inverseClass", null);
    __decorate([
        Input('clrInverse')
    ], ClrSpinner.prototype, "clrInverse", null);
    __decorate([
        HostBinding('class.spinner-sm')
    ], ClrSpinner.prototype, "smallClass", null);
    __decorate([
        Input('clrSmall')
    ], ClrSpinner.prototype, "clrSmall", null);
    __decorate([
        HostBinding('class.spinner-md')
    ], ClrSpinner.prototype, "mediumClass", null);
    __decorate([
        Input('clrMedium')
    ], ClrSpinner.prototype, "clrMedium", null);
    __decorate([
        Input('clrAssertive')
    ], ClrSpinner.prototype, "assertive", void 0);
    __decorate([
        Input('clrOff')
    ], ClrSpinner.prototype, "off", void 0);
ClrSpinner.ɵfac = function ClrSpinner_Factory(t) { return new (t || ClrSpinner)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ClrAriaLiveService)); };
ClrSpinner.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: ClrSpinner, selectors: [["clr-spinner"]], hostVars: 11, hostBindings: function ClrSpinner_HostBindings(rf, ctx) { if (rf & 2) {
        ɵngcc0.ɵɵattribute("aria-busy", true);
        ɵngcc0.ɵɵclassProp("spinner", ctx.spinnerClass)("spinner-inline", ctx.inlineClass)("spinner-inverse", ctx.inverseClass)("spinner-sm", ctx.smallClass)("spinner-md", ctx.mediumClass);
    } }, inputs: { clrInline: "clrInline", clrInverse: "clrInverse", clrSmall: "clrSmall", clrMedium: "clrMedium", assertive: ["clrAssertive", "assertive"], off: ["clrOff", "off"] }, features: [ɵngcc0.ɵɵProvidersFeature([ClrAriaLiveService])], ngContentSelectors: _c0, decls: 1, vars: 0, template: function ClrSpinner_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵprojectionDef();
        ɵngcc0.ɵɵprojection(0);
    } }, encapsulation: 2 });
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(ClrSpinner, [{
        type: Component,
        args: [{
                selector: 'clr-spinner',
                providers: [ClrAriaLiveService],
                template: "\n    <ng-content></ng-content>\n  ",
                host: {
                    '[attr.aria-busy]': 'true'
                }
            }]
    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ClrAriaLiveService }]; }, { spinnerClass: [{
            type: HostBinding,
            args: ['class.spinner']
        }], inlineClass: [{
            type: HostBinding,
            args: ['class.spinner-inline']
        }], clrInline: [{
            type: Input,
            args: ['clrInline']
        }], inverseClass: [{
            type: HostBinding,
            args: ['class.spinner-inverse']
        }], clrInverse: [{
            type: Input,
            args: ['clrInverse']
        }], smallClass: [{
            type: HostBinding,
            args: ['class.spinner-sm']
        }], clrSmall: [{
            type: Input,
            args: ['clrSmall']
        }], mediumClass: [{
            type: HostBinding,
            args: ['class.spinner-md']
        }], clrMedium: [{
            type: Input,
            args: ['clrMedium']
        }], assertive: [{
            type: Input,
            args: ['clrAssertive']
        }], off: [{
            type: Input,
            args: ['clrOff']
        }] }); })();
    return ClrSpinner;
}());
export { ClrSpinner };

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3Bpbm5lci5qcyIsInNvdXJjZXMiOlsibmc6L0BjbHIvYW5ndWxhci9wcm9ncmVzcy9zcGlubmVyL3NwaW5uZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILE9BQU8sRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFFLFdBQVcsRUFBRSxVQUFVLEVBQUUsYUFBYSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ3pGLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxNQUFNLGdEQUFnRCxDQUFDO0FBQ3ZGLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxxQkFBcUIsRUFBRSxNQUFNLG9DQUFvQyxDQUFDOzs7O0FBWS9GO0FBQThDLElBQzVDLG9CQUFvQixFQUFjLEVBQVUsZUFBbUM7QUFBSSxRQUEvRCxPQUFFLEdBQUYsRUFBRSxDQUFZO0FBQUMsUUFBUyxvQkFBZSxHQUFmLGVBQWUsQ0FBb0I7QUFBQyxJQUFFLENBQUM7QUFDckYsSUFDRSxvQ0FBZSxHQUFmO0FBQWMsUUFDWixJQUFJLENBQUMsZUFBZSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLGFBQWEsRUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDeEUsSUFBRSxDQUFDO0FBRUgsSUFJRSxzQkFBSSxvQ0FBWTtBQUFJLFFBSnBCO0FBQ0Y7QUFFQSxXQURLO0FBQ0wsYUFDRTtBQUFjLFlBQ1osT0FBTyxJQUFJLENBQUM7QUFDaEIsUUFBRSxDQUFDO0FBRUg7QUFDZTtBQUNELE9BSlg7QUFDSCxJQUlFLHNCQUFJLG1DQUFXO0FBQUksYUFBbkI7QUFBYyxZQUNaLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQztBQUN4QixRQUFFLENBQUM7QUFFSDtBQUNJO0FBQTJCLE9BSDVCO0FBQ0gsSUFFRSxzQkFBSSxpQ0FBUztBQUFJLGFBQWpCLFVBQWMsS0FBdUI7QUFDdkMsWUFBSSxJQUFJLENBQUMsT0FBTyxHQUFHLHFCQUFxQixDQUFDLEtBQUss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QywyQ0FBYTtJQXJHbkIsVUFBVSx3QkFWdEIsU0FBUyxDQUFDLGNBQ1QsUUFBUSxFQUFFLGFBQWEsY0FDdkIsU0FBUyxFQUFFLENBQUMsa0JBQWtCLENBQUMsY0FDL0IsUUFBUSxFQUFFO2dCQUVULGNBQ0QsSUFBSSxFQUFFLGtCQUNKLGtCQUFrQixFQUFFLE1BQU0sZUFDM0IsVUFDRixDQUFDLFFBQ1csVUFBVSxDQStHdEI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O29CQUNEO0FBQUMsSUFERCxpQkFBQztBQUNBLENBREEsQUEvR0QsSUErR0M7QUFDRCxTQWhIYSxVQUFVO0FBQUkiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQ29weXJpZ2h0IChjKSAyMDE2LTIwMjAgVk13YXJlLCBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBUaGlzIHNvZnR3YXJlIGlzIHJlbGVhc2VkIHVuZGVyIE1JVCBsaWNlbnNlLlxuICogVGhlIGZ1bGwgbGljZW5zZSBpbmZvcm1hdGlvbiBjYW4gYmUgZm91bmQgaW4gTElDRU5TRSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBwcm9qZWN0LlxuICovXG5pbXBvcnQgeyBDb21wb25lbnQsIElucHV0LCBIb3N0QmluZGluZywgRWxlbWVudFJlZiwgQWZ0ZXJWaWV3SW5pdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgaXNCb29sZWFuQXR0cmlidXRlU2V0IH0gZnJvbSAnLi4vLi4vdXRpbHMvY29tcG9uZW50L2lzLWJvb2xlYW4tYXR0cmlidXRlLXNldCc7XG5pbXBvcnQgeyBDbHJBcmlhTGl2ZVNlcnZpY2UsIENsckFyaWFMaXZlUG9saXRlbmVzcyB9IGZyb20gJy4uLy4uL3V0aWxzL2ExMXkvYXJpYS1saXZlLnNlcnZpY2UnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdjbHItc3Bpbm5lcicsXG4gIHByb3ZpZGVyczogW0NsckFyaWFMaXZlU2VydmljZV0sXG4gIHRlbXBsYXRlOiBgXG4gICAgPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PlxuICBgLFxuICBob3N0OiB7XG4gICAgJ1thdHRyLmFyaWEtYnVzeV0nOiAndHJ1ZScsXG4gIH0sXG59KVxuZXhwb3J0IGNsYXNzIENsclNwaW5uZXIgaW1wbGVtZW50cyBBZnRlclZpZXdJbml0IHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBlbDogRWxlbWVudFJlZiwgcHJpdmF0ZSBhcmlhTGl2ZVNlcnZpY2U6IENsckFyaWFMaXZlU2VydmljZSkge31cblxuICBuZ0FmdGVyVmlld0luaXQoKSB7XG4gICAgdGhpcy5hcmlhTGl2ZVNlcnZpY2UuYW5ub3VuY2UodGhpcy5lbC5uYXRpdmVFbGVtZW50LCB0aGlzLmFyaWFMaXZlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWZhdWx0IGNsYXNzIGZvciBhbGwgc3Bpbm5lcnMuIFRoaXMgY2xhc3MgaXMgYWx3YXlzIHRydWVcbiAgICovXG4gIEBIb3N0QmluZGluZygnY2xhc3Muc3Bpbm5lcicpXG4gIGdldCBzcGlubmVyQ2xhc3MoKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBTdHlsZVxuICBwcml2YXRlIF9pbmxpbmU6IGJvb2xlYW47XG4gIEBIb3N0QmluZGluZygnY2xhc3Muc3Bpbm5lci1pbmxpbmUnKVxuICBnZXQgaW5saW5lQ2xhc3MoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lubGluZTtcbiAgfVxuXG4gIEBJbnB1dCgnY2xySW5saW5lJylcbiAgc2V0IGNscklubGluZSh2YWx1ZTogYm9vbGVhbiB8IHN0cmluZykge1xuICAgIHRoaXMuX2lubGluZSA9IGlzQm9vbGVhbkF0dHJpYnV0ZVNldCh2YWx1ZSk7XG4gIH1cblxuICBwcml2YXRlIF9pbnZlcnNlOiBib29sZWFuO1xuICBASG9zdEJpbmRpbmcoJ2NsYXNzLnNwaW5uZXItaW52ZXJzZScpXG4gIGdldCBpbnZlcnNlQ2xhc3MoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ludmVyc2U7XG4gIH1cblxuICBASW5wdXQoJ2NsckludmVyc2UnKVxuICBzZXQgY2xySW52ZXJzZSh2YWx1ZTogYm9vbGVhbiB8IHN0cmluZykge1xuICAgIHRoaXMuX2ludmVyc2UgPSBpc0Jvb2xlYW5BdHRyaWJ1dGVTZXQodmFsdWUpO1xuICB9XG5cbiAgLy8gU2l6ZVxuICAvKipcbiAgICogQnkgZGVmYXVsdCBhbGwgc3Bpbm5lcnMgYXJlIExhcmdlLiAoc3Bpbm5lci1sZylcbiAgICogVG8gY2hhbmdlIHRoZSBzaXplIHlvdSBuZWVkIHRvIHVzZSBzZXQgY2xyU21hbGwgb3IgY2xyTWVkaXVtIHRvIFRSVUUvXG4gICAqL1xuXG4gIC8qKlxuICAgKiBTbWFsbFxuICAgKi9cbiAgcHJpdmF0ZSBfc21hbGw6IGJvb2xlYW47XG4gIEBIb3N0QmluZGluZygnY2xhc3Muc3Bpbm5lci1zbScpXG4gIGdldCBzbWFsbENsYXNzKCkge1xuICAgIHJldHVybiB0aGlzLl9zbWFsbDtcbiAgfVxuXG4gIEBJbnB1dCgnY2xyU21hbGwnKVxuICBzZXQgY2xyU21hbGwodmFsdWU6IGJvb2xlYW4gfCBzdHJpbmcpIHtcbiAgICB0aGlzLl9zbWFsbCA9IGlzQm9vbGVhbkF0dHJpYnV0ZVNldCh2YWx1ZSk7XG4gIH1cblxuICAvKipcbiAgICogV2hlbiBjbHJTbWFsbCAmIGNsck1lZGl1bSBhcmUgc2V0IGJvdGggdG8gdHJ1ZS5cbiAgICogVGhlIENTUyB3aXRoIGhpZ2ggcHJpb3JpdHkgd2lsbCBiZSBzbWFsbCAtIHNvIG1lZGl1bSBzaXplIHdpbGwgYmUgaWdub3JlZC5cbiAgICpcbiAgICogRm9yIHRoaXMgcmVhc29uIGlmIGNsclNtYWxsIGlzIHNldCB3ZSB3b24ndCBhZGQgY2xyTWVkaXVtIGNsYXNzLlxuICAgKlxuICAgKiBOT1RFOiBUaGlzIGlzIGRpY3RhdGVkIGJ5IHRoZSBDU1MgcnVsZXMuXG4gICAqIERPTidUIFVTRSBjbHJTbWFsbCAmIGNsck1lZGl1bSB0byB0b2dnbGUgY2xhc3Nlcy4gVGhpcyBjb3VsZCBjaGFuZ2Ugd2l0aG91dCBub3RpY2UuXG4gICAqXG4gICAqIEFsc28gdGhlcmUgaXMgbm8gbG9naWNhbCBuZWVkIHRvIGhhdmUgYm90aCBvZiB0aGVtIHNldCB0byBUUlVFIG9yIEZBTFNFLlxuICAgKi9cbiAgcHJpdmF0ZSBfbWVkaXVtOiBib29sZWFuO1xuICBASG9zdEJpbmRpbmcoJ2NsYXNzLnNwaW5uZXItbWQnKVxuICBnZXQgbWVkaXVtQ2xhc3MoKSB7XG4gICAgaWYgKHRoaXMuX3NtYWxsKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9tZWRpdW07XG4gIH1cblxuICBASW5wdXQoJ2Nsck1lZGl1bScpXG4gIHNldCBjbHJNZWRpdW0odmFsdWU6IGJvb2xlYW4gfCBzdHJpbmcpIHtcbiAgICB0aGlzLl9tZWRpdW0gPSBpc0Jvb2xlYW5BdHRyaWJ1dGVTZXQodmFsdWUpO1xuICB9XG5cbiAgLy8gQXJpYSBMaXZlXG5cbiAgLyoqXG4gICAqIEJ5IGRlZmF1bHQgYXJpYS1saXZlIHdpbGwgYmUgc2V0IHRvIGBwb2xpdGVgIC5cbiAgICogVG8gY2hhbmdlIGlzIGl0IHlvdSBuZWVkIHRvIHNldCBjbHJBc3NlcnRpdmUgb3IgY2xyT2ZmIHRvIFRSVUVcbiAgICpcbiAgICogVGhlcmUgaXMgcHJpb3JpdHk6XG4gICAqICAgRGVmYXVsdDogcG9saXRlXG4gICAqICAgQXNlcnRpdmVcbiAgICogICBPZmZcbiAgICpcbiAgICogSW4gY2FzZSB3aGVuIGZvciBzb21lIHJlYXNvbiB5b3UgaGF2ZSBjbHJBc3NlcnRpdmU9VFJVRSBhbmQgY2xyT2ZmPVRSVUUsXG4gICAqIHdlIGdvbm5hIHNldCBgYXNzZXJ0aXZlYCBhcyB2YWx1ZSBvZiBhcmlhLWxpdmUuXG4gICAqXG4gICAqL1xuICAvKiogQGRlcHJlY2F0ZWQgc2luY2UgMy4wLCByZW1vdmUgaW4gNC4wICovXG4gIEBJbnB1dCgnY2xyQXNzZXJ0aXZlJykgYXNzZXJ0aXZlOiBib29sZWFuO1xuICAvKiogQGRlcHJlY2F0ZWQgc2luY2UgMy4wLCByZW1vdmUgaW4gNC4wICovXG4gIEBJbnB1dCgnY2xyT2ZmJykgb2ZmOiBib29sZWFuO1xuICBnZXQgYXJpYUxpdmUoKTogQ2xyQXJpYUxpdmVQb2xpdGVuZXNzIHtcbiAgICBpZiAoaXNCb29sZWFuQXR0cmlidXRlU2V0KHRoaXMuYXNzZXJ0aXZlKSkge1xuICAgICAgcmV0dXJuIENsckFyaWFMaXZlUG9saXRlbmVzcy5hc3NlcnRpdmU7XG4gICAgfVxuICAgIGlmIChpc0Jvb2xlYW5BdHRyaWJ1dGVTZXQodGhpcy5vZmYpKSB7XG4gICAgICByZXR1cm4gQ2xyQXJpYUxpdmVQb2xpdGVuZXNzLm9mZjtcbiAgICB9XG4gICAgcmV0dXJuIENsckFyaWFMaXZlUG9saXRlbmVzcy5wb2xpdGU7XG4gIH1cbn1cbiJdfQ==